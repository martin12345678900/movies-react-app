(this["webpackJsonpmovie-react-app-updated"]=this["webpackJsonpmovie-react-app-updated"]||[]).push([[0],{101:function(e,t,n){},102:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){},17:function(e,t,n){e.exports={loader:"Loader_loader__1HtLa",dot:"Loader_dot__2T9aA",dot1:"Loader_dot1__2C5YS",dot2:"Loader_dot2__NMjdT",dot3:"Loader_dot3__17RD4",dot4:"Loader_dot4__3eDyv",reveal:"Loader_reveal__3s-I9",slide:"Loader_slide__1Fty4"}},203:function(e,t,n){},204:function(e,t,n){},205:function(e,t,n){},206:function(e,t,n){},207:function(e,t,n){},208:function(e,t,n){},209:function(e,t,n){},210:function(e,t,n){},211:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(38),s=n.n(c),i=(n(88),n(89),n(7)),o=n(6),u=(n(90),n(0));var l=function(){return Object(u.jsx)("div",{className:"Logo",children:Object(u.jsx)(i.b,{to:"/",children:Object(u.jsx)("img",{src:"https://th.bing.com/th/id/R.5eebdba556754091bfcae7839bd65da6?rik=7mP2jf6zMqYapw&pid=ImgRaw&r=0",alt:"logo"})})})},d=n(4),m=n(2),p=n.n(m),j=n(3),h=n(23),b={isAuthenticated:!1,userAuthState:{accessToken:null,_id:null,username:null}},f=Object(h.b)("auth/authenticate",function(){var e=Object(j.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://cars-react-app-server.herokuapp.com/users/".concat(t.endpoint.toLowerCase()),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t.userDataObj)});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),O=Object(h.c)({name:"auth-slice",initialState:b,reducers:{handleLogout:function(e){e.userAuthState=b.userAuthState,e.isAuthenticated=b.isAuthenticated}},extraReducers:function(e){e.addCase(f.fulfilled,(function(e,t){e.isAuthenticated=!0,e.userAuthState={accessToken:t.payload.accessToken,_id:t.payload._id,username:t.payload.username}})),e.addCase(f.rejected,(function(e){e.isAuthenticated=b.isAuthenticated,e.userAuthState=b.userAuthState}))}}),x=O.actions.handleLogout,v=O.reducer,_=(n(97),n(98),r.a.memo((function(e){var t=e.isActive,n=e.toogle;return Object(u.jsx)("button",{onClick:n,className:"hamburger hamburger--spin ".concat(t&&"is-active"),type:"button",children:Object(u.jsx)("span",{className:"hamburger-box",children:Object(u.jsx)("span",{className:"hamburger-inner"})})})}))),C=n(31),N=n(9),y=n(79),w=n.n(y),A=n(16),k=Object(h.c)({name:"cart-slice",initialState:{items:[],totalPrice:0,totalQuantity:0},reducers:{addNewCartItem:function(e,t){var n=t.payload,a=e.items.find((function(e){return e._id===n._id}));a?(e.totalPrice+=Number(a.price),a.quantity++):(e.items.push(n),e.totalPrice+=Number(n.price)),e.totalQuantity++},deleteCartItem:function(e,t){var n=e.items.find((function(e){return e._id===t.payload}));e.items.splice(e.items.indexOf(n),1),e.totalQuantity-=Number(n.quantity),e.totalPrice-=Number(n.price)*Number(n.quantity)},decreaseCartItemQuantity:function(e,t){var n=e.items.find((function(e){return e._id===t.payload}));e.totalPrice-=Number(n.price),n.quantity--,e.totalQuantity--,0===n.quantity&&(e.items=e.items.filter((function(e){return e._id!==n._id})))},checkout:function(e){e.items=[],e.totalPrice=0,e.totalQuantity=0}}}),g=k.actions,E=k.reducer,I=Object(N.b)({auth:v,cart:E}),T={key:"root",version:1,storage:w.a},S=Object(A.g)(T,I),D=Object(h.a)({reducer:S,middleware:function(e){return e({serializableCheck:{ignoredActions:[A.a,A.f,A.b,A.c,A.d,A.e]}})}}),L=C.c,R=function(){return Object(C.b)()},M=D,F=function(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),n=t[0],r=t[1],c=L((function(e){return e.auth.isAuthenticated})),s=L((function(e){return e.cart.totalQuantity})),o=R(),l=Object(a.useCallback)((function(){return r((function(e){return!e}))}),[]);return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("nav",{className:"Nav",children:[Object(u.jsx)("ul",{className:"Nav__list ".concat(n?"Nav__list--active":"Nav__list--unactive"),children:c?Object(u.jsxs)(a.Fragment,{children:[Object(u.jsx)("li",{children:Object(u.jsxs)(i.b,{to:"/cart",children:["Cart ",s]})}),Object(u.jsx)("li",{children:Object(u.jsx)(i.b,{to:"/movies/create",children:"Create Movie Article"})}),Object(u.jsx)("li",{children:Object(u.jsx)(i.b,{to:"/",onClick:function(){return o(x())},children:"Logout"})}),Object(u.jsx)("li",{children:Object(u.jsx)(i.b,{to:"/filter",children:"Search Movies"})})]}):Object(u.jsxs)(a.Fragment,{children:[Object(u.jsx)("li",{children:Object(u.jsx)(i.b,{to:"/auth/register",children:"Sign up"})}),Object(u.jsx)("li",{children:Object(u.jsx)(i.b,{to:"/auth/login",children:"Sign in"})})]})}),Object(u.jsx)(_,{isActive:n,toogle:l})]})})};n(101);var q=function(){return Object(u.jsxs)("header",{className:"Header",children:[Object(u.jsx)(l,{}),Object(u.jsx)(F,{})]})},P=n(8);n(102);var U=function(){return Object(u.jsx)("section",{className:"HomeWrapper",children:Object(u.jsx)("article",{className:"Home",children:Object(u.jsxs)("h2",{className:"HomeDetails",children:[Object(u.jsx)("span",{className:"HomeDetails__title",children:"Movies Forum"}),Object(u.jsx)("span",{className:"HomeDetails__description",children:"Search for newest movies, post new movies, share opinions and likes anywhere, anytime!"})]})})})};function V(e,t){return B.apply(this,arguments)}function B(){return(B=Object(j.a)(p.a.mark((function e(t,n){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,n);case 3:if((a=e.sent).ok){e.next=12;break}return e.t0=Error,e.next=8,a.json();case 8:throw e.t1=e.sent.message,new e.t0(e.t1);case 12:return e.next=14,a.json();case 14:return r=e.sent,e.abrupt("return",r);case 16:e.next=22;break;case 18:throw e.prev=18,e.t2=e.catch(0),alert(e.t2.message),new Error(e.t2.message||"Something went wrong !!!");case 22:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}function H(e,t,n){var a={method:e,headers:{}};return t&&(a.headers["X-Authorization"]=t),n&&(a.headers["Content-Type"]="application/json",a.body=JSON.stringify(n)),a}var Q="https://cars-react-app-server.herokuapp.com";function W(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(j.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(Q+t,H("GET"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e,t,n){return z.apply(this,arguments)}function z(){return(z=Object(j.a)(p.a.mark((function e(t,n,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(Q+t,H("POST",n,a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e,t,n){return Z.apply(this,arguments)}function Z(){return(Z=Object(j.a)(p.a.mark((function e(t,n,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(Q+t,H("PUT",n,a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e,t){return K.apply(this,arguments)}function K(){return(K=Object(j.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(Q+t,H("DELETE",n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(){return ee.apply(this,arguments)}function ee(){return(ee=Object(j.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W("/data/movies");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e,t){return ne.apply(this,arguments)}function ne(){return(ne=Object(j.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G("/data/movies",t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(){return(ae=Object(j.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$("/data/movies/".concat(t),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){return(re=Object(j.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W("/data/likes?where=movieId%3D%22".concat(t,"%22&distinct=_ownerId&count"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(){return(ce=Object(j.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W("/data/comments?where=movieId%3D%22".concat(t,"%22&distinct=_ownerId&count"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e){return ie.apply(this,arguments)}function ie(){return(ie=Object(j.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W("/data/movies/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e,t){return ue.apply(this,arguments)}function ue(){return(ue=Object(j.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W("/data/likes?where=movieId%3D%22".concat(t,"%22%20and%20_ownerId%3D%22").concat(n,"%22"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(e,t){return de.apply(this,arguments)}function de(){return(de=Object(j.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G("/data/likes",t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function me(e){return pe.apply(this,arguments)}function pe(){return(pe=Object(j.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W("/data/comments?where=movieId%3D%22".concat(t,"%22"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(e,t){return he.apply(this,arguments)}function he(){return(he=Object(j.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G("/data/comments",t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(e,t){return fe.apply(this,arguments)}function fe(){return(fe=Object(j.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$("/data/comments/".concat(t),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(e,t,n){return xe.apply(this,arguments)}function xe(){return(xe=Object(j.a)(p.a.mark((function e(t,n,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J("/data/movies/".concat(t),n,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(103);var ve=function(e){var t=e._id,n=e.img,r=e.price,c=e.title,s=e.description,o=Object(a.useState)(0),l=Object(d.a)(o,2),m=l[0],p=l[1],j=Object(a.useState)(0),h=Object(d.a)(j,2),b=h[0],f=h[1],O=R(),x=L((function(e){return e.cart.items})),v=L((function(e){return e.auth.isAuthenticated}));Object(a.useEffect)((function(){(function(e){return re.apply(this,arguments)})(t).then((function(e){return p(e)}))}),[t]),Object(a.useEffect)((function(){(function(e){return ce.apply(this,arguments)})(t).then((function(e){return f(e)}))}),[t]);return Object(u.jsxs)("div",{className:"CardWrapper",children:[Object(u.jsxs)("div",{className:"Card Front",children:[Object(u.jsxs)("article",{children:[Object(u.jsx)("img",{className:"CardImage",src:n,alt:"Movie Card"}),Object(u.jsx)("h3",{className:"CardTitle",children:c})]}),Object(u.jsx)("article",{className:"card-footer",children:Object(u.jsx)(i.b,{to:"/movies/details/".concat(t),className:"CardButton",children:"Details"})}),Object(u.jsxs)("span",{className:"CardLikes",children:[m," Likes \ud83d\udc4d"]}),Object(u.jsxs)("span",{className:"CardComments",children:[b," Comments \ud83d\udcad"]})]}),Object(u.jsxs)("div",{className:"Card Back",children:[Object(u.jsxs)("span",{className:"Back__price",children:[r,"$"]}),Object(u.jsxs)("div",{className:"Back__buttons",children:[v&&Object(u.jsx)("button",{onClick:function(){var e=x.find((function(e){return e._id===t})),a=e?e.quantity:1;O(g.addNewCartItem({title:c,quantity:a,description:s,img:n,price:r,_id:t}))},className:"Back__cartBtn",type:"button",children:"Add To Cart"}),Object(u.jsx)(i.b,{to:"/movies/details/".concat(t),className:"".concat(!v&&"Back__detBtn--incorrect"," Back__detBtn"),children:"Check Details"})]})]})]})},_e=n(17),Ce=n.n(_e);var Ne=function(){return Object(u.jsxs)("div",{className:Ce.a.loader,children:[Object(u.jsx)("div",{className:[Ce.a.dot,Ce.a.dot1].join(" ")}),Object(u.jsx)("div",{className:[Ce.a.dot,Ce.a.dot2].join(" ")}),Object(u.jsx)("div",{className:[Ce.a.dot,Ce.a.dot3].join(" ")}),Object(u.jsx)("div",{className:[Ce.a.dot,Ce.a.dot4].join(" ")})]})};n(104);var ye=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!0),s=Object(d.a)(c,2),i=s[0],o=s[1];return Object(a.useEffect)((function(){o(!0),X().then((function(e){return r(e)})).finally((function(){return o(!1)}))}),[]),i?Object(u.jsx)(Ne,{}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(U,{}),Object(u.jsx)("section",{children:Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{className:"Heading",children:"Movie Articles"}),Object(u.jsx)("div",{className:"HeadingWrapper",children:n.map((function(e){return Object(u.jsx)(ve,Object(P.a)({},e),e._id)}))})]})})]})},we=n(14),Ae=we.b().shape({email:we.d().email("Invalid email format!").max(25,"Your email must not be longer than 25 charackters!").min(10,"Your email should be at least 10 charackters!").required("Required email field!"),password:we.d().min(6,"Password must be at least 6 charcakters!").max(15,"Password should not be longer than 15 charackters!").matches(/[A-Za-z0-9]+/,"Password should contain uppercase,lowercase charackters and digits!").required("Required password field!"),repassword:we.d().oneOf([we.c("password"),null],"Passwords must match!").required("Required repassword field!"),username:we.d().matches(/[A-Z][A-Za-z0-9]+/,"Username have to start with uppercase letter and continue with lowercase or digits!").required("Required username field!")}),ke=n(40);var ge=function(e){var t=Object(a.useState)(e),n=Object(d.a)(t,2),r=n[0],c=n[1];return[r,function(e){c((function(t){return Object(P.a)(Object(P.a)({},t),{},Object(ke.a)({},e.target.name,e.target.value))}))},function(){var e=Object(j.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.validate(r);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.errors[0]);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()]};n(77);var Ee=function(){var e=ge({}),t=Object(d.a)(e,3),n=t[0],r=t[1],c=t[2],s=Object(a.useState)(null),i=Object(d.a)(s,2),l=i[0],m=i[1],h=R(),b=Object(o.f)(),O=function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a,r,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,c(Ae);case 3:"object"!==typeof(n=e.sent)?m(n):(a=n.email,r=n.username,s=n.password,h(f({endpoint:"REGISTER",userDataObj:{email:a,username:r,password:s}})),b.push("/"));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)("section",{className:"Auth",children:Object(u.jsx)("div",{className:"Main",children:Object(u.jsx)("div",{className:"AuthCreate",children:Object(u.jsxs)("form",{onSubmit:O,children:[Object(u.jsx)("h2",{className:"AuthCreate__title",children:"CREATE ACCOUNT"}),l&&Object(u.jsx)("div",{className:"error",children:l}),Object(u.jsx)("input",{className:"AuthCreate__user",type:"text",placeholder:"\ud83d\udd11  YOUR USERNAME",name:"username",onChange:r,value:n.username}),Object(u.jsx)("input",{className:"AuthCreate__email",type:"email",placeholder:"\ud83d\udce7 YOUR EMAIL",name:"email",onChange:r,value:n.email}),Object(u.jsx)("input",{className:"AuthCreate__pass",type:"password",placeholder:"\ud83d\udd12 PASSWORD",name:"password",onChange:r,value:n.password}),Object(u.jsx)("input",{className:"AuthCreate__pass",type:"password",placeholder:"\ud83d\udd13 CONFIRM PASSWORD",name:"repassword",onChange:r,value:n.repassword}),Object(u.jsx)("button",{type:"submit",className:"AuthCreate__btn",children:"Create Account"})]})})})})};var Ie=function(){var e=ge({}),t=Object(d.a)(e,2),n=t[0],a=t[1],r=R(),c=Object(o.f)(),s=void 0===n.email&&void 0===n.password;console.log(s);var i=function(){var e=Object(j.a)(p.a.mark((function e(t){var a,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=n.email,s=n.password,r(f({endpoint:"LOGIN",userDataObj:{email:a,password:s}})),c.push("/");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)("section",{className:"Auth",children:Object(u.jsx)("div",{className:"Main",children:Object(u.jsx)("div",{className:"AuthCreate",children:Object(u.jsxs)("form",{onSubmit:i,children:[Object(u.jsx)("h2",{className:"AuthCreate__title",children:"SIGN UP"}),Object(u.jsx)("input",{className:"AuthCreate__email",type:"email",name:"email",placeholder:"\ud83d\udce7 YOUR EMAIL",onChange:a,value:n.email}),Object(u.jsx)("input",{className:"AuthCreate__pass",type:"password",name:"password",placeholder:"\ud83d\udd12 PASSWORD",onChange:a,value:n.password}),Object(u.jsx)("button",{type:"submit",className:"AuthCreate__btn",disabled:s,children:"LOG IN"})]})})})})},Te=we.b().shape({title:we.d().max(20,"Title must not be longer than 20 symbols!").required("Required title field!"),description:we.d().max(100,"Description must not be longer than 100 symbols!").required("Required description field!"),img:we.d().required("Required image field!"),price:we.a().required("Required price field!")});n(78);var Se=function(){var e=ge({}),t=Object(d.a)(e,3),n=t[0],r=t[1],c=t[2],s=Object(a.useState)(null),i=Object(d.a)(s,2),l=i[0],m=i[1],h=L((function(e){return e.auth.userAuthState.accessToken})),b=Object(o.f)(),f=function(){var e=Object(j.a)(p.a.mark((function e(t){var n,a,r,s,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,c(Te);case 3:if("object"===typeof(n=e.sent)){e.next=8;break}m(l),e.next=12;break;case 8:return a=n.title,r=n.description,s=n.price,i=n.img,e.next=11,te(h,{title:a,description:r,price:s,img:i,likes:0});case 11:b.push("/");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)("section",{className:"Create",children:Object(u.jsxs)("div",{className:"CreateWrapper",children:[Object(u.jsx)("h2",{className:"FormTitle",children:"CREATE MOVIE ARTICLE"}),Object(u.jsxs)("form",{className:"Form",onSubmit:f,children:[l&&Object(u.jsx)("div",{className:"error",children:l}),Object(u.jsx)("input",{className:"Form__title",type:"text",name:"title",placeholder:"ENTER MOVIE TITLE",onChange:r,value:n.title}),Object(u.jsx)("textarea",{className:"Form__description",name:"description",placeholder:"ENTER MOVIE DESCRIPTION",onChange:r,value:n.description}),Object(u.jsx)("input",{className:"Form__image",type:"text",name:"img",placeholder:"ENTER MOVIE IMAGE URL",onChange:r,value:n.img}),Object(u.jsx)("input",{className:"Form__price",type:"number",name:"price",placeholder:"ENTER MOVIE PRICE",onChange:r,value:n.price}),Object(u.jsx)("button",{className:"Form__btn",type:"submit",children:"CREATE"})]})]})})},De=(n(203),function(e){var t=e.content,n=e.author,a=e.deleteCurrentComment;return Object(u.jsx)("div",{className:"CommentUser",children:Object(u.jsxs)("p",{className:"CommentContent",children:["\ud83d\udcad ",t,a&&Object(u.jsx)("button",{onClick:a,className:"CommentDelete",children:"\u2716"}),Object(u.jsxs)("i",{className:"CommentName",children:["- ",n]})]})})}),Le=(n(204),r.a.memo((function(e){var t=e.movieArticle,n=e.movieArticleComments,r=e.postMovieArticleComment,c=e.removeMovieArticleCommentHandler,s=Object(a.useRef)(null),i=L((function(e){return e.auth})),o=i.userAuthState,l=i.isAuthenticated,d=function(){var e=Object(j.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,r(o.username,s.current.value);case 3:s.current.value="";case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:"Comments",children:[Object(u.jsx)("h2",{className:"Comments__title",children:"Leave your comments here: \ud83d\udcac"}),n.map((function(e){return Object(u.jsx)(De,{content:e.content,author:e.author,deleteCurrentComment:o._id===e._ownerId&&c.bind(null,e._id)},e._id)})),o._id!==t._ownerId&&l&&Object(u.jsxs)("form",{onSubmit:d,className:"CommentForm",children:[Object(u.jsx)("textarea",{className:"CommentForm__input",name:"content",placeholder:"Enter your expression from this movie",rows:5,cols:50,ref:s}),Object(u.jsx)("button",{className:"CommentForm__submit",type:"submit",children:"Post comment"})]})]})}))),Re=(n(205),r.a.memo((function(e){var t=e.postMovieArticleLike,n=e.movieArticle,a=e.movieArticleLikesFromUser,r=L((function(e){return e.auth})),c=r.userAuthState,s=r.isAuthenticated,i=L((function(e){return e.cart.items})),l=R(),d=Object(o.f)();if(!s)return Object(u.jsx)(u.Fragment,{});return Object(u.jsx)("div",{className:"ButtonsWrapper",children:c._id!==n._ownerId?Object(u.jsxs)("div",{className:"User",children:[0===a.length&&Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("button",{onClick:t,className:"User__like User__btn",children:"Like \ud83d\udc4d"})}),Object(u.jsx)("button",{onClick:function(){var e=i.find((function(e){return e._id===n._id})),t=e?e.quantity:1;l(g.addNewCartItem({title:n.title,quantity:t,description:n.description,img:n.img,price:n.price,_id:n._id}))},className:"User__add",children:"Add"})]}):Object(u.jsxs)("div",{className:"Owner",children:[Object(u.jsx)("button",{onClick:function(){return function(e,t){return ae.apply(this,arguments)}(n._id,c.accessToken).then((function(){return d.push("/")}))},className:"Owner__delete Owner__btn",children:"\u274c Delete"}),Object(u.jsx)("button",{onClick:function(){return d.push({pathname:"/movies/edit/".concat(n._id),state:n})},className:"Owner__edit Owner__btn",children:"\u270d Edit"})]})})}))),Me=n(11),Fe={data:{movieArticle:{},movieArticleComments:[],movieArticleLikesFromUser:[]},UI:{isDataLoaded:!1}};function qe(e,t){switch(t.type){case"SET_MOVIE_ARTICLE_DATA":return{UI:{isDataLoaded:!0},data:{movieArticle:{_ownerId:t.payload.movieArticle._ownerId,title:t.payload.movieArticle.title,description:t.payload.movieArticle.description,_id:t.payload.movieArticle._id,img:t.payload.movieArticle.img,price:Number(t.payload.movieArticle.price)},movieArticleComments:t.payload.movieArticleComments,movieArticleLikesFromUser:t.payload.movieArticleLikesFromUser}};case"ADD_MOVIE_ARTICLE_COMMENT":return Object(P.a)(Object(P.a)({},e),{},{data:Object(P.a)(Object(P.a)({},e.data),{},{movieArticleComments:[].concat(Object(Me.a)(e.data.movieArticleComments),[t.payload])})});case"DELETE_MOVIE_ARTICLE_COMMENT":return Object(P.a)(Object(P.a)({},e),{},{data:Object(P.a)(Object(P.a)({},e.data),{},{movieArticleComments:e.data.movieArticleComments.filter((function(e){return e._id!==t.payload}))})});case"ADD_MOVIE_ARTICLE_LIKE":return Object(P.a)(Object(P.a)({},e),{},{data:Object(P.a)(Object(P.a)({},e.data),{},{movieArticleLikesFromUser:[t.payload]})});default:throw new Error("Should not reach that case!Bad action!")}}n(206);var Pe=function(){var e=Object(a.useReducer)(qe,Fe),t=Object(d.a)(e,2),n=t[0],r=t[1],c=Object(o.g)().movieId,s=L((function(e){return e.auth.userAuthState})),i=s.accessToken,l=s._id;Object(a.useEffect)((function(){(function(){var e=Object(j.a)(p.a.mark((function e(){var t,n,a,s,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([se(c),me(c),oe(c,l)]);case 2:t=e.sent,n=Object(d.a)(t,3),a=n[0],s=n[1],i=n[2],r({type:"SET_MOVIE_ARTICLE_DATA",payload:{movieArticle:a,movieArticleComments:s,movieArticleLikesFromUser:i}});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[c,l]);var m=Object(a.useCallback)(function(){var e=Object(j.a)(p.a.mark((function e(t,n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je(i,{movieId:c,author:t,content:n});case 2:a=e.sent,r({type:"ADD_MOVIE_ARTICLE_COMMENT",payload:a});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[c,i]),h=Object(a.useCallback)(function(){var e=Object(j.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be(t,i);case 2:r({type:"DELETE_MOVIE_ARTICLE_COMMENT",payload:t});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[i]),b=Object(a.useCallback)(Object(j.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le(i,{movieId:c});case 2:t=e.sent,r({type:"ADD_MOVIE_ARTICLE_LIKE",payload:t});case 4:case"end":return e.stop()}}),e)}))),[i,c]);return n.UI.isDataLoaded?Object(u.jsx)("section",{className:"Details",children:Object(u.jsxs)("div",{className:"Container",children:[Object(u.jsxs)("h1",{className:"ContainerTitle",children:["Movie title: ",n.data.movieArticle.title]}),Object(u.jsx)("img",{className:"ContainerImage",src:n.data.movieArticle.img,alt:"movie"}),Object(u.jsxs)("div",{className:"ContainerDetails",children:[Object(u.jsx)("h3",{className:"ContainerDetails__description",children:"Movie Description"}),Object(u.jsx)("p",{className:"ContainerDetails__p",children:n.data.movieArticle.description}),Object(u.jsx)(Re,{postMovieArticleLike:b,movieArticle:n.data.movieArticle,movieArticleLikesFromUser:n.data.movieArticleLikesFromUser}),Object(u.jsx)(Le,{postMovieArticleComment:m,removeMovieArticleCommentHandler:h,movieArticle:n.data.movieArticle,movieArticleComments:n.data.movieArticleComments})]})]})}):Object(u.jsx)(Ne,{})},Ue=(n(207),r.a.memo((function(e){var t=e._id,n=e.price,a=e.quantity,r=e.title,c=e.description,s=e.img,i=e.addNewCartItem,o=e.removeCurrentCartItem,l=e.decreaseCartItemQuantity;return Object(u.jsxs)("div",{className:"Item",children:[Object(u.jsx)("img",{src:s,alt:"item"}),Object(u.jsxs)("div",{className:"Details",children:[Object(u.jsx)("p",{className:"Details__title",children:r}),Object(u.jsx)("p",{className:"Details__description",children:c}),Object(u.jsxs)("p",{className:"Details__price",children:["$ ",n]})]}),Object(u.jsxs)("div",{className:"Actions",children:[Object(u.jsxs)("div",{className:"Actions__quantity",children:[Object(u.jsx)("button",{onClick:function(){return i({_id:t,title:r,description:c,img:s,price:n,quantity:a})},className:"Actions__quantity__manipulate",children:"\u2191"}),Object(u.jsx)("label",{htmlFor:"qty",children:a}),Object(u.jsx)("button",{onClick:function(){return l(t)},className:"Actions__quantity__manipulate",children:"\u2193"})]}),Object(u.jsx)("button",{onClick:function(){return o(t)},className:"Actions__btn",children:"\u274c"})]})]})})));n(208);var Ve=function(){var e=L((function(e){return e.cart})),t=e.totalPrice,n=e.totalQuantity,r=e.items,c=R(),s=null===r||void 0===r?void 0:r.length,o=Object(a.useCallback)((function(e){c(g.addNewCartItem(Object(P.a)({},e)))}),[c]),l=Object(a.useCallback)((function(e){c(g.deleteCartItem(e))}),[c]),d=Object(a.useCallback)((function(e){c(g.decreaseCartItemQuantity(e))}),[c]);return Object(u.jsxs)("div",{className:"Cart ".concat(!s&&"Cart--empty"),children:[r.map((function(e){return Object(u.jsx)(Ue,Object(P.a)({addNewCartItem:o,removeCurrentCartItem:l,decreaseCartItemQuantity:d},e),e._id)})),Object(u.jsxs)("div",{className:"Summary",children:[Object(u.jsx)("h4",{className:"Summary__title",children:"Cart Summary"}),Object(u.jsxs)("div",{className:"CartDetails",children:[Object(u.jsxs)("span",{className:"CartDetails__items",children:["TOTAL: (",n," items)"]}),Object(u.jsxs)("span",{className:"CartDetails__price",children:["$ ",t]})]}),Object(u.jsx)(i.b,{to:"/checkout",className:"Summary__btn",onClick:function(){return c(g.checkout())},children:"Proceed To Checkout"})]})]})};n(209);var Be=function(){return Object(u.jsxs)("div",{className:"Checkout",children:[Object(u.jsx)("h1",{children:"Your order was succesfsul!"}),Object(u.jsx)("h2",{children:"Thank you for choosing our movie shop!"}),Object(u.jsx)(i.b,{to:"/",children:"back to home page"})]})};var He=function(){var e=Object(o.g)().movieId,t=Object(o.f)(),n=t.location.state,a=n.title,r=n.img,c=n.price,s=n.description,i=ge({title:a,img:r,price:c,description:s}),l=Object(d.a)(i,2),m=l[0],h=l[1],b=L((function(e){return e.auth.userAuthState.accessToken})),f=function(){var n=Object(j.a)(p.a.mark((function n(a){var r;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),r={title:m.title,description:m.description,price:m.price,img:m.img},n.next=4,Oe(e,b,r);case 4:t.push("/movies/details/".concat(e));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(u.jsx)("section",{className:"Create",children:Object(u.jsxs)("div",{className:"CreateWrapper",children:[Object(u.jsx)("h2",{className:"FormTitle",children:"EDIT MOVIE ARTICLE"}),Object(u.jsxs)("form",{className:"Form",onSubmit:f,children:[Object(u.jsx)("input",{className:"Form__title",type:"text",name:"title",placeholder:"ENTER MOVIE TITLE",defaultValue:a,onChange:h}),Object(u.jsx)("textarea",{className:"Form__description",name:"description",placeholder:"ENTER MOVIE DESCRIPTION",defaultValue:s,onChange:h}),Object(u.jsx)("input",{className:"Form__image",type:"text",name:"img",placeholder:"ENTER MOVIE IMAGE URL",defaultValue:r,onChange:h}),Object(u.jsx)("input",{className:"Form__price",type:"number",name:"price",placeholder:"ENTER MOVIE PRICE",defaultValue:c,onChange:h}),Object(u.jsx)("button",{className:"Form__btn",type:"submit",children:"EDIT"})]})]})})},Qe=(n(210),!0);var We=function(){var e=Object(a.useState)("Invalid!"),t=Object(d.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),s=Object(d.a)(c,2),i=s[0],o=s[1],l=Object(a.useRef)(null);return Object(a.useEffect)((function(){l.current.focus()}),[]),Object(a.useEffect)((function(){var e;return e=setTimeout(Object(j.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Qe){e.next=7;break}return Qe=!1,e.next=4,X();case 4:t=e.sent,a=t.reduce((function(e,t){var a="";for(var r in t)"title"!==r&&"description"!==r||(a+=t[r]);return a.toLowerCase().includes(n.toLowerCase())&&e.push(t),e}),[]),o(a);case 7:case"end":return e.stop()}}),e)}))),500),function(){clearTimeout(e)}}),[n]),Object(u.jsxs)("div",{className:"Search",children:[Object(u.jsx)("h2",{className:"Search__title",children:"Search Your Favourite Movies"}),Object(u.jsxs)("div",{className:"Filter",children:[Object(u.jsx)("input",{ref:l,onChange:function(e){return r(e.target.value)},type:"text",placeholder:"Search..."}),Object(u.jsx)("div",{className:"Filter__search"})]}),Object(u.jsx)("div",{className:"Search__results",children:i.length?i.map((function(e){return Object(u.jsx)(ve,Object(P.a)({},e),e._id)})):Object(u.jsx)("p",{className:"Search__notFound",children:"No currently found results from your search :("})})]})};var Ye=function(){return Object(u.jsxs)(i.a,{children:[Object(u.jsx)(q,{}),Object(u.jsxs)(o.c,{children:[Object(u.jsx)(o.a,{path:"/",exact:!0,component:ye}),Object(u.jsx)(o.a,{path:"/movies-react-app",exact:!0,component:ye}),Object(u.jsx)(o.a,{path:"/auth/register",exact:!0,component:Ee}),Object(u.jsx)(o.a,{path:"/auth/login",exact:!0,component:Ie}),Object(u.jsx)(o.a,{path:"/movies/create",exact:!0,component:Se}),Object(u.jsx)(o.a,{path:"/movies/details/:movieId",exact:!0,component:Pe}),Object(u.jsx)(o.a,{path:"/movies/edit/:movieId",exact:!0,component:He}),Object(u.jsx)(o.a,{path:"/filter",exact:!0,component:We}),Object(u.jsx)(o.a,{path:"/cart",exact:!0,component:Ve}),Object(u.jsx)(o.a,{path:"/checkout",exact:!0,component:Be})]})]})},Ge=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,212)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))},ze=n(83),Je=Object(A.h)(M);s.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(C.a,{store:M,children:Object(u.jsx)(ze.a,{loading:Object(u.jsx)(Ne,{}),persistor:Je,children:Object(u.jsx)(Ye,{})})})}),document.getElementById("root")),Ge()},77:function(e,t,n){},78:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){}},[[211,1,2]]]);
//# sourceMappingURL=main.31f6301f.chunk.js.map