{"version":3,"sources":["Cards/Loader/Loader.module.css","components/Header/Logo/Logo.tsx","store/auth-slice.ts","components/Header/Navigation/Hamburger/Hamburger.tsx","store/cart-slice.ts","store/index.ts","components/Header/Navigation/Navigation.tsx","components/Header/Header.tsx","components/Main/Home/MoviesForum/MoviesForum.tsx","utils/api.ts","utils/requests.ts","Cards/MovieCard/MovieCard.tsx","Cards/Loader/Loader.js","components/Main/Home/Home.tsx","schema/registerSchema.ts","components/hooks/useForm.ts","components/Main/Auth/Register/Register.tsx","components/Main/Auth/Login/Login.tsx","schema/createSchema.ts","components/Main/Decorate/Create/Create.tsx","Cards/CommentCard/CommentCard.tsx","components/Main/Details/CommentSection/CommentSection.tsx","components/Main/Details/DetailsButtons/DetailsButtons.tsx","components/Main/Details/DetailsReducer/reducer.ts","components/Main/Details/Details.tsx","Cards/CartItem/CartItem.tsx","components/Main/Cart/Cart.tsx","components/Main/Checkout/Checkout.tsx","components/Main/Decorate/Edit/Edit.tsx","components/Main/Filter/Filter.tsx","App.tsx","reportWebVitals.js","index.tsx"],"names":["module","exports","Logo","className","to","src","alt","defaultAuthState","isAuthenticated","userAuthState","accessToken","_id","username","authenticateAsyncThunk","createAsyncThunk","extraAuthData","a","fetch","endpoint","toLowerCase","method","headers","body","JSON","stringify","userDataObj","response","json","authSlice","createSlice","name","initialState","reducers","handleLogout","state","extraReducers","builder","addCase","fulfilled","action","payload","rejected","actions","Hamburger","React","memo","isActive","toogle","onClick","type","cartSlice","items","totalPrice","totalQuantity","addNewCartItem","newCartItem","selectedItem","find","item","Number","price","quantity","push","deleteCartItem","cartItem","splice","indexOf","decreaseCartItemQuantity","filter","itemObj","checkout","cartSliceActions","rootReducer","combineReducers","auth","cart","persistConfig","key","version","storage","persistedReducer","persistReducer","store","configureStore","reducer","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","useAppSelector","useSelector","useAppDispatch","useDispatch","Navigation","useState","setIsActive","dispatch","toogleActiveState","useCallback","prevActiveState","Header","MoviesForum","request","URL","configOptions","ok","Error","message","data","alert","setOptions","authToken","options","baseURL","get","post","put","del","getMovieArticles","api","postMovieArticle","movieId","getSpecificMovieArticle","getMovieArticleLikesFromUser","userId","postMovieArticleLike","getMovieArticleComments","postMovieArticleComment","deleteMovieArticleComment","commentId","updateMovieArticle","MovieCard","img","title","description","likesCount","setLikesCount","commentsCount","setCommentsCount","cartStateItems","useEffect","getMovieArticleLikesCount","then","likes","getMovieArticleCommentsCount","comments","isCardItem","Loader","style","loader","dot","dot1","join","dot2","dot3","dot4","Home","movies","setMovies","loading","setLoading","finally","map","movieArticle","registerValidationSchema","yup","shape","email","max","min","required","password","matches","repassword","oneOf","useForm","formData","setFormData","event","prevFormState","target","value","schema","validate","errors","Register","registerFormData","onInputChangeHandler","validateSchemaHandler","error","setError","history","useHistory","onRegisterSubmitHandler","preventDefault","result","onSubmit","placeholder","onChange","Login","loginFormData","isDisabled","undefined","console","log","onLoginSubmitHandler","disabled","createValidationSchema","Create","createFormData","onCreateSchemaValidate","userAuthToken","onCreateSubmitHandler","CommentCard","content","author","deleteCurrentComment","CommentSection","movieArticleComments","removeMovieArticleCommentHandler","contentRef","useRef","onPostNewCommentSubmitHandler","current","movieArticleComment","_ownerId","bind","rows","cols","ref","DetailsButtons","movieArticleLikesFromUser","cartStateItmes","length","deleteMovieArticle","pathname","INITIAL_MOVIE_DETAILS_STATE","UI","isDataLoaded","comment","Details","useReducer","details","useParams","Promise","all","getMovieArticleData","onPostMovieArticleCommentHandler","onRemoveMovieArticleCommentHandler","postMovieArticleLikeHandler","movieArticleLikeFromUser","CartItem","removeCurrentCartItem","htmlFor","Cart","isNotEmpty","cartId","Checkout","Edit","location","editFormData","onEditMovieArticleSubmitHandler","editDetails","defaultValue","isRenderedForFirstTime","Filter","searchInput","setSearchInput","movieSeacrches","setMovieSearches","searchInputRef","focus","timer","setTimeout","movieArticles","inputSearchResults","reduce","acc","object","stringResult","includes","clearTimeout","e","searchResult","App","path","exact","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","persistor","persistStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.31f6301f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1HtLa\",\"dot\":\"Loader_dot__2T9aA\",\"dot1\":\"Loader_dot1__2C5YS\",\"dot2\":\"Loader_dot2__NMjdT\",\"dot3\":\"Loader_dot3__17RD4\",\"dot4\":\"Loader_dot4__3eDyv\",\"reveal\":\"Loader_reveal__3s-I9\",\"slide\":\"Loader_slide__1Fty4\"};","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './_logo.scss';\r\n\r\nfunction Logo() {\r\n    return (\r\n        <div className=\"Logo\">\r\n            <Link to=\"/\">\r\n                <img src=\"https://th.bing.com/th/id/R.5eebdba556754091bfcae7839bd65da6?rik=7mP2jf6zMqYapw&pid=ImgRaw&r=0\" alt=\"logo\" />\r\n            </Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Logo;","import { createSlice, PayloadAction, createAsyncThunk } from '@reduxjs/toolkit';\r\n\r\nimport { ExtraDataType, UserAuthSliceState, UserAuth } from './auth-slice.types';\r\n\r\nconst defaultAuthState: UserAuthSliceState = {\r\n    isAuthenticated: false,\r\n    userAuthState: {\r\n        accessToken: null,\r\n        _id: null,\r\n        username: null\r\n    },\r\n};\r\n\r\nexport const authenticateAsyncThunk = createAsyncThunk(\r\n    'auth/authenticate',\r\n    async (extraAuthData: ExtraDataType) => {\r\n        const response = await fetch(`https://cars-react-app-server.herokuapp.com/users/${extraAuthData.endpoint.toLowerCase()}`, {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify(extraAuthData.userDataObj)\r\n        });\r\n\r\n        return await response.json();\r\n});\r\n\r\n\r\nconst authSlice = createSlice({\r\n    name: 'auth-slice',\r\n    initialState: defaultAuthState,\r\n    reducers: {\r\n        handleLogout(state) {\r\n            state.userAuthState = defaultAuthState.userAuthState;\r\n            state.isAuthenticated = defaultAuthState.isAuthenticated;\r\n        },\r\n    },\r\n    extraReducers: (builder) => {\r\n        builder.addCase(authenticateAsyncThunk.fulfilled, (state, action: PayloadAction<UserAuth>) => {\r\n            state.isAuthenticated = true;\r\n            state.userAuthState = {\r\n                accessToken: action.payload.accessToken,\r\n                _id: action.payload._id,\r\n                username: action.payload.username\r\n            }\r\n        });\r\n        builder.addCase(authenticateAsyncThunk.rejected, (state) => {\r\n            state.isAuthenticated = defaultAuthState.isAuthenticated;\r\n            state.userAuthState = defaultAuthState.userAuthState;\r\n        })\r\n    }\r\n});\r\n\r\n\r\nexport const { handleLogout } = authSlice.actions;\r\n\r\nexport default authSlice.reducer;","import React  from 'react';\r\nimport './_hamburger.scss';\r\n\r\ntype HamburgerProps = {\r\n    isActive: boolean;\r\n    toogle: () => void;\r\n}\r\n\r\nconst Hamburger: React.FC<HamburgerProps> = React.memo(({ isActive, toogle}) => {\r\n    return (\r\n        <button onClick={toogle} className={`hamburger hamburger--spin ${isActive && 'is-active'}`} type=\"button\">\r\n            <span className=\"hamburger-box\">\r\n                <span className=\"hamburger-inner\"></span>\r\n            </span>\r\n        </button>\r\n    );\r\n});\r\n\r\nexport default Hamburger;\r\n\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\nimport { Item, CartSliceState } from './cart-slice.types';\r\n\r\nconst defaultCartState: CartSliceState = {\r\n    items: [],\r\n    totalPrice: 0,\r\n    totalQuantity: 0,\r\n}\r\n\r\n// dispatch(setCartItems({ items: [{ price: 10, title: 'Some tile'}, { price: 20, title: 'another title'}], totalPrice: 30, totalQuantity: 3}))\r\n\r\nconst cartSlice = createSlice({\r\n    name: 'cart-slice',\r\n    initialState: defaultCartState,\r\n    reducers: {\r\n        addNewCartItem(state, action: PayloadAction<Item>) {\r\n            const newCartItem = action.payload;\r\n            const selectedItem = state.items.find(item => item._id === newCartItem._id);\r\n\r\n            if (!selectedItem) {\r\n                state.items.push(newCartItem);\r\n                state.totalPrice += Number(newCartItem.price);\r\n            } else {\r\n                state.totalPrice += Number(selectedItem.price);\r\n                selectedItem.quantity++;\r\n            }\r\n            state.totalQuantity++;\r\n        },\r\n        deleteCartItem(state, action: PayloadAction<string>) {\r\n            const cartItem = state.items.find(item => item._id === action.payload);\r\n            state.items.splice(state.items.indexOf(cartItem), 1);\r\n\r\n            state.totalQuantity -= Number(cartItem.quantity);\r\n            state.totalPrice -= Number(cartItem.price) * Number(cartItem.quantity);\r\n        },\r\n        decreaseCartItemQuantity(state, action: PayloadAction<string>) {\r\n            const item = state.items.find(item => item._id === action.payload);\r\n\r\n            state.totalPrice -= Number(item.price);\r\n            item.quantity--;\r\n            state.totalQuantity--;\r\n\r\n            if (item.quantity === 0) {\r\n                state.items = state.items.filter(itemObj => itemObj._id !== item._id);\r\n            }\r\n        },\r\n        checkout(state) {\r\n            state.items = [];\r\n            state.totalPrice = 0;\r\n            state.totalQuantity = 0;\r\n        }\r\n    }\r\n});\r\n\r\nexport const cartSliceActions = cartSlice.actions;\r\n\r\nexport default cartSlice.reducer;\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { combineReducers } from 'redux';\r\nimport storage from 'redux-persist/lib/storage';\r\n\r\nimport {\r\n    persistReducer,\r\n    FLUSH,\r\n    REHYDRATE,\r\n    PAUSE,\r\n    PERSIST,\r\n    PURGE,\r\n    REGISTER,\r\n} from 'redux-persist'\r\n\r\nimport authSlice from \"./auth-slice\";\r\nimport cartSlice from './cart-slice';\r\n\r\nconst rootReducer = combineReducers({\r\n    auth: authSlice,\r\n    cart: cartSlice\r\n});\r\n\r\nconst persistConfig = {\r\n    key: 'root',\r\n    version: 1,\r\n    storage\r\n};\r\n\r\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\r\n\r\nconst store = configureStore({\r\n    reducer: persistedReducer,\r\n    middleware: (getDefaultMiddleware) =>\r\n        getDefaultMiddleware({\r\n            serializableCheck: {\r\n                ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n            },\r\n        }),\r\n});\r\n\r\nexport type RootState = ReturnType<typeof store.getState>;\r\nexport type AppDispatch = typeof store.dispatch;\r\n\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\r\n\r\n\r\nexport default store;","import React, { Fragment, useCallback, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { handleLogout } from '../../../store/auth-slice';\r\n\r\nimport './_navigation.scss';\r\n\r\nimport Hamburger from './Hamburger/Hamburger';\r\nimport { useAppDispatch, useAppSelector } from '../../../store';\r\n\r\nconst Navigation = () => {\r\n    const [isActive, setIsActive] = useState(false);\r\n    const isAuthenticated = useAppSelector(state => state.auth.isAuthenticated);\r\n    const totalQuantity = useAppSelector(state => state.cart.totalQuantity);\r\n    const dispatch = useAppDispatch();\r\n\r\n    const toogleActiveState = useCallback(() => setIsActive(prevActiveState => !prevActiveState), []);\r\n    const onLogout = () => dispatch(handleLogout());\r\n\r\n    return (\r\n        <>\r\n            <nav className=\"Nav\">\r\n                <ul className={`Nav__list ${isActive ? `Nav__list--active` : `Nav__list--unactive`}`}>\r\n                    {\r\n                        isAuthenticated\r\n                            ?\r\n                            <Fragment>\r\n                                <li>\r\n                                    <Link to=\"/cart\">Cart {totalQuantity}</Link>\r\n                                </li>\r\n                                <li>\r\n                                    <Link to=\"/movies/create\">Create Movie Article</Link>\r\n                                </li>\r\n                                <li>\r\n                                    <Link to=\"/\" onClick={onLogout}>Logout</Link>\r\n                                </li>\r\n                                <li>\r\n                                    <Link to=\"/filter\">Search Movies</Link>\r\n                                </li>\r\n                            </Fragment>\r\n                            :\r\n                            <Fragment>\r\n                                <li>\r\n                                    <Link to=\"/auth/register\">Sign up</Link>\r\n                                </li>\r\n                                <li>\r\n                                    <Link to=\"/auth/login\">Sign in</Link>\r\n                                </li>\r\n                            </Fragment>\r\n                    }\r\n                </ul>\r\n                <Hamburger isActive={isActive} toogle={toogleActiveState} />\r\n            </nav>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Navigation;\r\n","import Logo from './Logo/Logo';\r\nimport Navigation from './Navigation/Navigation';\r\n\r\nimport './_header.scss';\r\n\r\nfunction Header() {\r\n    return (\r\n        <header className=\"Header\">\r\n            <Logo />\r\n            <Navigation />\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import './_moviesForum.scss';\r\n\r\nfunction MoviesForum() {\r\n    return (\r\n        <section className=\"HomeWrapper\">\r\n            <article className=\"Home\">\r\n                <h2 className=\"HomeDetails\">\r\n                    <span className=\"HomeDetails__title\">Movies Forum</span>\r\n                    <span className=\"HomeDetails__description\">Search for newest movies, post new movies, share opinions and likes anywhere, anytime!</span>\r\n                </h2>\r\n            </article>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default MoviesForum;","async function request(URL, configOptions) {\r\n    try {\r\n        const response = await fetch(URL, configOptions);\r\n\r\n        if (!response.ok) {\r\n            throw new Error((await response.json()).message);\r\n        } else {\r\n            const data = await response.json();\r\n\r\n            return data;\r\n        }\r\n    } catch (error) {\r\n        alert(error.message);\r\n        throw new Error(error.message || \"Something went wrong !!!\");\r\n    }\r\n}\r\n\r\nfunction setOptions(method: string, authToken?: string, body?: any) {\r\n    let options: {\r\n        method: string;\r\n        headers: {\r\n            authToken?: string;\r\n            'Content-Type'?: 'application/json'\r\n        };\r\n        body?: any\r\n    } = {\r\n        method,\r\n        headers: {},\r\n    }\r\n\r\n    if (authToken) {\r\n        options.headers['X-Authorization'] = authToken;\r\n    }\r\n\r\n    if (body) {\r\n        options.headers['Content-Type'] = 'application/json';\r\n        options.body = JSON.stringify(body);\r\n    }\r\n\r\n    return options;\r\n}\r\n\r\nconst baseURL = 'https://cars-react-app-server.herokuapp.com';\r\n\r\nasync function get(endpoint: string) {\r\n    return await request(baseURL + endpoint, setOptions('GET'));\r\n}\r\n\r\nasync function post(endpoint: string, authToken: string, data: any) {\r\n    return await request(baseURL + endpoint, setOptions('POST', authToken, data));\r\n}\r\n\r\nasync function put(endpoint: string, authToken: string, data: any) {\r\n    return await request(baseURL + endpoint, setOptions('PUT', authToken, data));\r\n}\r\n\r\nasync function del(endpoint: string, authToken: string) {\r\n    return await request(baseURL + endpoint, setOptions('DELETE', authToken));\r\n}\r\n\r\nexport {\r\n    get,\r\n    post,\r\n    put,\r\n    del,\r\n}\r\n\r\nexport default request;","import * as api from './api';\r\n\r\nexport async function getMovieArticles() {\r\n    return await api.get('/data/movies');\r\n}\r\n\r\nexport async function postMovieArticle(authToken, data) {\r\n    return await api.post('/data/movies', authToken, data);\r\n}\r\n\r\nexport async function deleteMovieArticle(movieId, authToken) {\r\n    return await api.del(`/data/movies/${movieId}`, authToken);\r\n}\r\n\r\nexport async function getMovieArticleLikesCount(movieId) {\r\n    return await api.get(`/data/likes?where=movieId%3D%22${movieId}%22&distinct=_ownerId&count`)\r\n}\r\n\r\nexport async function getMovieArticleCommentsCount(movieId) {\r\n    return await api.get(`/data/comments?where=movieId%3D%22${movieId}%22&distinct=_ownerId&count`);\r\n}\r\n\r\nexport async function getSpecificMovieArticle(movieId) {\r\n    return await api.get(`/data/movies/${movieId}`);\r\n}\r\n\r\nexport async function getMovieArticleLikesFromUser(movieId, userId) {\r\n    return await api.get(`/data/likes?where=movieId%3D%22${movieId}%22%20and%20_ownerId%3D%22${userId}%22`)\r\n}\r\n\r\nexport async function postMovieArticleLike(authToken, data) {\r\n    return await api.post('/data/likes', authToken, data);\r\n}\r\n\r\nexport async function getMovieArticleComments(movieId) {\r\n    return await api.get(`/data/comments?where=movieId%3D%22${movieId}%22`)\r\n}\r\n\r\nexport async function postMovieArticleComment(authToken, data) {\r\n    return await api.post('/data/comments', authToken, data);\r\n}\r\n\r\nexport async function deleteMovieArticleComment(commentId, authToken) {\r\n    return await api.del(`/data/comments/${commentId}`, authToken);\r\n}\r\n\r\nexport async function logout() {\r\n    return await api.get('/users/logout');\r\n}\r\n\r\nexport async function getCartItems() {\r\n    return await api.get('/data/cart');\r\n}\r\n\r\nexport async function addCartItem(authToken, data) {\r\n    return await api.post('/data/cart', authToken, data);\r\n}\r\n\r\nexport async function deleteCartItem(cartId, authToken) {\r\n    return await api.del(`/data/cart/${cartId}`, authToken);\r\n}\r\n\r\nexport async function updateMovieArticle(movieId, authToken, data) {\r\n    return await api.put(`/data/movies/${movieId}`, authToken, data);\r\n}\r\n\r\nexport async function updateMovieArticleLikes(movieId, authToken, data) {\r\n    return await api.put(`/data/movies/${movieId}`, authToken, data);\r\n}","import { Link } from 'react-router-dom';\r\nimport React, { useEffect, useState } from 'react';\r\n\r\nimport { getMovieArticleCommentsCount, getMovieArticleLikesCount } from '../../utils/requests';\r\nimport { useAppDispatch, useAppSelector } from '../../store/index';\r\nimport { cartSliceActions } from '../../store/cart-slice';\r\n\r\nimport './_movieCard.scss';\r\n\r\ntype MovieCardProps = {\r\n    title: string;\r\n    price: number;\r\n    _id: string;\r\n    img: string;\r\n    description: string;\r\n}\r\n\r\n\r\nconst MovieCard: React.FC<MovieCardProps> = ({ _id, img, price, title, description }) => {\r\n    const [likesCount, setLikesCount] = useState(0);\r\n    const [commentsCount, setCommentsCount] = useState(0);\r\n    const dispatch = useAppDispatch();\r\n    \r\n    const cartStateItems = useAppSelector(state => state.cart.items);\r\n    const isAuthenticated = useAppSelector(state => state.auth.isAuthenticated);\r\n\r\n    useEffect(() => {\r\n        getMovieArticleLikesCount(_id).then(likes => setLikesCount(likes));\r\n    }, [_id]);\r\n\r\n    useEffect(() => {\r\n        getMovieArticleCommentsCount(_id).then(comments => setCommentsCount(comments));\r\n    }, [_id]);\r\n\r\n    const onAddToCart = () => {\r\n        const isCardItem = cartStateItems.find(item => item._id === _id);\r\n        const quantity = isCardItem ? isCardItem.quantity : 1;\r\n        dispatch(cartSliceActions.addNewCartItem({ title, quantity, description, img, price, _id }));\r\n    }\r\n\r\n    return (\r\n        <div className=\"CardWrapper\">\r\n            <div className=\"Card Front\">\r\n                <article>\r\n                    <img className=\"CardImage\" src={img} alt=\"Movie Card\" />\r\n                    <h3 className=\"CardTitle\">{title}</h3>\r\n                </article>\r\n                <article className=\"card-footer\">\r\n                    <Link to={`/movies/details/${_id}`} className=\"CardButton\">Details</Link>\r\n                </article>\r\n                <span className=\"CardLikes\">{likesCount} Likes &#128077;</span>\r\n                <span className=\"CardComments\">{commentsCount} Comments &#128173;</span>\r\n            </div>\r\n            <div className=\"Card Back\">\r\n                <span className=\"Back__price\">{price}$</span>\r\n                <div className=\"Back__buttons\">\r\n                {isAuthenticated && <button\r\n                    onClick={onAddToCart}\r\n                    className=\"Back__cartBtn\"\r\n                    type=\"button\">\r\n                    Add To Cart\r\n                </button>}\r\n                <Link to={`/movies/details/${_id}`} className={`${!isAuthenticated && 'Back__detBtn--incorrect'} Back__detBtn`}>Check Details</Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MovieCard;","import style from './Loader.module.css';\r\n\r\n\r\nfunction Loader() {\r\n    return (\r\n        <div className={style.loader}>\r\n            <div className={[style.dot, style.dot1].join(' ')}></div>\r\n            <div className={[style.dot, style.dot2].join(' ')}></div>\r\n            <div className={[style.dot, style.dot3].join(' ')}></div>\r\n            <div className={[style.dot, style.dot4].join(' ')}></div> \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loader;","import { useEffect, useState } from 'react';\r\n\r\nimport MoviesForum from './MoviesForum/MoviesForum';\r\nimport MovieCard from '../../../Cards/MovieCard/MovieCard';\r\n\r\nimport Loader from '../../../Cards/Loader/Loader';\r\n\r\nimport { getMovieArticles } from '../../../utils/requests';\r\n\r\nimport './_home.scss';\r\nimport { MovieArticle } from '../Details/DetailsReducer/reducer.types';\r\n\r\nfunction Home() {\r\n    const [movies, setMovies] = useState<MovieArticle[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        setLoading(true);\r\n        getMovieArticles().then(movies => setMovies(movies)).finally(() => setLoading(false));\r\n    }, []);\r\n\r\n\r\n    if (loading) {\r\n        return <Loader />\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <MoviesForum />\r\n            <section>\r\n                <div>\r\n                    <h1 className=\"Heading\">Movie Articles</h1>\r\n                    <div className=\"HeadingWrapper\">\r\n                        { movies.map((movieArticle) => <MovieCard key={movieArticle._id} {...movieArticle} />) }\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Home;\r\n","import * as yup from 'yup';\r\n\r\nexport const registerValidationSchema = yup.object().shape({\r\n    email: yup.string()\r\n        .email('Invalid email format!')\r\n        .max(25, 'Your email must not be longer than 25 charackters!')\r\n        .min(10, 'Your email should be at least 10 charackters!')\r\n        .required('Required email field!'),\r\n    password: yup.string()\r\n        .min(6, 'Password must be at least 6 charcakters!')\r\n        .max(15, 'Password should not be longer than 15 charackters!')\r\n        .matches(/[A-Za-z0-9]+/, 'Password should contain uppercase,lowercase charackters and digits!')\r\n        .required('Required password field!'),\r\n    repassword: yup.string()\r\n        .oneOf([yup.ref('password'), null], 'Passwords must match!')\r\n        .required('Required repassword field!'),\r\n    username: yup.string()\r\n        .matches(/[A-Z][A-Za-z0-9]+/, 'Username have to start with uppercase letter and continue with lowercase or digits!')\r\n        .required('Required username field!')\r\n});","import { ChangeEvent, ChangeEventHandler, useState } from 'react';\r\nimport { SchemaLike } from \"yup/lib/types\"\r\n\r\n\r\nfunction useForm<T extends object>(initialState: T): [T, ChangeEventHandler<HTMLInputElement | HTMLTextAreaElement>, Function] {\r\n    const [formData, setFormData] = useState<T>(initialState);\r\n\r\n    const onInputChangeHandler = (event: ChangeEvent<HTMLInputElement | HTMLTextAreaElement>): void => {\r\n        setFormData((prevFormState): T => {\r\n            return {\r\n                ...prevFormState,\r\n                [event.target.name]: event.target.value\r\n            }\r\n        });\r\n    }\r\n\r\n    const onValidateSubmitHandler = async (schema: SchemaLike): Promise<T | string> => {\r\n        try {\r\n            return await schema.validate(formData);\r\n        } catch (err) {\r\n            return err.errors[0];\r\n        }\r\n    }\r\n\r\n    return [\r\n        formData,\r\n        onInputChangeHandler,\r\n        onValidateSubmitHandler,\r\n    ]\r\n}\r\n\r\nexport default useForm;","import { useHistory } from 'react-router-dom';\r\nimport { FormEvent, useState } from 'react';\r\n\r\nimport { authenticateAsyncThunk } from '../../../../store/auth-slice';\r\n\r\nimport { registerValidationSchema } from '../../../../schema/registerSchema';\r\nimport useForm from '../../../hooks/useForm';\r\n\r\nimport '../_auth.scss';\r\nimport { useAppDispatch } from '../../../../store';\r\n\r\ntype RegisterAuthType = {\r\n    email: string;\r\n    password: string;\r\n    username: string;\r\n    repassword: string;\r\n}\r\n\r\nfunction Register() {\r\n    const [registerFormData, onInputChangeHandler, validateSchemaHandler] = useForm<RegisterAuthType>({} as RegisterAuthType);\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    const dispatch = useAppDispatch();\r\n    const history = useHistory();\r\n\r\n    const onRegisterSubmitHandler = async (event: FormEvent<HTMLFormElement>): Promise<void> => {\r\n        event.preventDefault();\r\n\r\n        const result: typeof registerFormData | string = await validateSchemaHandler(registerValidationSchema);\r\n\r\n        if (typeof result !== 'object') {\r\n            setError(result);\r\n        } else {\r\n            const { email, username, password } = result;\r\n\r\n            dispatch(\r\n                authenticateAsyncThunk({\r\n                    endpoint: 'REGISTER',\r\n                    userDataObj: {\r\n                        email,\r\n                        username,\r\n                        password\r\n                    }\r\n                })\r\n            );\r\n            history.push('/');\r\n        }\r\n    }\r\n\r\n    return (\r\n        <section className=\"Auth\">\r\n            <div className=\"Main\">\r\n                <div className=\"AuthCreate\">\r\n                    <form onSubmit={onRegisterSubmitHandler}>\r\n                        <h2 className=\"AuthCreate__title\">CREATE ACCOUNT</h2>\r\n                        {error && <div className=\"error\">{error}</div>}\r\n                        <input className=\"AuthCreate__user\"\r\n                            type=\"text\"\r\n                            placeholder=\"&#128273;  YOUR USERNAME\"\r\n                            name=\"username\"\r\n                            onChange={onInputChangeHandler}\r\n                            value={registerFormData.username}\r\n                        />\r\n                        <input className=\"AuthCreate__email\"\r\n                            type=\"email\"\r\n                            placeholder=\"&#128231; YOUR EMAIL\"\r\n                            name=\"email\"\r\n                            onChange={onInputChangeHandler}\r\n                            value={registerFormData.email}\r\n                        />\r\n                        <input className=\"AuthCreate__pass\"\r\n                            type=\"password\"\r\n                            placeholder=\"&#128274; PASSWORD\"\r\n                            name=\"password\"\r\n                            onChange={onInputChangeHandler}\r\n                            value={registerFormData.password}\r\n                        />\r\n                        <input className=\"AuthCreate__pass\"\r\n                            type=\"password\"\r\n                            placeholder=\"&#128275; CONFIRM PASSWORD\"\r\n                            name=\"repassword\"\r\n                            onChange={onInputChangeHandler}\r\n                            value={registerFormData.repassword}\r\n                        />\r\n                        <button type=\"submit\" className=\"AuthCreate__btn\">Create Account</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Register;\r\n","import { FormEvent } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useAppDispatch } from '../../../../store';\r\nimport { authenticateAsyncThunk } from '../../../../store/auth-slice';\r\n\r\nimport useForm from '../../../hooks/useForm';\r\n\r\nimport '../_auth.scss';\r\n\r\ntype LoginAuthType = {\r\n    email: string;\r\n    password: string;\r\n}\r\n\r\nfunction Login() {\r\n    const [loginFormData, onInputChangeHandler] = useForm<LoginAuthType>({} as LoginAuthType);\r\n    const dispatch = useAppDispatch();\r\n    const history = useHistory();\r\n\r\n    const isDisabled = loginFormData.email === undefined && loginFormData.password === undefined;\r\n    console.log(isDisabled);\r\n\r\n    const onLoginSubmitHandler = async (event: FormEvent<HTMLFormElement>): Promise<void> => {\r\n        event.preventDefault();\r\n\r\n        const { email, password } = loginFormData;\r\n\r\n        dispatch(\r\n            authenticateAsyncThunk({\r\n                endpoint: 'LOGIN',\r\n                userDataObj: {\r\n                    email,\r\n                    password\r\n                }\r\n            }));\r\n        history.push('/');\r\n    }\r\n\r\n    return (\r\n        <section className=\"Auth\">\r\n            <div className=\"Main\">\r\n                <div className=\"AuthCreate\">\r\n                    <form onSubmit={onLoginSubmitHandler}>\r\n                        <h2 className=\"AuthCreate__title\">SIGN UP</h2>\r\n                        <input className=\"AuthCreate__email\"\r\n                            type=\"email\"\r\n                            name=\"email\"\r\n                            placeholder=\"&#128231; YOUR EMAIL\"\r\n                            onChange={onInputChangeHandler}\r\n                            value={loginFormData.email}\r\n                        />\r\n                        <input className=\"AuthCreate__pass\"\r\n                            type=\"password\"\r\n                            name=\"password\"\r\n                            placeholder=\"&#128274; PASSWORD\"\r\n                            onChange={onInputChangeHandler}\r\n                            value={loginFormData.password}\r\n                        />\r\n                        <button type=\"submit\" className=\"AuthCreate__btn\" disabled={isDisabled}>LOG IN</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default Login;\r\n","import * as yup from 'yup';\r\n\r\nexport const createValidationSchema = yup.object().shape({\r\n    title: yup\r\n        .string()\r\n        .max(20, 'Title must not be longer than 20 symbols!')\r\n        .required('Required title field!'),\r\n    description: yup\r\n        .string()\r\n        .max(100, 'Description must not be longer than 100 symbols!')\r\n        .required('Required description field!'),\r\n    img: yup\r\n        .string()\r\n        .required('Required image field!'),\r\n    price: yup\r\n        .number()\r\n        .required('Required price field!')\r\n});","import { useHistory } from 'react-router';\r\nimport { useState } from 'react';\r\n\r\nimport useForm from '../../../hooks/useForm';\r\nimport { createValidationSchema } from '../../../../schema/createSchema';\r\nimport { postMovieArticle } from '../../../../utils/requests';\r\nimport { useAppSelector } from '../../../../store';\r\n\r\nimport '../_decorate.scss';\r\nimport { FormEvent } from 'react';\r\nimport { DecorateType } from '../Decorate.types';\r\n\r\nfunction Create() {\r\n    const [createFormData, onInputChangeHandler, onCreateSchemaValidate] = useForm<DecorateType>({} as DecorateType);\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    const userAuthToken = useAppSelector(state => state.auth.userAuthState.accessToken);\r\n    const history = useHistory();\r\n\r\n    const onCreateSubmitHandler = async (event: FormEvent<HTMLFormElement>): Promise<void> => {\r\n        event.preventDefault();\r\n\r\n        const result: typeof createFormData | string = await onCreateSchemaValidate(createValidationSchema);\r\n\r\n        if (typeof result !== 'object') {\r\n            setError(error);\r\n        } else {\r\n            const { title, description, price, img } = result;\r\n            \r\n            await postMovieArticle(userAuthToken, { title, description, price, img, likes: 0 });\r\n            history.push('/');\r\n        }\r\n    }\r\n\r\n    return (\r\n        <section className=\"Create\">\r\n            <div className=\"CreateWrapper\">\r\n                <h2 className=\"FormTitle\">CREATE MOVIE ARTICLE</h2>\r\n                <form className=\"Form\" onSubmit={onCreateSubmitHandler}>\r\n                    { error && <div className=\"error\">{error}</div>}\r\n                    <input className=\"Form__title\"\r\n                        type=\"text\"\r\n                        name=\"title\"\r\n                        placeholder=\"ENTER MOVIE TITLE\"\r\n                        onChange={onInputChangeHandler}\r\n                        value={createFormData.title}\r\n                    />\r\n                    <textarea className=\"Form__description\"\r\n                        name=\"description\"\r\n                        placeholder=\"ENTER MOVIE DESCRIPTION\"\r\n                        onChange={onInputChangeHandler}\r\n                        value={createFormData.description}\r\n                    >\r\n                    </textarea>\r\n                    <input className=\"Form__image\"\r\n                        type=\"text\"\r\n                        name=\"img\"\r\n                        placeholder=\"ENTER MOVIE IMAGE URL\"\r\n                        onChange={onInputChangeHandler}\r\n                        value={createFormData.img}\r\n                    />\r\n                    <input className=\"Form__price\"\r\n                        type=\"number\"\r\n                        name=\"price\"\r\n                        placeholder=\"ENTER MOVIE PRICE\"\r\n                        onChange={onInputChangeHandler}\r\n                        value={createFormData.price}\r\n                    />\r\n                    <button className=\"Form__btn\" type=\"submit\">CREATE</button>\r\n                </form>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Create;\r\n","import React from 'react';\r\nimport './_commentCard.scss';\r\n\r\ntype CommentCardProps = {\r\n    content: string;\r\n    author: string;\r\n    deleteCurrentComment?: () => void;\r\n}\r\n\r\nconst CommentCard: React.FC<CommentCardProps> = ({ content, author, deleteCurrentComment }) => {\r\n    return (\r\n        <div className=\"CommentUser\">\r\n            <p className=\"CommentContent\">\r\n                &#128173; {content}\r\n                { deleteCurrentComment && <button onClick={deleteCurrentComment} className=\"CommentDelete\">&#10006;</button> }\r\n                <i className=\"CommentName\">- {author}</i>\r\n            </p>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CommentCard;\r\n","import React, { useRef } from 'react';\r\n\r\nimport CommentCard from '../../../../Cards/CommentCard/CommentCard';\r\n\r\nimport './_commentSection.scss';\r\nimport { useAppSelector } from '../../../../store';\r\n\r\nimport { MovieArticle, MovieArticleComment } from '../DetailsReducer/reducer.types';\r\n\r\ntype CommentProps = {\r\n    movieArticle: MovieArticle,\r\n    movieArticleComments: MovieArticleComment[],\r\n    postMovieArticleComment: (username: string, content: string) => Promise<void>\r\n    removeMovieArticleCommentHandler: (commentId: string) => Promise<void>\r\n}\r\n\r\nconst CommentSection: React.FC<CommentProps> = React.memo(({\r\n    movieArticle,\r\n    movieArticleComments,\r\n    postMovieArticleComment,\r\n    removeMovieArticleCommentHandler\r\n}) => {\r\n    const contentRef = useRef<HTMLTextAreaElement>(null);\r\n    const { userAuthState, isAuthenticated } = useAppSelector(state => state.auth);\r\n\r\n    const onPostNewCommentSubmitHandler = async (event: React.FormEvent<HTMLFormElement>): Promise<void> => {\r\n        event.preventDefault();\r\n\r\n        await postMovieArticleComment(userAuthState.username, contentRef.current.value);\r\n        contentRef.current.value = '';\r\n    };\r\n\r\n    return (\r\n        <div className=\"Comments\">\r\n            <h2 className=\"Comments__title\">Leave your comments here: &#128172;</h2>\r\n            {\r\n                movieArticleComments.map((movieArticleComment) =>\r\n                    <CommentCard\r\n                        key={movieArticleComment._id}\r\n                        content={movieArticleComment.content}\r\n                        author={movieArticleComment.author}\r\n                        deleteCurrentComment={\r\n                            userAuthState._id === movieArticleComment._ownerId\r\n                            && removeMovieArticleCommentHandler.bind(null, movieArticleComment._id)\r\n                        }\r\n                    />)\r\n            }\r\n            {\r\n                userAuthState._id !== movieArticle._ownerId && isAuthenticated &&\r\n                <form onSubmit={onPostNewCommentSubmitHandler} className=\"CommentForm\">\r\n                    <textarea className=\"CommentForm__input\"\r\n                        name=\"content\"\r\n                        placeholder=\"Enter your expression from this movie\"\r\n                        rows={5}\r\n                        cols={50}\r\n                        ref={contentRef}\r\n                    >\r\n                    </textarea>\r\n                    <button className=\"CommentForm__submit\" type=\"submit\">Post comment</button>\r\n                </form>\r\n            }\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default CommentSection;\r\n","import { useHistory } from 'react-router-dom';\r\nimport React, { Fragment } from 'react';\r\n\r\nimport { cartSliceActions } from '../../../../store/cart-slice';\r\n\r\nimport { deleteMovieArticle } from '../../../../utils/requests';\r\n\r\nimport { useAppDispatch, useAppSelector } from '../../../../store';\r\n\r\nimport './_detailsButtons.scss';\r\nimport { MovieArticle, MovieArticleLikeFromUser } from '../DetailsReducer/reducer.types';\r\n\r\ntype DetailsButtonsType = {\r\n    movieArticle: MovieArticle,\r\n    movieArticleLikesFromUser: MovieArticleLikeFromUser[],\r\n    postMovieArticleLike: () => Promise<void>\r\n}\r\n\r\nconst DetailsButtons: React.FC<DetailsButtonsType> = React.memo(({\r\n    postMovieArticleLike,\r\n    movieArticle,\r\n    movieArticleLikesFromUser\r\n}) => {\r\n    const { userAuthState, isAuthenticated } = useAppSelector(state => state.auth);\r\n    const cartStateItmes = useAppSelector(state => state.cart.items);\r\n    const dispatch = useAppDispatch();\r\n    const history = useHistory();\r\n\r\n    if (!isAuthenticated) { return <></>; };\r\n\r\n    const onAddToCartClickHandler = () => {\r\n        const isCardItem = cartStateItmes.find(item => item._id === movieArticle._id);\r\n        const quantity = isCardItem ? isCardItem.quantity : 1;\r\n        dispatch(cartSliceActions.addNewCartItem({\r\n            title: movieArticle.title,\r\n            quantity,\r\n            description: movieArticle.description,\r\n            img: movieArticle.img,\r\n            price: movieArticle.price,\r\n            _id: movieArticle._id\r\n        }));\r\n    };\r\n\r\n    return (\r\n        <div className=\"ButtonsWrapper\">\r\n            {\r\n                userAuthState._id !== movieArticle._ownerId\r\n                    ?\r\n                    <div className=\"User\">\r\n                        {\r\n                            movieArticleLikesFromUser.length === 0 &&\r\n                            <>\r\n                                <button onClick={postMovieArticleLike} className='User__like User__btn'>Like &#128077;</button>\r\n                            </>\r\n                        }\r\n                        <button onClick={onAddToCartClickHandler} className='User__add'>Add</button>\r\n                    </div>\r\n                    :\r\n                    <div className=\"Owner\">\r\n                        <button\r\n                            onClick={() => deleteMovieArticle(movieArticle._id, userAuthState.accessToken).then(() => history.push('/'))}\r\n                            className='Owner__delete Owner__btn'>\r\n                            &#10060; Delete\r\n                        </button>\r\n                        <button\r\n                            onClick={() => history.push({ pathname: `/movies/edit/${movieArticle._id}`, state: movieArticle })}\r\n                            className='Owner__edit Owner__btn'\r\n                        >\r\n                            &#9997; Edit\r\n                        </button>\r\n                    </div>\r\n            }\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default DetailsButtons;\r\n","import { DetailsState, AddMovieArticleCommentAction, PostMovieArticleLikeAction, DeleteMovieArticleCommentAction, SetMovieArticleDataAction, MovieArticle } from './reducer.types';\r\n\r\n\r\nexport const INITIAL_MOVIE_DETAILS_STATE: DetailsState = {\r\n    data: {\r\n        movieArticle: {} as MovieArticle,\r\n        movieArticleComments: [],\r\n        movieArticleLikesFromUser: [],\r\n    },\r\n    UI: {\r\n        isDataLoaded: false,\r\n    }\r\n}\r\n\r\nexport default function reducer(\r\n    state: DetailsState,\r\n    action: AddMovieArticleCommentAction | PostMovieArticleLikeAction | DeleteMovieArticleCommentAction | SetMovieArticleDataAction\r\n) {\r\n    switch (action.type) {\r\n        case 'SET_MOVIE_ARTICLE_DATA':\r\n            return {\r\n                UI: {\r\n                    isDataLoaded: true\r\n                },\r\n                data: {\r\n                    movieArticle: {\r\n                        _ownerId: action.payload.movieArticle._ownerId,\r\n                        title: action.payload.movieArticle.title,\r\n                        description: action.payload.movieArticle.description,\r\n                        _id: action.payload.movieArticle._id,\r\n                        img: action.payload.movieArticle.img,\r\n                        price: Number(action.payload.movieArticle.price),\r\n                    },\r\n                    movieArticleComments: action.payload.movieArticleComments,\r\n                    movieArticleLikesFromUser: action.payload.movieArticleLikesFromUser\r\n                }\r\n            }\r\n        case 'ADD_MOVIE_ARTICLE_COMMENT':\r\n            return {\r\n                ...state,\r\n                data: {\r\n                    ...state.data,\r\n                    movieArticleComments: [...state.data.movieArticleComments, action.payload]\r\n                }\r\n            }\r\n        case 'DELETE_MOVIE_ARTICLE_COMMENT':\r\n            return {\r\n                ...state,\r\n                data: {\r\n                    ...state.data,\r\n                    movieArticleComments: state.data.movieArticleComments.filter(comment => comment._id !== action.payload)\r\n                }\r\n            }\r\n        case 'ADD_MOVIE_ARTICLE_LIKE':\r\n            return {\r\n                ...state,\r\n                data: {\r\n                    ...state.data,\r\n                    movieArticleLikesFromUser: [action.payload]\r\n                }\r\n            }\r\n        default:\r\n            throw new Error(\"Should not reach that case!Bad action!\");\r\n    }\r\n}\r\n","import { useEffect, useReducer, useCallback } from 'react';\r\n\r\nimport { useParams } from 'react-router-dom';\r\n\r\nimport CommentSection from './CommentSection/CommentSection';\r\nimport DetailsButtons from './DetailsButtons/DetailsButtons';\r\n\r\nimport reducer, { INITIAL_MOVIE_DETAILS_STATE } from \"./DetailsReducer/reducer\";\r\n\r\nimport './_details.scss';\r\n\r\nimport Loader from '../../../Cards/Loader/Loader';\r\nimport { useAppSelector } from '../../../store/index';\r\nimport { getMovieArticleComments, getMovieArticleLikesFromUser, getSpecificMovieArticle, postMovieArticleLike, postMovieArticleComment, deleteMovieArticleComment } from '../../../utils/requests';\r\nimport { MovieArticle, MovieArticleComment, MovieArticleLikeFromUser } from './DetailsReducer/reducer.types';\r\n\r\n\r\nfunction Details() {\r\n    const [details, dispatch] = useReducer(reducer, INITIAL_MOVIE_DETAILS_STATE);\r\n\r\n    const { movieId } = useParams();\r\n    const { accessToken, _id: userId }  = useAppSelector(state => state.auth.userAuthState);\r\n\r\n    useEffect(() => {\r\n        const getMovieArticleData = async () => {\r\n            const [movieArticle, movieArticleComments, movieArticleLikesFromUser]: [MovieArticle, MovieArticleComment[], MovieArticleLikeFromUser[]] = await Promise.all([\r\n                getSpecificMovieArticle(movieId),\r\n                getMovieArticleComments(movieId),\r\n                getMovieArticleLikesFromUser(movieId, userId)\r\n            ]);\r\n\r\n            dispatch({\r\n                type: 'SET_MOVIE_ARTICLE_DATA',\r\n                payload: {\r\n                    movieArticle,\r\n                    movieArticleComments,\r\n                    movieArticleLikesFromUser\r\n                }\r\n            });\r\n        };\r\n\r\n        getMovieArticleData();\r\n    }, [movieId, userId]);\r\n\r\n    const onPostMovieArticleCommentHandler = useCallback(\r\n        async (author: string, content: string): Promise<void> => {\r\n            const movieArticleComment: MovieArticleComment = await postMovieArticleComment(accessToken, {\r\n                movieId,\r\n                author,\r\n                content\r\n            });\r\n            dispatch({ type: 'ADD_MOVIE_ARTICLE_COMMENT', payload: movieArticleComment });\r\n        }, [movieId, accessToken]);\r\n\r\n    const onRemoveMovieArticleCommentHandler = useCallback(\r\n        async (commentId: string): Promise<void> => {\r\n            await deleteMovieArticleComment(commentId, accessToken);\r\n            dispatch({ type: 'DELETE_MOVIE_ARTICLE_COMMENT', payload: commentId });\r\n        }, [accessToken]);\r\n\r\n    const postMovieArticleLikeHandler = useCallback(\r\n        async (): Promise<void> => {\r\n            const movieArticleLikeFromUser: MovieArticleLikeFromUser = await postMovieArticleLike(accessToken, { movieId });\r\n            dispatch({ type: 'ADD_MOVIE_ARTICLE_LIKE', payload: movieArticleLikeFromUser });\r\n        }, [accessToken, movieId]);\r\n\r\n    if (!details.UI.isDataLoaded) {\r\n        return <Loader />\r\n    }\r\n\r\n    return (\r\n        <section className=\"Details\">\r\n            <div className=\"Container\">\r\n                <h1 className=\"ContainerTitle\">Movie title: {details.data.movieArticle.title}</h1>\r\n                <img className=\"ContainerImage\" src={details.data.movieArticle.img} alt=\"movie\" />\r\n                <div className=\"ContainerDetails\">\r\n                    <h3 className=\"ContainerDetails__description\">Movie Description</h3>\r\n                    <p className=\"ContainerDetails__p\">\r\n                        {details.data.movieArticle.description}\r\n                    </p>\r\n                    <DetailsButtons\r\n                        postMovieArticleLike={postMovieArticleLikeHandler}\r\n                        movieArticle={details.data.movieArticle}\r\n                        movieArticleLikesFromUser={details.data.movieArticleLikesFromUser}\r\n                    />\r\n                    <CommentSection\r\n                        postMovieArticleComment={onPostMovieArticleCommentHandler}\r\n                        removeMovieArticleCommentHandler={onRemoveMovieArticleCommentHandler}\r\n                        movieArticle={details.data.movieArticle}\r\n                        movieArticleComments={details.data.movieArticleComments}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\n\r\nexport default Details;\r\n","import React from 'react';\r\nimport './_cartItem.scss';\r\n\r\nimport { Item } from '../../store/cart-slice.types';\r\n\r\ntype CartItemProps = {\r\n    addNewCartItem: (newCartItem: Item) => void;\r\n    removeCurrentCartItem: (cartId: string) => void;\r\n    decreaseCartItemQuantity: (cartId: string) => void;\r\n} & Item;\r\n\r\nconst CartItem: React.FC<CartItemProps> = React.memo(({\r\n    _id,\r\n    price,\r\n    quantity,\r\n    title,\r\n    description,\r\n    img,\r\n    addNewCartItem,\r\n    removeCurrentCartItem,\r\n    decreaseCartItemQuantity\r\n}) => {\r\n    return (\r\n        <div className=\"Item\">\r\n            <img src={img} alt=\"item\" />\r\n            <div className=\"Details\">\r\n                <p className=\"Details__title\">{title}</p>\r\n                <p className=\"Details__description\">{description}</p>\r\n                <p className=\"Details__price\">$ {price}</p>\r\n            </div>\r\n            <div className=\"Actions\">\r\n                <div className=\"Actions__quantity\">\r\n                    <button onClick={() => addNewCartItem({ _id, title, description, img, price, quantity })} className=\"Actions__quantity__manipulate\">&#8593;</button>\r\n                    <label htmlFor=\"qty\">{quantity}</label>\r\n                    <button onClick={() => decreaseCartItemQuantity(_id)} className=\"Actions__quantity__manipulate\">&#8595;</button>\r\n                </div>\r\n                <button onClick={() => removeCurrentCartItem(_id)} className=\"Actions__btn\">\r\n                    &#10060;\r\n                </button>\r\n            </div>\r\n        </div >\r\n    )\r\n});\r\n\r\nexport default CartItem;","import { useAppDispatch, useAppSelector } from '../../../store';\r\nimport { useCallback } from 'react';\r\nimport CartItem from '../../../Cards/CartItem/CartItem';\r\nimport { cartSliceActions } from '../../../store/cart-slice';\r\nimport { Item } from '../../../store/cart-slice.types';\r\n\r\nimport './_cart.scss';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Cart() {\r\n    const { totalPrice, totalQuantity, items } = useAppSelector(state => state.cart);\r\n    const dispatch = useAppDispatch();\r\n\r\n    const isNotEmpty = items?.length;\r\n\r\n    const addNewCartItem = useCallback((newCartItem: Item) => {\r\n        dispatch(cartSliceActions.addNewCartItem({ ...newCartItem }));\r\n    }, [dispatch]);\r\n\r\n    const removeCurrentCartItem = useCallback((cartId: string) => {\r\n        dispatch(cartSliceActions.deleteCartItem(cartId));\r\n    }, [dispatch]);\r\n\r\n    const decreaseCartItemQuantity = useCallback((cartId: string) => {\r\n        dispatch(cartSliceActions.decreaseCartItemQuantity(cartId));\r\n    }, [dispatch]);\r\n\r\n    return (\r\n        <div className={`Cart ${!isNotEmpty && 'Cart--empty'}`}>\r\n            {\r\n                items.map((cartItem) => {\r\n                    return <CartItem\r\n                        key={cartItem._id}\r\n                        addNewCartItem={addNewCartItem}\r\n                        removeCurrentCartItem={removeCurrentCartItem}\r\n                        decreaseCartItemQuantity={decreaseCartItemQuantity}\r\n                        {...cartItem}\r\n                    />\r\n                })\r\n            }\r\n            <div className=\"Summary\">\r\n                <h4 className=\"Summary__title\">Cart Summary</h4>\r\n                <div className=\"CartDetails\">\r\n                    <span className=\"CartDetails__items\">TOTAL: ({totalQuantity} items)</span>\r\n                    <span className=\"CartDetails__price\">$ {totalPrice}</span>\r\n                </div>\r\n                <Link to=\"/checkout\"\r\n                    className=\"Summary__btn\"\r\n                    onClick={() => dispatch(cartSliceActions.checkout())}\r\n                >\r\n                    Proceed To Checkout\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Cart;\r\n","import './_checkout.scss';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Checkout() {\r\n    return (\r\n        <div className=\"Checkout\">\r\n            <h1>Your order was succesfsul!</h1>\r\n            <h2>Thank you for choosing our movie shop!</h2>\r\n            <Link to=\"/\">\r\n                back to home page\r\n            </Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Checkout;","import { FormEvent } from 'react';\r\n\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport { useAppSelector } from '../../../../store';\r\n\r\nimport { updateMovieArticle } from '../../../../utils/requests';\r\nimport useForm from '../../../hooks/useForm';\r\nimport { MovieArticle } from '../../Details/DetailsReducer/reducer.types';\r\nimport { DecorateType } from '../Decorate.types';\r\n\r\nimport '../_decorate.scss';\r\n\r\nfunction Edit() {\r\n    const { movieId } = useParams();\r\n    const history = useHistory();\r\n\r\n    const { title, img, price, description }: MovieArticle = history.location.state;\r\n    const [editFormData, onInputChangeHandler] = useForm<DecorateType>({ title, img, price, description });\r\n    \r\n    const authToken = useAppSelector(state => state.auth.userAuthState.accessToken);\r\n\r\n    const onEditMovieArticleSubmitHandler = async (event: FormEvent<HTMLFormElement>): Promise<void> => {\r\n        event.preventDefault();\r\n\r\n        const editDetails = {\r\n            title: editFormData.title,\r\n            description: editFormData.description,\r\n            price: editFormData.price,\r\n            img: editFormData.img\r\n        };\r\n\r\n        await updateMovieArticle(movieId, authToken, editDetails);\r\n        history.push(`/movies/details/${movieId}`);\r\n    }\r\n\r\n    return (\r\n        <section className=\"Create\">\r\n            <div className=\"CreateWrapper\">\r\n                <h2 className=\"FormTitle\">EDIT MOVIE ARTICLE</h2>\r\n                <form className=\"Form\" onSubmit={onEditMovieArticleSubmitHandler}>\r\n                    <input className=\"Form__title\"\r\n                        type=\"text\"\r\n                        name=\"title\"\r\n                        placeholder=\"ENTER MOVIE TITLE\"\r\n                        defaultValue={title}\r\n                        onChange={onInputChangeHandler}\r\n                    />\r\n                    <textarea className=\"Form__description\"\r\n                        name=\"description\"\r\n                        placeholder=\"ENTER MOVIE DESCRIPTION\"\r\n                        defaultValue={description}\r\n                        onChange={onInputChangeHandler}\r\n                    >\r\n                    </textarea>\r\n                    <input className=\"Form__image\"\r\n                        type=\"text\"\r\n                        name=\"img\"\r\n                        placeholder=\"ENTER MOVIE IMAGE URL\"\r\n                        defaultValue={img}\r\n                        onChange={onInputChangeHandler}\r\n                    />\r\n                    <input className=\"Form__price\"\r\n                        type=\"number\"\r\n                        name=\"price\"\r\n                        placeholder=\"ENTER MOVIE PRICE\"\r\n                        defaultValue={price}\r\n                        onChange={onInputChangeHandler}\r\n                    />\r\n                    <button className=\"Form__btn\" type=\"submit\">EDIT</button>\r\n                </form>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Edit;\r\n","import { useState, useEffect, useRef } from \"react\";\r\nimport MovieCard from \"../../../Cards/MovieCard/MovieCard\";\r\n\r\nimport { MovieArticle } from \"../Details/DetailsReducer/reducer.types\";\r\n\r\nimport { getMovieArticles } from '../../../utils/requests';\r\n\r\nimport './_filter.scss';\r\n\r\n\r\nlet isRenderedForFirstTime = true;\r\n\r\nfunction Filter() {\r\n    const [searchInput, setSearchInput] = useState('Invalid!');\r\n    const [movieSeacrches, setMovieSearches] = useState<MovieArticle[]>([]);\r\n    const searchInputRef = useRef<HTMLInputElement>(null);\r\n\r\n    useEffect(() => {\r\n        searchInputRef.current.focus();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        let timer: NodeJS.Timeout;\r\n        const getSearchResults = () => {\r\n            timer = setTimeout(async () => {\r\n                if (isRenderedForFirstTime) {\r\n                    isRenderedForFirstTime = false;\r\n                    const movieArticles: typeof movieSeacrches = await getMovieArticles();\r\n                    const inputSearchResults =\r\n                        movieArticles.reduce((acc: MovieArticle[], object: MovieArticle): MovieArticle[] => {\r\n                            let stringResult = '';\r\n                            for (const key in object) {\r\n                                if (key === 'title' || key === 'description') {\r\n                                    stringResult += object[key];\r\n                                }\r\n                            }\r\n\r\n                            if (stringResult.toLowerCase().includes(searchInput.toLowerCase())) { acc.push(object) };\r\n\r\n                            return acc;\r\n                        }, []);\r\n\r\n                    setMovieSearches(inputSearchResults);\r\n                }\r\n            }, 500);\r\n        }\r\n\r\n        getSearchResults();\r\n\r\n        return () => {\r\n            clearTimeout(timer);\r\n        };\r\n    }, [searchInput]);\r\n\r\n    return (\r\n        <div className=\"Search\">\r\n            <h2 className=\"Search__title\">Search Your Favourite Movies</h2>\r\n            <div className=\"Filter\">\r\n                <input ref={searchInputRef} onChange={e => setSearchInput(e.target.value)} type=\"text\" placeholder=\"Search...\" />\r\n                <div className=\"Filter__search\"></div>\r\n            </div>\r\n            <div className=\"Search__results\">\r\n                {\r\n                    !movieSeacrches.length\r\n                        ? <p className=\"Search__notFound\">No currently found results from your search :(</p>\r\n                        : movieSeacrches.map((searchResult) => {\r\n                            return <MovieCard key={searchResult._id} {...searchResult} />\r\n                        })\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter;\r\n","import './App.scss';\n\nimport { Route, Switch, BrowserRouter as Router } from 'react-router-dom';\n\nimport Header from './components/Header/Header';\nimport Home from './components/Main/Home/Home';\nimport Register from './components/Main/Auth/Register/Register';\nimport Login from './components/Main/Auth/Login/Login';\nimport Create from './components/Main/Decorate/Create/Create';\nimport Details from './components/Main/Details/Details';\nimport Cart from './components/Main/Cart/Cart';\nimport Checkout from './components/Main/Checkout/Checkout';\nimport Edit from './components/Main/Decorate/Edit/Edit';\nimport Filter from './components/Main/Filter/Filter';\n\n\nfunction App() {\n    return (\n        <Router>\n            <Header />\n            <Switch>\n                <Route path=\"/\" exact component={Home} />\n                <Route path=\"/movies-react-app\" exact component={Home} />\n                <Route path=\"/auth/register\" exact component={Register} />\n                <Route path=\"/auth/login\" exact component={Login} />\n                <Route path=\"/movies/create\" exact component={Create} />\n                <Route path=\"/movies/details/:movieId\" exact component={Details} />\n                <Route path=\"/movies/edit/:movieId\" exact component={Edit} />\n                <Route path=\"/filter\" exact component={Filter} />\n                <Route path=\"/cart\" exact component={Cart} />\n                <Route path=\"/checkout\" exact component={Checkout} />\n            </ Switch>\n        </Router>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport store from './store/index';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { persistStore } from 'redux-persist';\nimport Loader from './Cards/Loader/Loader';\n\nlet persistor = persistStore(store);\n\nReactDOM.render(\n    <React.StrictMode >\n        <Provider store={store}>\n            <PersistGate loading={<Loader />} persistor={persistor}>\n                <App />\n            </PersistGate>\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();"],"sourceRoot":""}