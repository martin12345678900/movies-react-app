(this["webpackJsonpmovie-react-app-updated"]=this["webpackJsonpmovie-react-app-updated"]||[]).push([[0],{103:function(e,t,a){},104:function(e,t,a){},12:function(e,t,a){e.exports={createPage:"Decorate_createPage__3Wn0Q",createFormWrapper:"Decorate_createFormWrapper__2FwBu",createFormTitle:"Decorate_createFormTitle__1yns7",movieTitle:"Decorate_movieTitle__3I_Y7",movieDescription:"Decorate_movieDescription__3j-t1",movieImageURL:"Decorate_movieImageURL__2UDhI",createMovieBtn:"Decorate_createMovieBtn__2OGDp"}},17:function(e,t,a){e.exports={navListItem:"Navigation_navListItem__2qYtC",navListLink:"Navigation_navListLink__V8qGO",navListWrapper:"Navigation_navListWrapper__4BGZB",searchFormWrapper:"Navigation_searchFormWrapper__1D6k6",searchInput:"Navigation_searchInput__3njbn",searchBtn:"Navigation_searchBtn__20J2k"}},19:function(e,t,a){e.exports={loader:"Loader_loader__2y3t2",dot:"Loader_dot__H9eJx",dot1:"Loader_dot1__30nbw",dot2:"Loader_dot2__Fr4J3",dot3:"Loader_dot3__1WDe9",dot4:"Loader_dot4__1X3Rj",reveal:"Loader_reveal__3Dyqj",slide:"Loader_slide__1aB-I"}},209:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),c=a(49),s=a.n(c),i=(a(103),a(104),a(11)),o=a(66),u=a.n(o),m=a(0);var l=function(){return Object(m.jsx)("div",{className:u.a.logo,children:Object(m.jsx)(i.b,{className:u.a.navListLink,to:"/",children:Object(m.jsx)("img",{src:"https://th.bing.com/th/id/R.5eebdba556754091bfcae7839bd65da6?rik=7mP2jf6zMqYapw&pid=ImgRaw&r=0",alt:"logo"})})})},d=a(2),j=a.n(d),h=a(5),p=a(10),v=a(17),b=a.n(v),O=a(55),_={isAuthenticated:!1,userAuthState:{},error:null},f=function(e,t){return function(){var a=Object(h.a)(j.a.mark((function a(r){var n,c;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch("https://cars-react-app-server.herokuapp.com/users/".concat(t),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 3:return n=a.sent,a.next=6,n.json();case 6:if(c=a.sent,!1!==n.ok){a.next=11;break}throw new Error("Failed while authenticating!");case 11:r(x.actions.handleAuthenticate({authToken:c.accessToken,userId:c._id,username:c.username}));case 12:a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),r(x.actions.handleErrors({error:{message:a.t0.message}}));case 17:case"end":return a.stop()}}),a,null,[[0,14]])})));return function(e){return a.apply(this,arguments)}}()},x=Object(O.b)({name:"auth-slice",initialState:_,reducers:{handleAuthenticate:function(e,t){var a=t.payload;e.userAuthState={authToken:a.authToken,userId:a.userId,username:a.username},e.isAuthenticated=!0},handleLogout:function(e){_},handleErrors:function(e,t){var a=t.payload;e.error=a.error}}}),g=x.actions,N=x;function C(){return(C=Object(h.a)(j.a.mark((function e(t,a){var r,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,a);case 3:if((r=e.sent).ok){e.next=15;break}return e.t0=Error,e.next=8,r.json();case 8:if(e.t1=e.sent.message,e.t1){e.next=11;break}e.t1="Something went wrong!";case 11:throw e.t2=e.t1,new e.t0(e.t2);case 15:return e.next=17,r.json();case 17:return n=e.sent,e.abrupt("return",n);case 19:e.next=24;break;case 21:e.prev=21,e.t3=e.catch(0),alert(e.t3.message);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})))).apply(this,arguments)}var w=function(e,t){return C.apply(this,arguments)};var k=function(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e.auth.isAuthenticated}));return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("nav",{children:Object(m.jsxs)("ul",{className:b.a.navListWrapper,children:[t?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("li",{className:b.a.navListItem,children:Object(m.jsx)(i.b,{className:b.a.navListLink,to:"/movies/create",children:"Create Movie Article"})}),Object(m.jsx)("li",{className:b.a.navListItem,children:Object(m.jsx)(i.b,{onClick:Object(h.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w("https://cars-react-app-server.herokuapp.com/users/logout",{method:"GET"}).then(e(g.handleLogout()));case 2:case"end":return t.stop()}}),t)}))),to:"/",className:b.a.navListLink,children:"Logout \u270b"})})]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("li",{className:b.a.navListItem,children:Object(m.jsx)(i.b,{className:b.a.navListLink,to:"/auth/register",children:"Sign up \u270d"})}),Object(m.jsx)("li",{className:b.a.navListItem,children:Object(m.jsx)(i.b,{className:b.a.navListLink,to:"/auth/login",children:"Log in \ud83d\udd11"})})]}),Object(m.jsx)("li",{className:"".concat(b.a.navListItem," ").concat(b.a.searchFormWrapper),children:Object(m.jsx)(i.b,{className:b.a.navListLink,to:"/filter",children:"Search Movies \ud83d\udd0d"})})]})})})},I=a(92),L=a.n(I);var D=function(){return Object(m.jsxs)("header",{className:L.a.header,children:[Object(m.jsx)(l,{}),Object(m.jsx)(k,{})]})},S=a(7),T=a(6),y=a(3),A=a(40),E=a.n(A);var F=function(){return Object(m.jsx)("section",{children:Object(m.jsxs)("article",{className:E.a.homePage,children:[Object(m.jsx)("img",{className:E.a.moviesBackgroundImage,src:"https://slicksmovieblog.files.wordpress.com/2014/08/cropped-movie-banner-e1408372575210.jpg",alt:"Movie"}),Object(m.jsx)("h2",{className:E.a.moviesForumTitle,children:"Movies Forum"}),Object(m.jsx)("p",{className:E.a.moviesForumDescription,children:"Search for newest movies, post new movies, share opinions and likes anywhere, anytime!"})]})})},M=a(30),B=a.n(M),R="https://cars-react-app-server.herokuapp.com";var P=function(e){var t=e.title,a=e.img,n=e._id,c=Object(r.useState)(0),s=Object(y.a)(c,2),o=s[0],u=s[1],l=Object(r.useState)(0),d=Object(y.a)(l,2),j=d[0],h=d[1];return Object(r.useEffect)((function(){return w("".concat(R,"/data/likes?where=movieId%3D%22").concat(n,"%22&distinct=_ownerId&count")).then(u)}),[n]),Object(r.useEffect)((function(){return w("".concat(R,"/data/comments?where=movieId%3D%22").concat(n,"%22&distinct=_ownerId&count")).then(h)}),[n]),Object(m.jsxs)("div",{className:B.a.movieCard,children:[Object(m.jsxs)("article",{className:"card-header-main",children:[Object(m.jsx)("img",{className:B.a.movieCardImage,src:a,alt:"Movie Card"}),Object(m.jsx)("h3",{className:B.a.movieCardTitle,children:t})]}),Object(m.jsx)("article",{className:"card-footer",children:Object(m.jsx)(i.b,{to:"/movies/details/".concat(n),className:B.a.movieCardButton,children:"Details"})}),Object(m.jsxs)("span",{className:B.a.movieLikes,children:[o," Likes \ud83d\udc4d"]}),Object(m.jsxs)("span",{className:B.a.movieComments,children:[j," Comments \ud83d\udcad"]})]})},U=a(19),W=a.n(U);var V=function(){return Object(m.jsxs)("div",{className:W.a.loader,children:[Object(m.jsx)("div",{className:[W.a.dot,W.a.dot1].join(" ")}),Object(m.jsx)("div",{className:[W.a.dot,W.a.dot2].join(" ")}),Object(m.jsx)("div",{className:[W.a.dot,W.a.dot3].join(" ")}),Object(m.jsx)("div",{className:[W.a.dot,W.a.dot4].join(" ")})]})};var H=function(){var e=Object(r.useState)([]),t=Object(y.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(!0),s=Object(y.a)(c,2),i=s[0],o=s[1];return Object(r.useEffect)((function(){o(!0),fetch("https://cars-react-app-server.herokuapp.com/data/movies").then((function(e){return e.json()})).then((function(e){n(e)})).catch((function(e){return alert(e.message)})).finally(o(!1))}),[]),i?Object(m.jsx)(V,{}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(F,{}),Object(m.jsx)("section",{children:Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{style:{fontSize:40,fontWeight:550,textAlign:"center",marginTop:40},children:"Movie Articles"}),Object(m.jsx)("div",{className:"card-wrapper",children:a.map((function(e,t){return Object(m.jsx)(P,Object(T.a)({},e),t)}))})]})})]})},q=a(9),z=a.n(q),J=a(98),Y=a(32);var G=function(e){var t=e.history,a=Object(p.b)(),r=Object(J.a)({initialValues:{username:"",email:"",password:"",repassword:""},validateOnChange:!1,validationSchema:Y.a().shape({email:Y.c().email("Invalid email format!").max(25,"Your email must not be longer than 25 charackters!").min(10,"Your email should be at least 10 charackters!").required("This field is required!"),password:Y.c().min(6,"Password must be at least 6 charcakters!").max(15,"Password should not be longer than 15 charackters!").matches(/[A-Za-z0-9]+/,"Password should contain uppercase,lowercase charackters and digits!").required("This field is required!"),repassword:Y.c().oneOf([Y.b("password"),null],"Passwords must match!").required("This field is required!"),username:Y.c().matches(/[A-Z][A-Za-z0-9]+/,"Username have to start with uppercase letter and continue with lowercase or digits!").trim().required("Username is required!")}),onSubmit:function(){var e=Object(h.a)(j.a.mark((function e(r){var n,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.username,c=r.email,s=r.password,e.abrupt("return",a(f({username:n,email:c,password:s},"register")).then(t.push("/")));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),n=r.handleSubmit,c=r.handleChange,s=r.handleBlur,i=r.errors,o=r.values,u=r.touched;return Object(m.jsx)("section",{className:z.a.authView,children:Object(m.jsx)("div",{className:z.a.cont,children:Object(m.jsx)("div",{className:z.a.mainBox,children:Object(m.jsx)("div",{className:z.a.create,children:Object(m.jsxs)("form",{onSubmit:n,children:[Object(m.jsx)("h2",{className:z.a.authTitle,children:"CREATE ACCOUNT"}),u.username&&i.username&&Object(m.jsx)("div",{className:"error",children:i.username}),Object(m.jsx)("input",{className:z.a.user,type:"text",placeholder:"\ud83d\udd11  YOUR USERNAME",name:"username",onChange:c,onBlur:s,value:o.username}),u.email&&i.email&&Object(m.jsx)("div",{className:"error",children:i.email}),Object(m.jsx)("input",{className:z.a.email,type:"email",placeholder:"\ud83d\udce7 YOUR EMAIL",name:"email",onChange:c,onBlur:s,value:o.email}),u.password&&i.password&&Object(m.jsx)("div",{className:"error",children:i.password}),Object(m.jsx)("input",{className:z.a.pass,type:"password",placeholder:"\ud83d\udd12 PASSWORD",name:"password",onChange:c,onBlur:s,value:o.password}),u.repassword&&i.repassword&&Object(m.jsx)("div",{className:"error",children:i.repassword}),Object(m.jsx)("input",{className:z.a.pass,type:"password",placeholder:"\ud83d\udd13 CONFIRM PASSWORD",name:"repassword",onChange:c,onBlur:s,value:o.repassword}),Object(m.jsx)("button",{type:"submit",className:z.a.auth,children:"Create Account"})]})})})})})},X=a(35),Z=a.n(X);var K=function(e){var t=e.message,a=e.closeModalClickHandler,r=e.cancelActionHandler;return Object(m.jsx)("div",{className:Z.a.overlay,children:Object(m.jsxs)("div",{className:Z.a.modal,children:[Object(m.jsx)("p",{className:Z.a.message,children:t}),Object(m.jsx)("button",{onClick:a,className:Z.a.action,children:"Okay"}),r?Object(m.jsx)("button",{onClick:r,className:Z.a.action,children:"Cancel"}):null]})})};var Q=function(e){var t=e.history,a=Object(r.useState)(null),n=Object(y.a)(a,2),c=n[0],s=n[1],i=Object(p.c)((function(e){return e.auth.error})),o=Object(p.b)();if(c)return Object(m.jsx)(K,{message:c,closeModalClickHandler:function(){return s("")}});var u=function(){var e=Object(h.a)(j.a.mark((function e(a){var r,n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,r=a.target,n=r.email,c=r.password,e.abrupt("return",o(f({email:n.value,password:c.value},"login")).then(t.push("/")));case 6:e.prev=6,e.t0=e.catch(1),s(i);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)("section",{className:z.a.authView,children:Object(m.jsx)("div",{className:z.a.cont,children:Object(m.jsx)("div",{className:z.a.mainBox,children:Object(m.jsx)("div",{className:z.a.create,children:Object(m.jsxs)("form",{onSubmit:u,children:[Object(m.jsx)("h2",{className:z.a.authTitle,children:"SIGN UP"}),Object(m.jsx)("input",{className:z.a.email,type:"email",name:"email",placeholder:"\ud83d\udce7 YOUR EMAIL"}),Object(m.jsx)("input",{className:z.a.pass,type:"password",name:"password",placeholder:"\ud83d\udd12 PASSWORD"}),Object(m.jsx)("button",{type:"submit",className:z.a.auth,children:"LOG IN"})]})})})})})},$=a(12),ee=a.n($),te=a(51);var ae=function(e,t,a){var n=Object(r.useState)(e),c=Object(y.a)(n,2),s=c[0],i=c[1],o=Object(r.useState)(""),u=Object(y.a)(o,2),m=u[0],l=u[1];return[s,function(e){i(Object(T.a)(Object(T.a)({},s),{},Object(te.a)({},e.target.name,e.target.value)))},function(){var e=Object(h.a)(j.a.mark((function e(r){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,e.next=4,w(t,{method:a.method,headers:a.headers,body:JSON.stringify(Object(T.a)({},s))});case 4:return n=e.sent,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(1),l(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),function(){i(Object.fromEntries(Object.entries(s).map((function(e){var t=Object(y.a)(e,2),a=t[0];t[1];return[a,""]}))))},m,l]};var re=function(e){var t=e.history,a=Object(p.c)((function(e){return e.auth.userAuthState.authToken})),r=ae({title:"",description:"",image:""},"https://cars-react-app-server.herokuapp.com/data/movies",{method:"POST",headers:{"Content-Type":"application/json","X-Authorization":a}}),n=Object(y.a)(r,3),c=n[0],s=n[1],i=n[2];return Object(m.jsx)("section",{className:ee.a.createPage,children:Object(m.jsxs)("div",{className:ee.a.createFormWrapper,children:[Object(m.jsx)("h2",{className:ee.a.createFormTitle,children:"CREATE MOVIE ARTICLE"}),Object(m.jsxs)("form",{onSubmit:function(e){return i(e).then(t.push("/"))},children:[Object(m.jsx)("input",{className:ee.a.movieTitle,type:"text",name:"title",placeholder:"ENTER MOVIE TITLE",onChange:s,value:c.movieTitle}),Object(m.jsx)("textarea",{className:ee.a.movieDescription,type:"text",name:"description",placeholder:"ENTER MOVIE DESCRIPTION",rows:"4",columns:"50",onChange:s,value:c.movieDescription}),Object(m.jsx)("input",{className:ee.a.movieImageURL,type:"text",name:"image",placeholder:"ENTER MOVIE IMAGE URL",onChange:s,value:c.movieImage}),Object(m.jsx)("button",{className:ee.a.createMovieBtn,type:"submit",children:"CREATE"})]})]})})},ne=a(31),ce=a.n(ne),se=a(41),ie=a.n(se),oe=a(42),ue=a.n(oe);var me=function(e){var t=e.content,a=e.author,r=e.deleteCurrentComment;return Object(m.jsx)("div",{className:ue.a.commentUser,children:Object(m.jsxs)("p",{className:ue.a.commentUserContent,children:["\ud83d\udcad ",t,r&&Object(m.jsx)("button",{onClick:Object(h.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),className:ue.a.deleteComment,children:"\u2716"}),Object(m.jsxs)("i",{className:ue.a.commentUserName,children:["- ",a]})]})})},le="get-movie-article",de="load-movie-article-comments",je="get-movie-article-likes-from-user",he="modify-movie-article-comment",pe="like-movie-article",ve={movieArticle:{},movieArticleComments:[],movieArticleLikesFromUser:[],movieArticleLikes:0,areCommentsLoading:!0,isFormSubmited:!1,isLiked:!1,isMovieLoading:!0};function be(e,t){var a=t.type,r=t.payload;switch(a){case le:return Object(T.a)(Object(T.a)({},e),{},{movieArticle:{_onwerId:r._ownerId,title:r.title,description:r.description,img:r.img,_id:r._id},isMovieLoading:!1});case de:return Object(T.a)(Object(T.a)({},e),{},{areCommentsLoading:!1,isFormSubmited:!1,movieArticleComments:r.comments});case je:return Object(T.a)(Object(T.a)({},e),{},{movieArticleLikesFromUser:r.userLikes,isLiked:!1});case he:return Object(T.a)(Object(T.a)({},e),{},{isFormSubmited:!0});case pe:return Object(T.a)(Object(T.a)({},e),{},{isLiked:!0});default:return e}}var Oe="https://cars-react-app-server.herokuapp.com/data/comments";var _e=function(){var e=Object(r.useContext)(Ce),t=e.movieArticle,a=e.isFormSubmited,n=e.areCommentsLoading,c=e.movieArticleComments,s=e.dispatch,i=Object(p.c)((function(e){return e.auth}));Object(r.useEffect)((function(){(function(){var e=Object(h.a)(j.a.mark((function e(){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w("".concat(Oe,"?where=movieId%3D%22").concat(t._id,"%22"));case 2:return a=e.sent,e.abrupt("return",s({type:de,payload:{comments:a}}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t._id,a,s]);var o=function(){var e=Object(h.a)(j.a.mark((function e(a){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),r=a.target.content.value,e.next=4,w(Oe,{method:"POST",headers:{"Content-Type":"application/json","X-Authorization":i.userAuthState.authToken},body:JSON.stringify({author:i.userAuthState.username,content:r,movieId:t._id})});case 4:return r="",e.abrupt("return",s({type:he}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:ie.a.comments,children:[Object(m.jsx)("h2",{className:ie.a.commentTitle,children:"Leave your comments here: \ud83d\udcac"}),n?Object(m.jsx)(V,{}):c.map((function(e,t){return Object(m.jsx)(me,{content:e.content,author:e.author,deleteCurrentComment:i.userAuthState.userId===e._ownerId?Object(h.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w("".concat(Oe,"/").concat(e._id),{method:"DELETE",headers:{"X-Authorization":i.userAuthState.authToken}}).then(s({type:he}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))):null},t)})),i.userAuthState.userId!==t._onwerId&&i.isAuthenticated&&Object(m.jsxs)("form",{onSubmit:o,children:[Object(m.jsx)("textarea",{className:ie.a.commentInput,name:"content",rows:"4",cols:"50",placeholder:"Enter your expression from this movie"}),Object(m.jsx)("button",{className:ie.a.commentSubmit,type:"submit",children:"Post comment"})]})]})},fe=a(26),xe=a.n(fe),ge="https://cars-react-app-server.herokuapp.com/data/likes";var Ne=function(){var e=Object(r.useState)(""),t=Object(y.a)(e,2),a=t[0],n=t[1],c=Object(r.useContext)(Ce),s=c.dispatch,o=c.movieArticle,u=c.isLiked,l=c.movieArticleLikesFromUser,d=Object(S.f)(),v=Object(p.c)((function(e){return e.auth}));if(Object(r.useEffect)((function(){(function(){var e=Object(h.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w("".concat(ge,"?where=movieId%3D%22").concat(o._id,"%22%20and%20_ownerId%3D%22").concat(v.userAuthState.userId,"%22"));case 2:return t=e.sent,e.abrupt("return",s({type:je,payload:{userLikes:t}}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[o._id,v.userAuthState.userId,u,s]),a)return Object(m.jsx)(K,{message:a,closeModalClickHandler:Object(h.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w("https://cars-react-app-server.herokuapp.com/data/movies/".concat(o._id),{method:"DELETE",headers:{"X-Authorization":v.userAuthState.authToken}}).then(d.push("/"));case 2:case"end":return e.stop()}}),e)}))),cancelActionHandler:function(){return n("")}});var b=function(){var e=Object(h.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(ge,{method:"POST",headers:{"Content-Type":"application/json","X-Authorization":v.userAuthState.authToken},body:JSON.stringify({movieId:o._id})}).then(s({type:pe}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:xe.a.movieDetailsButtonWrapper,children:v.isAuthenticated?v.userAuthState.userId!==o._onwerId?Object(m.jsx)(m.Fragment,{children:!l.length&&Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("button",{onClick:b,className:[xe.a.movieDetailsBtnLike,xe.a.movieBtn].join(" "),children:"Like \ud83d\udc4d"})})}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("button",{onClick:function(){return n("Are u sure u want to delete this article?!")},className:[xe.a.movieDetailsBtnDelete,xe.a.movieBtn].join(" "),children:"\u274c Delete"}),Object(m.jsx)(i.b,{to:"/movies/edit/".concat(o._id),className:[xe.a.movieDetailsBtnEdit,xe.a.movieBtn].join(" "),children:"\u270d Edit"})]}):null})})},Ce=Object(r.createContext)("NO CURRENT CONTEXT PROVIDER");var we=function(){var e=Object(S.g)().movieId,t=Object(r.useReducer)(be,ve),a=Object(y.a)(t,2),n=a[0],c=a[1];return Object(r.useEffect)((function(){(function(){var t=Object(h.a)(j.a.mark((function t(){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w("https://cars-react-app-server.herokuapp.com/data/movies/".concat(e));case 2:return a=t.sent,t.abrupt("return",c({type:le,payload:{_ownerId:a._ownerId,title:a.title,description:a.description,img:a.img,_id:a._id}}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),Object(m.jsx)(r.Fragment,{children:n.isMovieLoading?Object(m.jsx)(V,{}):Object(m.jsx)("section",{children:Object(m.jsxs)("div",{className:ce.a.movieContainer,children:[Object(m.jsxs)("h1",{className:ce.a.movieDetailsTitle,children:["Movie title: ",n.movieArticle.title]}),Object(m.jsx)("img",{className:ce.a.movieDetailsImg,src:n.movieArticle.img,alt:"movie"}),Object(m.jsxs)("div",{className:ce.a.movieDetailsInfo,children:[Object(m.jsx)("h3",{className:ce.a.movieDetailsInfoImg,children:"Movie Description"}),Object(m.jsx)("p",{className:ce.a.movieDetailsInfoParagraph,children:n.movieArticle.description}),Object(m.jsxs)(Ce.Provider,{value:Object(T.a)(Object(T.a)({},n),{},{dispatch:c}),children:[Object(m.jsx)(Ne,{}),Object(m.jsx)(_e,{})]})]})]})})})},ke="https://cars-react-app-server.herokuapp.com/data/movies/";var Ie=function(){var e=Object(S.g)().movieId,t=Object(S.f)(),a=Object(r.useState)({}),n=Object(y.a)(a,2),c=n[0],s=n[1],i=Object(p.c)((function(e){return e.auth.userAuthState.authToken}));Object(r.useEffect)((function(){return w("".concat(ke).concat(e)).then(s)}),[e]);var o=function(){var a=Object(h.a)(j.a.mark((function a(r){var n,c,s,o;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r.preventDefault(),n=r.target,c=n.title,s=n.description,o=n.img,a.next=4,w("".concat(ke).concat(e),{method:"PUT",headers:{"Content-Type":"application/json","X-Authorization":i},body:JSON.stringify({title:c.value,description:s.value,img:o.value})}).then(t.push("/movies/details/".concat(e)));case 4:return a.abrupt("return",a.sent);case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(m.jsx)("section",{className:ee.a.createPage,children:Object(m.jsxs)("div",{className:ee.a.createFormWrapper,children:[Object(m.jsx)("h2",{className:ee.a.createFormTitle,children:"EDIT MOVIE ARTICLE"}),Object(m.jsxs)("form",{onSubmit:o,children:[Object(m.jsx)("input",{className:ee.a.movieTitle,type:"text",name:"title",placeholder:"ENTER MOVIE TITLE",defaultValue:c.title}),Object(m.jsx)("textarea",{className:ee.a.movieDescription,type:"text",name:"description",placeholder:"ENTER MOVIE DESCRIPTION",rows:"4",columns:"50",defaultValue:c.description}),Object(m.jsx)("input",{className:ee.a.movieImageURL,type:"text",name:"img",placeholder:"ENTER MOVIE IMAGE URL",defaultValue:c.img}),Object(m.jsx)("button",{className:ee.a.createMovieBtn,type:"submit",children:"EDIT"})]})]})})},Le=a(27),De=a.n(Le);var Se=function(){var e=Object(r.useState)([]),t=Object(y.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(!0),s=Object(y.a)(c,2),i=s[0],o=s[1],u=Object(r.useState)(""),l=Object(y.a)(u,2),d=l[0],j=l[1];return Object(r.useEffect)((function(){fetch("https://cars-react-app-server.herokuapp.com/data/movies").then((function(e){return e.json()})).then((function(e){var t=e.reduce((function(e,t){var a="";for(var r in t)"title"!==r&&"description"!==r||(a+=t[r]);return a.toLowerCase().includes(d.toLowerCase())&&e.push(t),e}),[]);n(t)})).catch((function(e){return console.error(e)})).finally(o(!1))}),[d]),Object(m.jsxs)("div",{className:De.a.main,children:[Object(m.jsxs)("form",{className:"form-group ".concat(De.a.hasSearch),children:[Object(m.jsx)("h3",{className:De.a.field,children:"Search Your Favourite Movie"}),Object(m.jsx)("span",{className:De.a.formControlFeedback}),Object(m.jsx)("input",{type:"text",className:De.a.formControl,placeholder:"Search",value:d,onChange:function(e){return j(e.target.value)}})]}),Object(m.jsx)("div",{className:De.a.flex,children:i?Object(m.jsx)(V,{}):a.length?a.map((function(e,t){return Object(m.jsx)(P,Object(T.a)({},e),t)})):Object(m.jsx)("p",{className:De.a.notFound,children:"No currently found results from your search :("})})]})};var Te=function(){return Object(m.jsxs)(S.c,{children:[Object(m.jsx)(S.a,{path:"/",exact:!0,component:H}),Object(m.jsx)(S.a,{path:"/auth/register",exact:!0,component:G}),Object(m.jsx)(S.a,{path:"/auth/login",exact:!0,component:Q}),Object(m.jsx)(S.a,{path:"/movies/create",exact:!0,component:re}),Object(m.jsx)(S.a,{path:"/movies/details/:movieId",exact:!0,component:we}),Object(m.jsx)(S.a,{path:"/movies/edit/:movieId",exact:!0,component:Ie}),Object(m.jsx)(S.a,{path:"/filter",exact:!0,component:Se})]})};var ye=function(){return Object(m.jsxs)(i.a,{children:[Object(m.jsx)(D,{}),Object(m.jsx)(Te,{})]})},Ae=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,210)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),r(e),n(e),c(e),s(e)}))},Ee=Object(O.a)({reducer:{auth:N.reducer}});s.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(p.a,{store:Ee,children:Object(m.jsx)(ye,{})})}),document.getElementById("root")),Ae()},26:function(e,t,a){e.exports={movieDetailsButtonWrapper:"DetailsButtons_movieDetailsButtonWrapper__3mvip",movieDetailsBtnDelete:"DetailsButtons_movieDetailsBtnDelete__1iHRH",movieDetailsBtnEdit:"DetailsButtons_movieDetailsBtnEdit__29_wv",movieDetailsBtnLike:"DetailsButtons_movieDetailsBtnLike__2UFd_",movieBtn:"DetailsButtons_movieBtn__2_EDE"}},27:function(e,t,a){e.exports={main:"Filter_main__VEfL8",hasSearch:"Filter_hasSearch___9ofW",formControl:"Filter_formControl__17WuO",field:"Filter_field__3CLR8",formControlFeedback:"Filter_formControlFeedback__1cCqt",notFound:"Filter_notFound__3PVCD",flex:"Filter_flex__nYYrG"}},30:function(e,t,a){e.exports={movieCard:"MovieCard_movieCard__2xRsx",movieCardTitle:"MovieCard_movieCardTitle__1pj1T",movieCardImage:"MovieCard_movieCardImage__1JM2n",movieCardButton:"MovieCard_movieCardButton__tbmFH",movieLikes:"MovieCard_movieLikes__3TvS0",movieComments:"MovieCard_movieComments__16S-H"}},31:function(e,t,a){e.exports={movieContainer:"Details_movieContainer__bXLeu",movieDetailsImg:"Details_movieDetailsImg__HdUz9",movieDetailsTitle:"Details_movieDetailsTitle__fsiae",movieDetailsInfo:"Details_movieDetailsInfo__1pco2",movieDetailsInfoImg:"Details_movieDetailsInfoImg__1C1Zm",movieDetailsInfoParagraph:"Details_movieDetailsInfoParagraph__kE1fQ"}},35:function(e,t,a){e.exports={overlay:"Modal_overlay__1vrlA",modal:"Modal_modal__1avHu",action:"Modal_action__3uZn8",message:"Modal_message__77rZH"}},40:function(e,t,a){e.exports={homePage:"MoviesForum_homePage__3zcuu",moviesBackgroundImage:"MoviesForum_moviesBackgroundImage__32-7u",moviesForumTitle:"MoviesForum_moviesForumTitle__1QG1M",moviesForumDescription:"MoviesForum_moviesForumDescription__1ioAS"}},41:function(e,t,a){e.exports={comments:"CommentSection_comments__1X8sj",commentTitle:"CommentSection_commentTitle__1PSk6",commentInput:"CommentSection_commentInput__7tDii",commentSubmit:"CommentSection_commentSubmit__3LZYb"}},42:function(e,t,a){e.exports={commentUser:"CommentCard_commentUser__NVcTS",commentUserContent:"CommentCard_commentUserContent__2iR1j",commentUserName:"CommentCard_commentUserName__Ranbw",deleteComment:"CommentCard_deleteComment__3AbPF",delete:"CommentCard_delete__jjNbJ"}},66:function(e,t,a){e.exports={logo:"Logo_logo__2DDgH",navListLink:"Logo_navListLink__3iPSU"}},9:function(e,t,a){e.exports={authView:"Auth_authView__155wR",cont:"Auth_cont__2nI8n",mainBox:"Auth_mainBox__3-RK2",create:"Auth_create__2iWT1",authTitle:"Auth_authTitle__1WxSV",user:"Auth_user__BuWuK",email:"Auth_email__1z0K8",pass:"Auth_pass__1ZWqY",auth:"Auth_auth__3J_oc"}},92:function(e,t,a){e.exports={header:"Header_header__39cre"}}},[[209,1,2]]]);
//# sourceMappingURL=main.3a4152ea.chunk.js.map