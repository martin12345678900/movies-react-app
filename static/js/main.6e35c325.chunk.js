(this["webpackJsonpmovie-react-app-updated"]=this["webpackJsonpmovie-react-app-updated"]||[]).push([[0],{10:function(e,t,a){e.exports={authView:"Auth_authView__155wR",cont:"Auth_cont__2nI8n",mainBox:"Auth_mainBox__3-RK2",create:"Auth_create__2iWT1",authTitle:"Auth_authTitle__1WxSV",user:"Auth_user__BuWuK",email:"Auth_email__1z0K8",pass:"Auth_pass__1ZWqY",auth:"Auth_auth__3J_oc"}},102:function(e,t,a){e.exports={movieDetailsButtonWrapper:"DetailsButtons_movieDetailsButtonWrapper__3mvip",movieBtn:"DetailsButtons_movieBtn__2_EDE"}},108:function(e,t,a){},109:function(e,t,a){},12:function(e,t,a){e.exports={createPage:"Decorate_createPage__3Wn0Q",createFormWrapper:"Decorate_createFormWrapper__2FwBu",createFormTitle:"Decorate_createFormTitle__1yns7",movieTitle:"Decorate_movieTitle__3I_Y7",moviePrice:"Decorate_moviePrice__3aeai",movieDescription:"Decorate_movieDescription__3j-t1",movieImageURL:"Decorate_movieImageURL__2UDhI",createMovieBtn:"Decorate_createMovieBtn__2OGDp"}},13:function(e,t,a){e.exports={navListItem:"Navigation_navListItem__2qYtC",navListLink:"Navigation_navListLink__V8qGO",navListWrapper:"Navigation_navListWrapper__4BGZB",searchFormWrapper:"Navigation_searchFormWrapper__1D6k6",searchInput:"Navigation_searchInput__3njbn",searchBtn:"Navigation_searchBtn__20J2k",cart:"Navigation_cart__SnN3s",counter:"Navigation_counter__YZRV2"}},19:function(e,t,a){e.exports={cartItem:"CartItem_cartItem__2S8P1",cartItemImg:"CartItem_cartItemImg__1yLNN",cartItemTitle:"CartItem_cartItemTitle__3PsOB",cartItemDesciption:"CartItem_cartItemDesciption__ZJqp3",cartItemPrice:"CartItem_cartItemPrice__kRV46",cartQuantity:"CartItem_cartQuantity__3lyjl",manipulate:"CartItem_manipulate__1sjHd",cartActions:"CartItem_cartActions__jAYFe",cartDelete:"CartItem_cartDelete__1sZxk"}},20:function(e,t,a){e.exports={loader:"Loader_loader__2y3t2",dot:"Loader_dot__H9eJx",dot1:"Loader_dot1__30nbw",dot2:"Loader_dot2__Fr4J3",dot3:"Loader_dot3__1WDe9",dot4:"Loader_dot4__1X3Rj",reveal:"Loader_reveal__3Dyqj",slide:"Loader_slide__1aB-I"}},214:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),c=a(51),s=a.n(c),i=(a(108),a(109),a(4)),o=a(2),u=a.n(o),l=a(3),m=a(36),d=function(e,t){return function(){var a=Object(l.a)(u.a.mark((function a(r){var n,c;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch("https://cars-react-app-server.herokuapp.com/users/".concat(e.toLowerCase()),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=a.sent,a.next=6,n.json();case 6:if(c=a.sent,!1!==n.ok){a.next=11;break}throw new Error("Failed while authenticating!");case 11:r(j.actions.handleAuthenticate({authToken:c.accessToken,userId:c._id,username:c.username}));case 12:a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),alert(a.t0.message);case 17:case"end":return a.stop()}}),a,null,[[0,14]])})));return function(e){return a.apply(this,arguments)}}()},j=Object(m.b)({name:"auth-slice",initialState:{isAuthenticated:!1,userAuthState:{}},reducers:{handleAuthenticate:function(e,t){e.userAuthState={authToken:t.payload.authToken,userId:t.payload.userId,username:t.payload.username},e.isAuthenticated=!0},handleLogout:function(e){e.userAuthState={authToken:null,userId:null,username:null},e.isAuthenticated=!1},setUserState:function(e,t){e.isAuthenticated=t.payload.isAuthenticated,e.userAuthState=t.payload.userAuthState}}}),p=j.actions,h=j,b=a(11),v=a(68),f=a.n(v),O=a(0);var _=function(){return Object(O.jsx)("div",{className:f.a.logo,children:Object(O.jsx)(b.b,{className:f.a.navListLink,to:"/",children:Object(O.jsx)("img",{src:"https://th.bing.com/th/id/R.5eebdba556754091bfcae7839bd65da6?rik=7mP2jf6zMqYapw&pid=ImgRaw&r=0",alt:"logo"})})})},x=Object(m.b)({name:"cart-slice",initialState:{items:[],totalPrice:0,totalQuantity:0},reducers:{setCartItems:function(e,t){e.items=t.payload.items,e.totalPrice=t.payload.totalPrice,e.totalQuantity=t.payload.totalQuantity},removeCartItems:function(e){e.items=[],e.totalPrice=0,e.totalQuantity=0},addNewCartItem:function(e,t){var a=t.payload,r=e.items.find((function(e){return e._id===a._id}));r?(e.totalPrice+=Number(r.price),r.quantity++):(e.items.push(a),e.totalPrice+=Number(a.price)),e.totalQuantity++},deleteCartItem:function(e,t){var a=e.items.find((function(e){return e._id===t.payload}));e.items=e.items.filter((function(e){return e._id!==t.payload})),e.totalQuantity-=Number(a.quantity),e.totalPrice-=Number(a.price)*Number(a.quantity)},decreaseCartItemQuantity:function(e,t){var a=e.items.find((function(e){return e._id===t.payload}));e.totalPrice-=Number(a.price),a.quantity--,e.totalQuantity--}}}),N=x.actions,g=x,I=a(13),y=a.n(I);var C=function(){var e=Object(i.c)((function(e){return e.auth.isAuthenticated})),t=Object(i.c)((function(e){return e.cart.totalQuantity})),a=Object(i.c)((function(e){return e.cart})),n=Object(i.b)();return Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("cart"))||{items:[],totalPrice:0,totalQuantity:0};n(N.setCartItems({items:e.items,totalPrice:e.totalPrice,totalQuantity:e.totalQuantity}))}),[n]),Object(r.useEffect)((function(){localStorage.setItem("cart",JSON.stringify(a))}),[a]),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("nav",{children:Object(O.jsx)("ul",{className:y.a.navListWrapper,children:e?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("li",{className:"".concat(y.a.navListItem," ").concat(y.a.cart),children:[Object(O.jsx)(b.b,{className:y.a.navListLink,to:"/cart",children:"Cart\ud83d\uded2"}),Object(O.jsx)("span",{className:y.a.counter,children:t})]}),Object(O.jsx)("li",{className:y.a.navListItem,children:Object(O.jsx)(b.b,{className:y.a.navListLink,to:"/movies/create",children:"Create Movie Article"})}),Object(O.jsx)("li",{className:y.a.navListItem,children:Object(O.jsx)(b.b,{onClick:function(){console.log("clicked"),n(p.handleLogout())},to:"/",className:y.a.navListLink,children:"Logout"})}),Object(O.jsx)("li",{className:"".concat(y.a.navListItem," ").concat(y.a.searchFormWrapper),children:Object(O.jsx)(b.b,{className:y.a.navListLink,to:"/filter",children:"Search Movies"})})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("li",{className:y.a.navListItem,children:Object(O.jsx)(b.b,{className:y.a.navListLink,to:"/auth/register",children:"Sign up"})}),Object(O.jsx)("li",{className:y.a.navListItem,children:Object(O.jsx)(b.b,{className:y.a.navListLink,to:"/auth/login",children:"Log in"})})]})})})})},w=a(96),k=a.n(w);var S=function(){return Object(O.jsxs)("header",{className:k.a.header,children:[Object(O.jsx)(_,{}),Object(O.jsx)(C,{})]})},D=a(8),L=a(7),A=a(6),T=a(42),E=a.n(T);var F=function(){return Object(O.jsx)("section",{children:Object(O.jsxs)("article",{className:E.a.homePage,children:[Object(O.jsx)("img",{className:E.a.moviesBackgroundImage,src:"https://slicksmovieblog.files.wordpress.com/2014/08/cropped-movie-banner-e1408372575210.jpg",alt:"Movie"}),Object(O.jsx)("h2",{className:E.a.moviesForumTitle,children:"Movies Forum"}),Object(O.jsx)("p",{className:E.a.moviesForumDescription,children:"Search for newest movies, post new movies, share opinions and likes anywhere, anytime!"})]})})},B=a(27),P=a.n(B);function R(e,t){return M.apply(this,arguments)}function M(){return(M=Object(l.a)(u.a.mark((function e(t,a){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,a);case 3:if((r=e.sent).ok){e.next=15;break}return e.t0=Error,e.next=8,r.json();case 8:if(e.t1=e.sent.message,e.t1){e.next=11;break}e.t1="Something went wrong!";case 11:throw e.t2=e.t1,new e.t0(e.t2);case 15:return e.next=17,r.json();case 17:return n=e.sent,e.abrupt("return",n);case 19:e.next=24;break;case 21:e.prev=21,e.t3=e.catch(0),alert(e.t3.message);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})))).apply(this,arguments)}function U(e,t,a){var r={method:e,headers:{}};return t&&(r.headers["X-Authorization"]=t),a&&(r.headers["Content-Type"]="application/json",r.body=JSON.stringify(a)),r}var W="https://cars-react-app-server.herokuapp.com";function V(e){return q.apply(this,arguments)}function q(){return(q=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(W+t,U("GET"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e,t,a){return Y.apply(this,arguments)}function Y(){return(Y=Object(l.a)(u.a.mark((function e(t,a,r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(W+t,U("POST",a,r));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e,t,a){return H.apply(this,arguments)}function H(){return(H=Object(l.a)(u.a.mark((function e(t,a,r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(W+t,U("PUT",a,r));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e,t){return Z.apply(this,arguments)}function Z(){return(Z=Object(l.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(W+t,U("DELETE",a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var z=R;function X(){return K.apply(this,arguments)}function K(){return(K=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V("/data/movies");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e,t,a){return ee.apply(this,arguments)}function ee(){return(ee=Object(l.a)(u.a.mark((function e(t,a,r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J("/data/movies/".concat(t),a,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e,t){return ae.apply(this,arguments)}function ae(){return(ae=Object(l.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G("/data/movies/".concat(t),a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){return(re=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V("/data/likes?where=movieId%3D%22".concat(t,"%22&distinct=_ownerId&count"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(){return(ne=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V("/data/comments?where=movieId%3D%22".concat(t,"%22&distinct=_ownerId&count"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e){return se.apply(this,arguments)}function se(){return(se=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V("/data/movies/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(){return(ie=Object(l.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V("/data/likes?where=movieId%3D%22".concat(t,"%22%20and%20_ownerId%3D%22").concat(a,"%22"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(){return(oe=Object(l.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q("/data/likes",t,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(){return(ue=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V("/data/comments?where=movieId%3D%22".concat(t,"%22"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(e,t){return me.apply(this,arguments)}function me(){return(me=Object(l.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q("/data/comments",t,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(){return(de=Object(l.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G("/data/comments/".concat(t),a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var je=function(e){var t=e.title,a=e.img,n=e._id,c=e.price,s=Object(r.useState)(0),i=Object(A.a)(s,2),o=i[0],u=i[1],l=Object(r.useState)(0),m=Object(A.a)(l,2),d=m[0],j=m[1];return Object(r.useEffect)((function(){return function(e){return re.apply(this,arguments)}(n).then(u)}),[n]),Object(r.useEffect)((function(){return function(e){return ne.apply(this,arguments)}(n).then(j)}),[n]),Object(O.jsxs)("div",{className:P.a.movieCard,children:[Object(O.jsxs)("article",{className:"card-header-main",children:[Object(O.jsx)("img",{className:P.a.movieCardImage,src:a,alt:"Movie Card"}),Object(O.jsx)("h3",{className:P.a.movieCardTitle,children:t})]}),Object(O.jsx)("article",{className:"card-footer",children:Object(O.jsx)(b.b,{to:"/movies/details/".concat(n),className:P.a.movieCardButton,children:"Details"})}),Object(O.jsxs)("span",{className:P.a.movieLikes,children:[o," Likes \ud83d\udc4d"]}),Object(O.jsxs)("span",{className:P.a.movieComments,children:[d," Comments \ud83d\udcad"]}),Object(O.jsxs)("span",{className:P.a.price,children:["Price: ",c,"$ \ud83e\udd11"]})]})},pe=a(20),he=a.n(pe);var be=function(){return Object(O.jsxs)("div",{className:he.a.loader,children:[Object(O.jsx)("div",{className:[he.a.dot,he.a.dot1].join(" ")}),Object(O.jsx)("div",{className:[he.a.dot,he.a.dot2].join(" ")}),Object(O.jsx)("div",{className:[he.a.dot,he.a.dot3].join(" ")}),Object(O.jsx)("div",{className:[he.a.dot,he.a.dot4].join(" ")})]})};var ve=function(){var e=Object(r.useState)([]),t=Object(A.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(!0),s=Object(A.a)(c,2),i=s[0],o=s[1];return Object(r.useEffect)((function(){X().then((function(e){n(e),o(!1)})).catch((function(e){return alert(e.message)}))}),[]),i?Object(O.jsx)(be,{}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(F,{}),Object(O.jsx)("section",{children:Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{style:{fontSize:40,fontWeight:550,textAlign:"center",marginTop:40},children:"Movie Articles"}),Object(O.jsx)("div",{className:"card-wrapper",children:a.map((function(e,t){return Object(O.jsx)(je,Object(L.a)({},e),t)}))})]})})]})},fe=a(10),Oe=a.n(fe),_e=a(103),xe=a(33);var Ne=function(e){var t=e.history,a=Object(i.b)(),r=Object(_e.a)({initialValues:{username:"",email:"",password:"",repassword:""},validateOnChange:!1,validationSchema:xe.a().shape({email:xe.c().email("Invalid email format!").max(25,"Your email must not be longer than 25 charackters!").min(10,"Your email should be at least 10 charackters!").required("This field is required!"),password:xe.c().min(6,"Password must be at least 6 charcakters!").max(15,"Password should not be longer than 15 charackters!").matches(/[A-Za-z0-9]+/,"Password should contain uppercase,lowercase charackters and digits!").required("This field is required!"),repassword:xe.c().oneOf([xe.b("password"),null],"Passwords must match!").required("This field is required!"),username:xe.c().matches(/[A-Z][A-Za-z0-9]+/,"Username have to start with uppercase letter and continue with lowercase or digits!").trim().required("Username is required!")}),onSubmit:function(){var e=Object(l.a)(u.a.mark((function e(r){var n,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.username,c=r.email,s=r.password,a(d("REGISTER",{username:n,email:c,password:s})).then(t.push("/"));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),n=r.handleSubmit,c=r.handleChange,s=r.handleBlur,o=r.errors,m=r.values,j=r.touched;return Object(O.jsx)("section",{className:Oe.a.authView,children:Object(O.jsx)("div",{className:Oe.a.cont,children:Object(O.jsx)("div",{className:Oe.a.mainBox,children:Object(O.jsx)("div",{className:Oe.a.create,children:Object(O.jsxs)("form",{onSubmit:n,children:[Object(O.jsx)("h2",{className:Oe.a.authTitle,children:"CREATE ACCOUNT"}),j.username&&o.username&&Object(O.jsx)("div",{className:"error",children:o.username}),Object(O.jsx)("input",{className:Oe.a.user,type:"text",placeholder:"\ud83d\udd11  YOUR USERNAME",name:"username",onChange:c,onBlur:s,value:m.username}),j.email&&o.email&&Object(O.jsx)("div",{className:"error",children:o.email}),Object(O.jsx)("input",{className:Oe.a.email,type:"email",placeholder:"\ud83d\udce7 YOUR EMAIL",name:"email",onChange:c,onBlur:s,value:m.email}),j.password&&o.password&&Object(O.jsx)("div",{className:"error",children:o.password}),Object(O.jsx)("input",{className:Oe.a.pass,type:"password",placeholder:"\ud83d\udd12 PASSWORD",name:"password",onChange:c,onBlur:s,value:m.password}),j.repassword&&o.repassword&&Object(O.jsx)("div",{className:"error",children:o.repassword}),Object(O.jsx)("input",{className:Oe.a.pass,type:"password",placeholder:"\ud83d\udd13 CONFIRM PASSWORD",name:"repassword",onChange:c,onBlur:s,value:m.repassword}),Object(O.jsx)("button",{type:"submit",className:Oe.a.auth,children:"Create Account"})]})})})})})};var ge=function(e){var t=e.history,a=Object(i.b)(),n=Object(r.useRef)(),c=Object(r.useRef)(),s=function(){var e=Object(l.a)(u.a.mark((function e(r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.preventDefault();try{a(d("LOGIN",{email:n.current.value,password:c.current.value})).then(t.push("/"))}catch(s){alert(s.message)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)("section",{className:Oe.a.authView,children:Object(O.jsx)("div",{className:Oe.a.cont,children:Object(O.jsx)("div",{className:Oe.a.mainBox,children:Object(O.jsx)("div",{className:Oe.a.create,children:Object(O.jsxs)("form",{onSubmit:s,children:[Object(O.jsx)("h2",{className:Oe.a.authTitle,children:"SIGN UP"}),Object(O.jsx)("input",{className:Oe.a.email,type:"email",name:"email",placeholder:"\ud83d\udce7 YOUR EMAIL",ref:n}),Object(O.jsx)("input",{className:Oe.a.pass,type:"password",name:"password",placeholder:"\ud83d\udd12 PASSWORD",ref:c}),Object(O.jsx)("button",{type:"submit",className:Oe.a.auth,children:"LOG IN"})]})})})})})},Ie=a(12),ye=a.n(Ie),Ce=a(53);var we=function(e,t,a){var n=Object(r.useState)(e),c=Object(A.a)(n,2),s=c[0],i=c[1],o=Object(r.useState)(""),m=Object(A.a)(o,2),d=m[0],j=m[1];return[s,function(e){i(Object(L.a)(Object(L.a)({},s),{},Object(Ce.a)({},e.target.name,e.target.value)))},function(){var e=Object(l.a)(u.a.mark((function e(r){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,e.next=4,z(t,{method:a.method,headers:a.headers,body:JSON.stringify(Object(L.a)({},s))});case 4:return n=e.sent,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(1),j(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),function(){i(Object.fromEntries(Object.entries(s).map((function(e){var t=Object(A.a)(e,2),a=t[0];t[1];return[a,""]}))))},d,j]};var ke=function(e){var t=e.history,a=Object(i.c)((function(e){return e.auth.userAuthState.authToken})),r=we({title:"",description:"",img:"",price:0},"https://cars-react-app-server.herokuapp.com/data/movies",{method:"POST",headers:{"Content-Type":"application/json","X-Authorization":a}}),n=Object(A.a)(r,3),c=n[0],s=n[1],o=n[2];return Object(O.jsx)("section",{className:ye.a.createPage,children:Object(O.jsxs)("div",{className:ye.a.createFormWrapper,children:[Object(O.jsx)("h2",{className:ye.a.createFormTitle,children:"CREATE MOVIE ARTICLE"}),Object(O.jsxs)("form",{onSubmit:function(e){return o(e).then(t.push("/"))},children:[Object(O.jsx)("input",{className:ye.a.movieTitle,type:"text",name:"title",placeholder:"ENTER MOVIE TITLE",onChange:s,value:c.movieTitle}),Object(O.jsx)("textarea",{className:ye.a.movieDescription,type:"text",name:"description",placeholder:"ENTER MOVIE DESCRIPTION",rows:"4",columns:"50",onChange:s,value:c.movieDescription}),Object(O.jsx)("input",{className:ye.a.movieImageURL,type:"text",name:"img",placeholder:"ENTER MOVIE IMAGE URL",onChange:s,value:c.img}),Object(O.jsx)("input",{className:ye.a.moviePrice,type:"number",name:"price",placeholder:"ENTER MOVIE PRICE",onChange:s,value:c.price}),Object(O.jsx)("button",{className:ye.a.createMovieBtn,type:"submit",children:"CREATE"})]})]})})},Se=a(32),De=a.n(Se),Le=a(72),Ae=a.n(Le),Te=a(43),Ee=a.n(Te);var Fe=function(e){var t=e.content,a=e.author,r=e.deleteCurrentComment;return Object(O.jsx)("div",{className:Ee.a.commentUser,children:Object(O.jsxs)("p",{className:Ee.a.commentUserContent,children:["\ud83d\udcad ",t,r&&Object(O.jsx)("button",{onClick:function(){return r()},className:Ee.a.deleteComment,children:"\u2716"}),Object(O.jsxs)("i",{className:Ee.a.commentUserName,children:["- ",a]})]})})},Be="get-movie-article",Pe="load-movie-article-comments",Re="get-movie-article-likes-from-user",Me="modify-movie-article-comment",Ue="like-movie-article",We={movieArticle:{},movieArticleComments:[],movieArticleLikesFromUser:[],areCommentsLoading:!0,isFormSubmited:!1,isLiked:!1,isMovieLoading:!0};function Ve(e,t){var a=t.type,r=t.payload;switch(a){case Be:return Object(L.a)(Object(L.a)({},e),{},{movieArticle:{_ownerId:r._ownerId,title:r.title,description:r.description,img:r.img,_id:r._id,price:r.price},isMovieLoading:!1});case Pe:return Object(L.a)(Object(L.a)({},e),{},{areCommentsLoading:!1,isFormSubmited:!e.isFormSubmited,movieArticleComments:r});case Re:return Object(L.a)(Object(L.a)({},e),{},{isLiked:!e.isLiked,movieArticleLikesFromUser:r});case Me:return Object(L.a)(Object(L.a)({},e),{},{isFormSubmited:!e.isFormSubmited});case Ue:return Object(L.a)(Object(L.a)({},e),{},{isLiked:!e.isLiked});default:return e}}var qe=a(73),Qe=a.n(qe);var Ye=function(){var e=Object(r.useRef)(""),t=Object(i.c)((function(e){return e.auth})),a=Object(r.useContext)(at),n=a.movieArticle,c=a.dispatch,s=function(){var a=Object(l.a)(u.a.mark((function a(r){var s;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r.preventDefault(),s=e.current.value,le(t.userAuthState.authToken,{author:t.userAuthState.username,content:s,movieId:n._id}).then((function(t){console.log(t),e.current.value="",c({type:Me})}));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return t.userAuthState.userId!==n._ownerId&&t.isAuthenticated&&Object(O.jsxs)("form",{onSubmit:s,children:[Object(O.jsx)("textarea",{className:Qe.a.commentInput,name:"content",rows:"4",cols:"50",placeholder:"Enter your expression from this movie",ref:e}),Object(O.jsx)("button",{className:Qe.a.commentSubmit,type:"submit",children:"Post comment"})]})};var Je=function(){var e=Object(r.useContext)(at),t=e.movieArticle,a=e.isFormSubmited,n=e.areCommentsLoading,c=e.movieArticleComments,s=e.dispatch,o=Object(i.c)((function(e){return e.auth}));return Object(r.useEffect)((function(){(function(e){return ue.apply(this,arguments)})(t._id).then((function(e){return s({type:Pe,payload:e})}))}),[t._id,a,s]),Object(O.jsxs)("div",{className:Ae.a.comments,children:[Object(O.jsx)("h2",{className:Ae.a.commentTitle,children:"Leave your comments here: \ud83d\udcac"}),n?Object(O.jsx)(be,{}):c.map((function(e,t){return Object(O.jsx)(Fe,{content:e.content,author:e.author,deleteCurrentComment:o.userAuthState.userId===e._ownerId?function(){(function(e,t){return de.apply(this,arguments)})(e._id,o.userAuthState.authToken).then(s({type:Me}))}:null},t)})),Object(O.jsx)(Ye,{})]})},He=a(102),Ge=a.n(He),Ze=a(44),ze=a.n(Ze);var Xe=function(e){var t=e.authToken,a=e.movieId,n=Object(D.f)(),c=function(){var e=Object(l.a)(u.a.mark((function e(r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te(a,t);case 2:n.push("/");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)(r.Fragment,{children:[Object(O.jsx)("button",{onClick:c,className:[ze.a.movieDetailsBtnDelete,ze.a.movieBtn].join(" "),children:"\u274c Delete"}),Object(O.jsx)(b.b,{to:"/movies/edit/".concat(a),className:[ze.a.movieDetailsBtnEdit,ze.a.movieBtn].join(" "),children:"\u270d Edit"})]})},Ke=a(57),$e=a.n(Ke);var et=function(e){var t=e.currentAuthState,a=Object(r.useContext)(at),n=a.dispatch,c=a.movieArticle,s=a.isLiked,o=a.movieArticleLikesFromUser,u=Object(i.b)();return Object(r.useEffect)((function(){(function(e,t){return ie.apply(this,arguments)})(c._id,t.userAuthState.userId).then((function(e){return n({type:Re,payload:e})}))}),[c._id,t.userAuthState.userId,s,n]),Object(O.jsxs)(O.Fragment,{children:[!o.length&&Object(O.jsx)(r.Fragment,{children:Object(O.jsx)("button",{onClick:function(){(function(e,t){return oe.apply(this,arguments)})(t.userAuthState.authToken,{movieId:c._id}).then(n({type:Ue}))},className:[$e.a.movieDetailsBtnLike,$e.a.movieBtn].join(" "),children:"Like \ud83d\udc4d"})}),Object(O.jsx)("button",{onClick:function(){return u(N.addNewCartItem({_id:c._id,title:c.title,description:c.description,img:c.img,price:c.price,quantity:1}))},className:$e.a.add,children:"Add To Cart"})]})};var tt=function(){var e=Object(r.useContext)(at).movieArticle,t=Object(i.c)((function(e){return e.auth})),a=t.userAuthState.authToken;return Object(O.jsx)("div",{className:Ge.a.movieDetailsButtonWrapper,children:t.isAuthenticated?t.userAuthState.userId!==e._ownerId?Object(O.jsx)(r.Fragment,{children:Object(O.jsx)(et,{currentAuthState:t})}):Object(O.jsx)(r.Fragment,{children:Object(O.jsx)(Xe,{authToken:a,movieId:e._id})}):null})},at=Object(r.createContext)("NO CURRENTLY PROVIDED DATA");var rt=function(){var e=Object(D.g)().movieId,t=Object(r.useReducer)(Ve,We),a=Object(A.a)(t,2),n=a[0],c=a[1];return Object(r.useEffect)((function(){ce(e).then((function(e){return c({type:Be,payload:{_ownerId:e._ownerId,title:e.title,description:e.description,img:e.img,_id:e._id,price:e.price}})}))}),[e]),Object(O.jsx)(r.Fragment,{children:n.isMovieLoading?Object(O.jsx)(be,{}):Object(O.jsx)("section",{children:Object(O.jsxs)("div",{className:De.a.movieContainer,children:[Object(O.jsxs)("h1",{className:De.a.movieDetailsTitle,children:["Movie title: ",n.movieArticle.title]}),Object(O.jsx)("img",{className:De.a.movieDetailsImg,src:n.movieArticle.img,alt:"movie"}),Object(O.jsxs)("div",{className:De.a.movieDetailsInfo,children:[Object(O.jsx)("h3",{className:De.a.movieDetailsInfoImg,children:"Movie Description"}),Object(O.jsx)("p",{className:De.a.movieDetailsInfoParagraph,children:n.movieArticle.description}),Object(O.jsxs)(at.Provider,{value:Object(L.a)(Object(L.a)({},n),{},{dispatch:c}),children:[Object(O.jsx)(tt,{}),Object(O.jsx)(Je,{})]})]})]})})})};var nt=function(){var e=Object(r.useState)({}),t=Object(A.a)(e,2),a=t[0],n=t[1],c=Object(D.g)().movieId,s=Object(D.f)(),o=Object(i.c)((function(e){return e.auth.userAuthState.authToken}));Object(r.useEffect)((function(){return ce(c).then(n)}),[c]);var m=function(){var e=Object(l.a)(u.a.mark((function e(t){var a,r,n,i,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=t.target,r=a.title,n=a.description,i=a.img,l=a.price,e.abrupt("return",$(c,o,{title:r.value,description:n.value,img:i.value,price:Number(l.value)}).then(s.push("/movies/details/".concat(c))));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)("section",{className:ye.a.createPage,children:Object(O.jsxs)("div",{className:ye.a.createFormWrapper,children:[Object(O.jsx)("h2",{className:ye.a.createFormTitle,children:"EDIT MOVIE ARTICLE"}),Object(O.jsxs)("form",{onSubmit:m,children:[Object(O.jsx)("input",{className:ye.a.movieTitle,type:"text",name:"title",placeholder:"ENTER MOVIE TITLE",defaultValue:a.title}),Object(O.jsx)("textarea",{className:ye.a.movieDescription,type:"text",name:"description",placeholder:"ENTER MOVIE DESCRIPTION",rows:"4",columns:"50",defaultValue:a.description}),Object(O.jsx)("input",{className:ye.a.movieImageURL,type:"text",name:"img",placeholder:"ENTER MOVIE IMAGE URL",defaultValue:a.img}),Object(O.jsx)("input",{className:ye.a.moviePrice,type:"number",name:"price",placeholder:"ENTER MOVIE PRICE",defaultValue:a.price}),Object(O.jsx)("button",{className:ye.a.createMovieBtn,type:"submit",children:"EDIT"})]})]})})},ct=a(28),st=a.n(ct);var it=function(){var e=Object(r.useState)([]),t=Object(A.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(!0),s=Object(A.a)(c,2),i=s[0],o=s[1],u=Object(r.useState)(""),l=Object(A.a)(u,2),m=l[0],d=l[1];return Object(r.useEffect)((function(){X().then((function(e){var t=e.reduce((function(e,t){var a="";for(var r in t)"title"!==r&&"description"!==r||(a+=t[r]);return a.toLowerCase().includes(m.toLowerCase())&&e.push(t),e}),[]);n(t)})).catch((function(e){return console.error(e)})).finally(o(!1))}),[m]),Object(O.jsxs)("div",{className:st.a.main,children:[Object(O.jsxs)("form",{className:"form-group ".concat(st.a.hasSearch),children:[Object(O.jsx)("h3",{className:st.a.field,children:"Search Your Favourite Movie"}),Object(O.jsx)("span",{className:st.a.formControlFeedback}),Object(O.jsx)("input",{type:"text",className:st.a.formControl,placeholder:"Search",value:m,onChange:function(e){return d(e.target.value)}})]}),Object(O.jsx)("div",{className:st.a.flex,children:i?Object(O.jsx)(be,{}):a.length?a.map((function(e,t){return Object(O.jsx)(je,Object(L.a)({},e),t)})):Object(O.jsx)("p",{className:st.a.notFound,children:"No currently found results from your search :("})})]})},ot=a(19),ut=a.n(ot);var lt=function(e){var t=e.title,a=e.description,r=e.img,n=e.quantity,c=e.price,s=e._id,o=Object(i.b)();return Object(O.jsxs)("div",{className:ut.a.cartItem,children:[Object(O.jsx)("img",{className:ut.a.cartItemImg,src:r,alt:"item"}),Object(O.jsxs)("div",{className:ut.a.cartItemDetails,children:[Object(O.jsx)("p",{className:ut.a.cartItemTitle,children:t}),Object(O.jsx)("p",{className:ut.a.cartItemDescription,children:a}),Object(O.jsxs)("p",{className:ut.a.cartItemPrice,children:["$ ",c]})]}),Object(O.jsxs)("div",{className:ut.a.cartActions,children:[Object(O.jsxs)("div",{className:ut.a.cartQuantity,children:[Object(O.jsx)("button",{onClick:function(){return o(N.addNewCartItem({_id:s,title:t,description:a,price:c,img:r,quantity:n}))},className:ut.a.manipulate,children:"\u2191"}),Object(O.jsx)("label",{htmlFor:"qty",children:n}),Object(O.jsx)("button",{onClick:function(){return o(N.decreaseCartItemQuantity(s))},className:ut.a.manipulate,children:"\u2193"})]}),Object(O.jsx)("button",{onClick:function(){return o(N.deleteCartItem(s))},className:ut.a.cartDelete,children:"\u274c"})]})]})},mt=a(29),dt=a.n(mt),jt=a(37),pt=a.n(jt);var ht=function(e){var t=e.message,a=e.closeModalClickHandler,r=e.cancelActionHandler;return Object(O.jsx)("div",{className:pt.a.overlay,children:Object(O.jsxs)("div",{className:pt.a.modal,children:[Object(O.jsx)("p",{className:pt.a.message,children:t}),Object(O.jsx)("button",{onClick:a,className:pt.a.action,children:"Okay"}),r?Object(O.jsx)("button",{onClick:r,className:pt.a.action,children:"Cancel"}):null]})})};var bt=function(e){var t=e.history,a=Object(r.useState)(null),n=Object(A.a)(a,2),c=n[0],s=n[1],o=Object(i.c)((function(e){return e.cart.items})),u=Object(i.c)((function(e){return e.cart.totalQuantity})),l=Object(i.c)((function(e){return e.cart.totalPrice})),m=Object(i.b)();return null!==c?Object(O.jsx)(ht,{message:c,closeModalClickHandler:function(){m(N.removeCartItems()),t.push("/")}}):Object(O.jsxs)("div",{className:dt.a.cartWrapper,children:[o.map((function(e,t){return Object(O.jsx)(lt,Object(L.a)({},e),t)})),Object(O.jsxs)("div",{className:dt.a.summary,children:[Object(O.jsx)("h4",{className:dt.a.summaryTitle,children:"Cart Summary"}),Object(O.jsxs)("div",{className:dt.a.summaryDetails,children:[Object(O.jsxs)("span",{className:dt.a.totalItems,children:["TOTAL: (",u," items)"]}),Object(O.jsxs)("span",{className:dt.a.totalPrice,children:["$ ",l]})]}),Object(O.jsx)("button",{onClick:function(){return s("YOUR ORDER HAS BEEN ACCEPTED!")},className:dt.a.summaryBtn,children:"Proceed To Checkout"})]})]})};var vt=function(){return Object(O.jsxs)(D.c,{children:[Object(O.jsx)(D.a,{path:"/",exact:!0,component:ve}),Object(O.jsx)(D.a,{path:"/auth/register",exact:!0,component:Ne}),Object(O.jsx)(D.a,{path:"/auth/login",exact:!0,component:ge}),Object(O.jsx)(D.a,{path:"/movies/create",exact:!0,component:ke}),Object(O.jsx)(D.a,{path:"/movies/details/:movieId",exact:!0,component:rt}),Object(O.jsx)(D.a,{path:"/movies/edit/:movieId",exact:!0,component:nt}),Object(O.jsx)(D.a,{path:"/filter",exact:!0,component:it}),Object(O.jsx)(D.a,{path:"/cart",exact:!0,component:bt})]})};var ft=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.auth}));return Object(r.useEffect)((function(){var t=JSON.parse(localStorage.getItem("user"))||{userAuthState:{authToken:null,userId:null,username:null},isAuthenticated:!1};e(p.setUserState({isAuthenticated:t.isAuthenticated,userAuthState:t.userAuthState}))}),[e]),Object(r.useEffect)((function(){localStorage.setItem("user",JSON.stringify(t))}),[t]),Object(O.jsxs)(b.a,{children:[Object(O.jsx)(S,{}),Object(O.jsx)(vt,{})]})},Ot=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,215)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),r(e),n(e),c(e),s(e)}))},_t=Object(m.a)({reducer:{auth:h.reducer,cart:g.reducer}});s.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(i.a,{store:_t,children:Object(O.jsx)(ft,{})})}),document.getElementById("root")),Ot()},27:function(e,t,a){e.exports={movieCard:"MovieCard_movieCard__2xRsx",movieCardTitle:"MovieCard_movieCardTitle__1pj1T",movieCardImage:"MovieCard_movieCardImage__1JM2n",movieCardButton:"MovieCard_movieCardButton__tbmFH",movieLikes:"MovieCard_movieLikes__3TvS0",movieComments:"MovieCard_movieComments__16S-H",price:"MovieCard_price__3wA7o"}},28:function(e,t,a){e.exports={main:"Filter_main__VEfL8",hasSearch:"Filter_hasSearch___9ofW",formControl:"Filter_formControl__17WuO",field:"Filter_field__3CLR8",formControlFeedback:"Filter_formControlFeedback__1cCqt",notFound:"Filter_notFound__3PVCD",flex:"Filter_flex__nYYrG"}},29:function(e,t,a){e.exports={cartWrapper:"Cart_cartWrapper__8Sa7Q",summary:"Cart_summary__1fLHf",summaryTitle:"Cart_summaryTitle__oTaBB",summaryDetails:"Cart_summaryDetails__UI7mY",totalItems:"Cart_totalItems__jMlvo",totalPrice:"Cart_totalPrice__3hlAx",summaryBtn:"Cart_summaryBtn__3W7lP"}},32:function(e,t,a){e.exports={movieContainer:"Details_movieContainer__bXLeu",movieDetailsImg:"Details_movieDetailsImg__HdUz9",movieDetailsTitle:"Details_movieDetailsTitle__fsiae",movieDetailsInfo:"Details_movieDetailsInfo__1pco2",movieDetailsInfoImg:"Details_movieDetailsInfoImg__1C1Zm",movieDetailsInfoParagraph:"Details_movieDetailsInfoParagraph__kE1fQ"}},37:function(e,t,a){e.exports={overlay:"Modal_overlay__1vrlA",modal:"Modal_modal__1avHu",action:"Modal_action__3uZn8",message:"Modal_message__77rZH"}},42:function(e,t,a){e.exports={homePage:"MoviesForum_homePage__3zcuu",moviesBackgroundImage:"MoviesForum_moviesBackgroundImage__32-7u",moviesForumTitle:"MoviesForum_moviesForumTitle__1QG1M",moviesForumDescription:"MoviesForum_moviesForumDescription__1ioAS"}},43:function(e,t,a){e.exports={commentUser:"CommentCard_commentUser__NVcTS",commentUserContent:"CommentCard_commentUserContent__2iR1j",commentUserName:"CommentCard_commentUserName__Ranbw",deleteComment:"CommentCard_deleteComment__3AbPF",delete:"CommentCard_delete__jjNbJ"}},44:function(e,t,a){e.exports={movieBtn:"OwnerButtons_movieBtn__3xYKG",movieDetailsBtnDelete:"OwnerButtons_movieDetailsBtnDelete__1vILQ",movieDetailsBtnEdit:"OwnerButtons_movieDetailsBtnEdit__jceXy"}},57:function(e,t,a){e.exports={movieBtn:"UserButtons_movieBtn__3nfS0",movieDetailsBtnLike:"UserButtons_movieDetailsBtnLike__HtgJ1",add:"UserButtons_add__1RXCG"}},68:function(e,t,a){e.exports={logo:"Logo_logo__2DDgH",navListLink:"Logo_navListLink__3iPSU"}},72:function(e,t,a){e.exports={comments:"CommentSection_comments__1X8sj",commentTitle:"CommentSection_commentTitle__1PSk6"}},73:function(e,t,a){e.exports={commentInput:"CommentForm_commentInput__hfKgB",commentSubmit:"CommentForm_commentSubmit__2yK6V"}},96:function(e,t,a){e.exports={header:"Header_header__39cre"}}},[[214,1,2]]]);
//# sourceMappingURL=main.6e35c325.chunk.js.map