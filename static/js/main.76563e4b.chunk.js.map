{"version":3,"sources":["components/Common/Loader/Loader.module.css","store/auth-slice.js","components/Header/Logo/Logo.js","store/cart-slice.js","components/Header/Navigation/Hamburger/Hamburger.js","components/Header/Navigation/Navigation.js","components/Header/Header.js","components/Main/Home/MoviesForum/MoviesForum.js","utils/api.js","utils/requests.js","components/Main/Home/MovieCard/MovieCard.js","components/Common/Loader/Loader.js","components/Main/Home/Home.js","components/Main/Auth/Register/Register.js","components/Main/Auth/Login/Login.js","components/CustomHooks/useForm.js","components/Main/Decorate/Create/Create.js","components/Main/Details/CommentSection/CommentCard/CommentCard.js","components/Main/Details/reducer.js","components/Main/Details/CommentSection/CommentForm/CommentForm.js","components/Main/Details/CommentSection/CommentSection.js","components/Main/Details/DetailsButtons/OwnerButtons/OwnerButtons.js","components/Main/Details/DetailsButtons/UserButtons/UserButtons.js","components/Main/Details/DetailsButtons/DetailsButtons.js","components/Main/Details/Details.js","components/Main/Decorate/Edit/Edit.js","components/Main/Filter/Filter.js","components/Main/Cart/CartItem/CartItem.js","components/Common/Modal/Modal.js","components/Main/Cart/Cart.js","components/Main/Main.js","App.js","reportWebVitals.js","store/index.js","index.js"],"names":["module","exports","authenticate","authType","userDataObj","dispatch","a","fetch","toLowerCase","method","headers","body","JSON","stringify","response","json","responseData","ok","Error","authSlice","actions","handleAuthenticate","authToken","accessToken","userId","_id","username","alert","message","createSlice","name","initialState","isAuthenticated","userAuthState","reducers","state","action","payload","handleLogout","setUserState","authSliceActions","Logo","className","to","src","alt","cartSlice","items","totalPrice","totalQuantity","setCartItems","removeCartItems","addNewCartItem","newCartItem","selectedItem","find","item","Number","price","quantity","push","deleteCartItem","filter","decreaseCartItemQuantity","cartSliceActions","Hamburger","isActive","setIsActive","onClick","type","Navigation","useState","useSelector","auth","totalCartItems","cart","cartState","useDispatch","useEffect","cartStateFromLocalStorage","parse","localStorage","getItem","setItem","console","log","Header","MoviesForum","request","URL","configOptions","data","setOptions","options","baseURL","get","endpoint","post","put","del","getMovieArticles","api","updateMovieArticle","movieId","deleteMovieArticle","getSpecificMovieArticle","postMovieArticleComment","commentId","MovieCard","title","img","likesCount","setLikesCount","commentsCount","setCommentsCount","getMovieArticleLikesCount","then","getMovieArticleCommentsCount","Loader","style","loader","dot","dot1","join","dot2","dot3","dot4","Home","movieArticles","setMoviesArticles","isLoading","setIsLoading","movies","catch","err","fontSize","fontWeight","textAlign","marginTop","map","movieProps","index","Register","history","useHistory","useFormik","initialValues","email","password","repassword","validateOnChange","validationSchema","yup","shape","max","min","required","matches","oneOf","trim","onSubmit","handleSubmit","handleChange","handleBlur","errors","values","touched","placeholder","onChange","onBlur","value","Login","loginInputFields","emailField","useRef","passwordField","onLoginSubmitHandler","e","preventDefault","emailInputValue","current","passwordInputValue","ref","useForm","optionsConfig","setState","errorMessage","setErrorMessage","target","Object","fromEntries","entries","key","Create","userAuthToken","description","movieTitle","rows","columns","movieDescription","CommentCard","content","author","deleteCurrentComment","REDUCER_ACTIONS","INITIAL_MOVIE_DETAILS_STATE","movieArticle","movieArticleComments","movieArticleLikesFromUser","areCommentsLoading","isFormSubmited","isLiked","isMovieLoading","reducer","_ownerId","CommentForm","authState","useContext","DetailsContextProvider","postNewComment","reset","cols","CommentSection","currentUserState","getMovieArticleComments","movieArticleComment","deleteMovieArticleComment","OwnerButtons","UserButtons","currentAuthState","dispatchRedux","getMovieArticleLikesFromUser","userLikes","length","postMovieArticleLike","DetailsButtons","createContext","Details","useParams","useReducer","details","movieDetails","Provider","Edit","setDetails","onEditMovieArticleSubmitHandler","defaultValue","Filter","searchResults","setSearchResults","loading","setLoading","searchInput","setSearchInput","results","reduce","accumulator","object","str","includes","error","finally","result","CartItem","htmlFor","Modal","closeModalClickHandler","cancelActionHandler","Cart","proccedToCheckout","setProccedToCheckout","cartItems","cartItem","Main","path","exact","component","App","authStateFromLocalStorege","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","store","configureStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.76563e4b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__2y3t2\",\"dot\":\"Loader_dot__H9eJx\",\"dot1\":\"Loader_dot1__30nbw\",\"dot2\":\"Loader_dot2__Fr4J3\",\"dot3\":\"Loader_dot3__1WDe9\",\"dot4\":\"Loader_dot4__1X3Rj\",\"reveal\":\"Loader_reveal__3Dyqj\",\"slide\":\"Loader_slide__1aB-I\"};","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nconst initialAuthState = {\r\n    isAuthenticated: false,\r\n    userAuthState: {},\r\n}\r\n\r\nexport const authenticate = (authType, userDataObj) => {\r\n    return async function(dispatch) {\r\n        try {\r\n            const response = await fetch(`https://cars-react-app-server.herokuapp.com/users/${authType.toLowerCase()}`, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(userDataObj)\r\n            });\r\n            const responseData = await response.json();\r\n\r\n            if (response.ok === false) {\r\n                throw new Error('Failed while authenticating!');\r\n            } else {\r\n                dispatch(authSlice\r\n                    .actions\r\n                    .handleAuthenticate({\r\n                        authToken: responseData.accessToken,\r\n                        userId: responseData._id,\r\n                        username: responseData.username\r\n                    }));\r\n            }\r\n        } catch (error) {\r\n            alert(error.message);\r\n        }\r\n    }\r\n}\r\n\r\nconst authSlice = createSlice({\r\n    name: 'auth-slice',\r\n    initialState: initialAuthState,\r\n    reducers: {\r\n        handleAuthenticate(state, action) {\r\n            state.userAuthState = {\r\n                authToken: action.payload.authToken,\r\n                userId: action.payload.userId,\r\n                username: action.payload.username\r\n            };\r\n            state.isAuthenticated = true;\r\n        },\r\n        handleLogout(state) {\r\n            state.userAuthState = {\r\n                authToken: null,\r\n                userId: null,\r\n                username: null\r\n            };\r\n            state.isAuthenticated = false;\r\n        },\r\n        setUserState(state, action) {\r\n            state.isAuthenticated = action.payload.isAuthenticated;\r\n            state.userAuthState = action.payload.userAuthState;\r\n        }\r\n    },\r\n});\r\n\r\nexport const authSliceActions = authSlice.actions;\r\n\r\nexport default authSlice;","import { Link } from 'react-router-dom';\r\n\r\nimport './Logo.scss';\r\nfunction Logo() {\r\n    return (\r\n        <div className=\"Logo\">\r\n            <Link to=\"/\">\r\n                <img className=\"Logo__image\" src=\"https://th.bing.com/th/id/R.5eebdba556754091bfcae7839bd65da6?rik=7mP2jf6zMqYapw&pid=ImgRaw&r=0\" alt=\"logo\" />\r\n            </Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Logo;","import { createSlice } from '@reduxjs/toolkit';\r\n\r\n\r\nconst cartSlice = createSlice({\r\n    name: 'cart-slice',\r\n    initialState: {\r\n        items: [],\r\n        totalPrice: 0,\r\n        totalQuantity: 0,\r\n    },\r\n    reducers: {\r\n        setCartItems(state, action) {\r\n            state.items = action.payload.items;\r\n            state.totalPrice = action.payload.totalPrice;\r\n            state.totalQuantity = action.payload.totalQuantity;\r\n        },\r\n        removeCartItems(state) {\r\n            state.items = [];\r\n            state.totalPrice = 0;\r\n            state.totalQuantity = 0;\r\n        },\r\n        addNewCartItem(state, action) {\r\n            const newCartItem = action.payload;\r\n            const selectedItem = state.items.find(item => item._id === newCartItem._id);\r\n\r\n            if (!selectedItem) {\r\n                state.items.push(newCartItem);\r\n                state.totalPrice += Number(newCartItem.price);\r\n            } else {\r\n                state.totalPrice += Number(selectedItem.price);\r\n                selectedItem.quantity++;\r\n            }\r\n            state.totalQuantity++;\r\n        },\r\n        deleteCartItem(state, action) {\r\n            const item = state.items.find(item => item._id === action.payload);\r\n            state.items = state.items.filter(item => item._id !== action.payload);\r\n\r\n            state.totalQuantity -= Number(item.quantity);\r\n            state.totalPrice -= Number(item.price) * Number(item.quantity);\r\n        },\r\n        decreaseCartItemQuantity(state, action) {\r\n            const item = state.items.find(item => item._id === action.payload);\r\n\r\n            state.totalPrice -= Number(item.price);\r\n            item.quantity--;\r\n            state.totalQuantity--;\r\n        }\r\n    }\r\n});\r\n\r\nexport const cartSliceActions = cartSlice.actions;\r\n\r\nexport default cartSlice;","import './Hamburger.scss';\r\n\r\nfunction Hamburger({isActive, setIsActive}) {\r\n    return (\r\n        <button onClick={() => setIsActive(state => !state)} className={`hamburger hamburger--spin ${isActive && 'is-active'}`} type=\"button\">\r\n            <span className=\"hamburger-box\">\r\n                <span className=\"hamburger-inner\"></span>\r\n            </span>\r\n        </button>\r\n    );\r\n}\r\nexport default Hamburger;","import { Link } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useEffect, useState } from 'react';\r\n\r\nimport { cartSliceActions } from '../../../store/cart-slice';\r\n\r\nimport { authSliceActions } from '../../../store/auth-slice';\r\n\r\nimport './Navigation.scss';\r\nimport Hamburger from './Hamburger';\r\n\r\nfunction Navigation() {\r\n    const [isActive, setIsActive] = useState(false);\r\n\r\n    const isAuthenticated = useSelector(state => state.auth.isAuthenticated);\r\n    const totalCartItems = useSelector(state => state.cart.totalQuantity);\r\n    const cartState = useSelector(state => state.cart);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        const cartStateFromLocalStorage = JSON.parse(localStorage.getItem('cart')) || {\r\n            items: [],\r\n            totalPrice: 0,\r\n            totalQuantity: 0\r\n        };\r\n\r\n        dispatch(cartSliceActions.setCartItems({\r\n            items: cartStateFromLocalStorage.items,\r\n            totalPrice: cartStateFromLocalStorage.totalPrice,\r\n            totalQuantity: cartStateFromLocalStorage.totalQuantity\r\n        }));\r\n    }, [dispatch]);\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem('cart', JSON.stringify(cartState));\r\n    }, [cartState]);\r\n    return (\r\n        <>\r\n            <nav className=\"Nav\">\r\n                <ul className={`Nav__list ${isActive ? 'Nav__list--active' : 'Nav__list--unactive'}`}>\r\n                    {\r\n                        isAuthenticated\r\n                            ? <>\r\n                                <li className=\"Nav__list__item\">\r\n                                    <Link to=\"/cart\">Cart&#128722;</Link>\r\n                                    <span className=\"Nav__list__item__total\">{totalCartItems}</span>\r\n                                </li>\r\n                                <li className=\"Nav__list__item\">\r\n                                    <Link to=\"/movies/create\">Create Movie Article</Link>\r\n                                </li>\r\n                                <li className=\"Nav__list__item\">\r\n                                    <Link onClick={() => {\r\n                                        console.log('logouted');\r\n                                        dispatch(authSliceActions.handleLogout());\r\n                                    }}\r\n                                        to=\"/\"\r\n                                    >\r\n                                        Logout\r\n                                    </Link>\r\n                                </li>\r\n                                <li className=\"Nav__list__item\">\r\n                                    <Link to=\"/filter\">Search Movies</Link>\r\n                                </li>\r\n                            </>\r\n                            : <>\r\n                                <li className=\"Nav__list__item\">\r\n                                    <Link to=\"/auth/register\">Sign up</Link>\r\n                                </li>\r\n                                <li className=\"Nav__list__item\">\r\n                                    <Link to=\"/auth/login\">Log in</Link>\r\n                                </li>\r\n                            </>\r\n                    }\r\n                </ul>\r\n                <Hamburger isActive={isActive} setIsActive={setIsActive} />\r\n            </nav>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Navigation;","import Logo from './Logo/Logo';\r\nimport Navigation from './Navigation/Navigation';\r\n\r\nimport './Header.scss';\r\n\r\nfunction Header() {\r\n    return (\r\n        <header className=\"Header\">\r\n            <Logo />\r\n            <Navigation />\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import './MoviesForum.scss';\r\n\r\nfunction MoviesForum() {\r\n    return (\r\n        <section>\r\n            <article className=\"Home\">\r\n                <img className=\"Home__image\" src=\"https://slicksmovieblog.files.wordpress.com/2014/08/cropped-movie-banner-e1408372575210.jpg\" alt=\"Movie\" />\r\n                <h2 className=\"Home__details\">\r\n                    <span className=\"Home__details__title\">Movies Forum</span>\r\n                    <span className=\"Home__details__description\">Search for newest movies, post new movies, share opinions and likes anywhere, anytime!</span>\r\n                </h2>\r\n            </article>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default MoviesForum;","async function request(URL, configOptions) {\r\n    try {\r\n        const response = await fetch(URL, configOptions);\r\n\r\n        if (!response.ok) {\r\n            throw new Error((await response.json()).message || 'Something went wrong!');\r\n        } else {\r\n            const data = await response.json();\r\n\r\n            return data;\r\n        }\r\n    } catch (error) {\r\n        alert(error.message);\r\n    }\r\n}\r\n\r\nfunction setOptions(method, authToken, body) {\r\n    let options = {\r\n        method,\r\n        headers: {},\r\n    }\r\n\r\n    if (authToken) {\r\n        options.headers['X-Authorization'] = authToken;\r\n    }\r\n\r\n    if (body) {\r\n        options.headers['Content-Type'] = 'application/json';\r\n        options.body = JSON.stringify(body);\r\n    }\r\n\r\n    return options;\r\n}\r\n\r\nconst baseURL = 'https://cars-react-app-server.herokuapp.com';\r\n\r\nasync function get(endpoint) {\r\n    return await request(baseURL + endpoint, setOptions('GET'));\r\n}\r\n\r\nasync function post(endpoint, authToken, data) {\r\n    return await request(baseURL + endpoint, setOptions('POST', authToken, data));\r\n}\r\n\r\nasync function put(endpoint, authToken, data) {\r\n    return await request(baseURL + endpoint, setOptions('PUT', authToken, data));\r\n}\r\n\r\nasync function del(endpoint, authToken) {\r\n    return await request(baseURL + endpoint, setOptions('DELETE', authToken));\r\n}\r\n\r\nasync function patch(endpoint, authToken, data) {\r\n    return await request(baseURL + endpoint, setOptions('PATCH', authToken, data));\r\n}\r\n\r\nexport {\r\n    get,\r\n    post,\r\n    put,\r\n    del,\r\n    patch\r\n}\r\n\r\nexport default request;","import * as api from './api';\r\n\r\nexport async function getMovieArticles() {\r\n    return await api.get('/data/movies');\r\n}\r\n\r\nexport async function postMovieArticle(authToken, data) {\r\n    return await api.post('/data/movies', authToken, data);\r\n}\r\n\r\nexport async function updateMovieArticle(movieId, authToken, data) {\r\n    return await api.put(`/data/movies/${movieId}`, authToken, data);\r\n}\r\n\r\nexport async function deleteMovieArticle(movieId, authToken) {\r\n    return await api.del(`/data/movies/${movieId}`, authToken);\r\n}\r\n\r\nexport async function getMovieArticleLikesCount(movieId) {\r\n    return await api.get(`/data/likes?where=movieId%3D%22${movieId}%22&distinct=_ownerId&count`)\r\n}\r\n\r\nexport async function getMovieArticleCommentsCount(movieId) {\r\n    return await api.get(`/data/comments?where=movieId%3D%22${movieId}%22&distinct=_ownerId&count`);\r\n}\r\n\r\nexport async function getSpecificMovieArticle(movieId) {\r\n    return await api.get(`/data/movies/${movieId}`);\r\n}\r\n\r\nexport async function getMovieArticleLikesFromUser(movieId, userId) {\r\n    return await api.get(`/data/likes?where=movieId%3D%22${movieId}%22%20and%20_ownerId%3D%22${userId}%22`)\r\n}\r\n\r\nexport async function postMovieArticleLike(authToken, data) {\r\n    return await api.post('/data/likes', authToken, data);\r\n}\r\n\r\nexport async function getMovieArticleComments(movieId) {\r\n    return await api.get(`/data/comments?where=movieId%3D%22${movieId}%22`)\r\n}\r\n\r\nexport async function postMovieArticleComment(authToken, data) {\r\n    return await api.post('/data/comments', authToken, data);\r\n}\r\n\r\nexport async function deleteMovieArticleComment(commentId, authToken) {\r\n    return await api.del(`/data/comments/${commentId}`, authToken);\r\n}\r\n\r\nexport async function logout() {\r\n    return await api.get('/users/logout');\r\n}\r\n\r\nexport async function getCartItems() {\r\n    return await api.get('/data/cart');\r\n}\r\n\r\nexport async function addCartItem(authToken, data) {\r\n    return await api.post('/data/cart', authToken, data);\r\n}\r\n\r\nexport async function deleteCartItem(cartId, authToken) {\r\n    return await api.del(`/data/cart/${cartId}`, authToken);\r\n}\r\n\r\nexport async function updateCartStore(authToken, data) {\r\n    return await api.put('/data/cart/9Rxf5qvVFHR0YcFpZgP5', authToken, data);\r\n}","import { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './MovieCard.scss';\r\n\r\nimport { getMovieArticleCommentsCount, getMovieArticleLikesCount } from '../../../../utils/requests';\r\n\r\nfunction MovieCard({\r\n    title,\r\n    img,\r\n    _id,\r\n    price\r\n}) {\r\n    const [likesCount, setLikesCount] = useState(0);\r\n    const [commentsCount, setCommentsCount] = useState(0);\r\n\r\n    useEffect(() => {\r\n        return getMovieArticleLikesCount(_id).then(setLikesCount);\r\n    }, [_id]);\r\n\r\n    useEffect(() => {\r\n        return getMovieArticleCommentsCount(_id).then(setCommentsCount);\r\n    }, [_id]);\r\n\r\n    return (\r\n        <div className=\"Card\">\r\n            <article className=\"card-header-main\">\r\n                <img className=\"Card__image\" src={img} alt=\"Movie Card\" />\r\n                <h3 className=\"Card__title\">{title}</h3>\r\n            </article>\r\n            <article className=\"card-footer\">\r\n                <Link to={`/movies/details/${_id}`} className=\"Card__button\">Details</Link>\r\n            </article>\r\n            <span className=\"Card__likes\">{likesCount} Likes &#128077;</span>\r\n            <span className=\"Card__comments\">{commentsCount} Comments &#128173;</span>\r\n            <span className=\"Card__price\">Price: {price}$</span>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MovieCard;","import style from './Loader.module.css';\r\n\r\nfunction Loader() {\r\n    return (\r\n        <div className={style.loader}>\r\n            <div className={[style.dot, style.dot1].join(' ')}></div>\r\n            <div className={[style.dot, style.dot2].join(' ')}></div>\r\n            <div className={[style.dot, style.dot3].join(' ')}></div>\r\n            <div className={[style.dot, style.dot4].join(' ')}></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loader;","import MoviesForum from './MoviesForum/MoviesForum';\r\nimport MovieCard from './MovieCard/MovieCard';\r\n\r\nimport Loader from '../../Common/Loader/Loader';\r\nimport { useEffect, useState } from 'react';\r\n\r\nimport './Home.scss';\r\n\r\nimport { getMovieArticles } from '../../../utils/requests';\r\n\r\nfunction Home() {\r\n    const [movieArticles, setMoviesArticles] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(true); \r\n\r\n    useEffect(() => {\r\n        getMovieArticles()\r\n            .then(movies => {\r\n                setMoviesArticles(movies);\r\n                setIsLoading(false);\r\n            })\r\n            .catch(err => alert(err.message))\r\n    }, []);\r\n\r\n    if (isLoading) {\r\n        return <Loader />\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <MoviesForum />\r\n            <section>\r\n                <div>\r\n                    <h1 style={{\r\n                        fontSize: 40,\r\n                        fontWeight: 550,\r\n                        textAlign: 'center',\r\n                        marginTop: 30\r\n                    }}>Movie Articles</h1>\r\n                    <div className=\"Wrapper\">\r\n                        {\r\n                            movieArticles.map((movieProps, index) => <MovieCard key={index} {...movieProps} />)\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Home;","import { useDispatch } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport '../Auth.scss';\r\n\r\nimport { useFormik } from 'formik';\r\nimport { authenticate } from '../../../../store/auth-slice';\r\n\r\nimport * as yup from 'yup';\r\n\r\nfunction Register() {\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n\r\n    const { handleSubmit, handleChange, handleBlur, errors, values, touched } = useFormik({\r\n        initialValues: {\r\n            username: '',\r\n            email: '',\r\n            password: '',\r\n            repassword: '',\r\n        },\r\n        validateOnChange: false,\r\n        validationSchema: yup.object().shape({\r\n            email: yup.string()\r\n                .email('Invalid email format!')\r\n                .max(25, 'Your email must not be longer than 25 charackters!')\r\n                .min(10, 'Your email should be at least 10 charackters!')\r\n                .required('This field is required!'),\r\n            password: yup.string()\r\n                .min(6, 'Password must be at least 6 charcakters!')\r\n                .max(15, 'Password should not be longer than 15 charackters!')\r\n                .matches(/[A-Za-z0-9]+/, 'Password should contain uppercase,lowercase charackters and digits!')\r\n                .required('This field is required!'),\r\n            repassword: yup.string()\r\n                .oneOf([yup.ref('password'), null], 'Passwords must match!')\r\n                .required('This field is required!'),\r\n            username: yup.string()\r\n                .matches(/[A-Z][A-Za-z0-9]+/, 'Username have to start with uppercase letter and continue with lowercase or digits!')\r\n                .trim()\r\n                .required('Username is required!')\r\n        }),\r\n        onSubmit: async ({ username, email, password }) => {\r\n            try {\r\n                dispatch(authenticate('REGISTER', {\r\n                    username,\r\n                    email,\r\n                    password\r\n                }))\r\n                    .then(history.push('/'));\r\n            } catch(err) {\r\n                alert(err.message);\r\n            }\r\n        }\r\n    })\r\n\r\n    return (\r\n        <section className=\"Auth\">\r\n            <div className=\"Auth__cont\">\r\n                <div className=\"Auth__cont__main\">\r\n                    <div className=\"Auth__cont__main__create\">\r\n                        <form onSubmit={handleSubmit}>\r\n                            <h2 className=\"Auth__cont__main__create__title\">CREATE ACCOUNT</h2>\r\n                            {touched.username && errors.username && <div className=\"error\">{errors.username}</div>}\r\n                            <input className=\"Auth__cont__main__create__user\"\r\n                                type=\"text\"\r\n                                placeholder=\"&#128273;  YOUR USERNAME\"\r\n                                name=\"username\"\r\n                                onChange={handleChange}\r\n                                onBlur={handleBlur}\r\n                                value={values.username}\r\n                            />\r\n                            {touched.email && errors.email && <div className=\"error\">{errors.email}</div>}\r\n                            <input className=\"Auth__cont__main__create__email\"\r\n                                type=\"email\"\r\n                                placeholder=\"&#128231; YOUR EMAIL\"\r\n                                name=\"email\"\r\n                                onChange={handleChange}\r\n                                onBlur={handleBlur}\r\n                                value={values.email}\r\n                            />\r\n                            {touched.password && errors.password && <div className=\"error\">{errors.password}</div>}\r\n                            <input className=\"Auth__cont__main__create__pass\"\r\n                                type=\"password\"\r\n                                placeholder=\"&#128274; PASSWORD\"\r\n                                name=\"password\"\r\n                                onChange={handleChange}\r\n                                onBlur={handleBlur}\r\n                                value={values.password}\r\n                            />\r\n                            {touched.repassword && errors.repassword && <div className=\"error\">{errors.repassword}</div>}\r\n                            <input className=\"Auth__cont__main__create__pass\"\r\n                                type=\"password\"\r\n                                placeholder=\"&#128275; CONFIRM PASSWORD\"\r\n                                name=\"repassword\"\r\n                                onChange={handleChange}\r\n                                onBlur={handleBlur}\r\n                                value={values.repassword}\r\n                            />\r\n                            <button type=\"submit\" className=\"Auth__cont__main__create__btn\">Create Account</button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Register;\r\n","import '../Auth.scss';\r\nimport { useRef } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport { authenticate} from '../../../../store/auth-slice';\r\n\r\nfunction Login({\r\n    history\r\n}) {\r\n    const dispatch = useDispatch();\r\n    const loginInputFields = {\r\n        emailField: useRef(''),\r\n        passwordField: useRef('')\r\n    }\r\n\r\n    const onLoginSubmitHandler = async (e) => {\r\n        e.preventDefault();\r\n\r\n        const emailInputValue = loginInputFields.emailField.current.value;\r\n        const passwordInputValue = loginInputFields.passwordField.current.value;\r\n\r\n        try {\r\n            dispatch(authenticate('LOGIN', {\r\n                email: emailInputValue,\r\n                password: passwordInputValue\r\n            }))\r\n                .then(history.push('/'));\r\n        } catch (err) {\r\n            alert(err.message);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <section className=\"Auth\">\r\n            <div className=\"Auth__cont\">\r\n                <div className=\"Auth__cont__main\">\r\n                    <div className=\"Auth__cont__main__create\">\r\n                        <form onSubmit={onLoginSubmitHandler}>\r\n                            <h2 className=\"Auth__cont__main__create__title\">SIGN UP</h2>\r\n                            <input className=\"Auth__cont__main__create__email\"\r\n                                type=\"email\"\r\n                                name=\"email\"\r\n                                placeholder=\"&#128231; YOUR EMAIL\"\r\n                                ref={loginInputFields.emailField}\r\n                            />\r\n                            <input className=\"Auth__cont__main__create__pass\"\r\n                                type=\"password\"\r\n                                name=\"password\"\r\n                                placeholder=\"&#128274; PASSWORD\"\r\n                                ref={loginInputFields.passwordField}\r\n                            />\r\n                            <button type=\"submit\" className=\"Auth__cont__main__create__btn\">LOG IN</button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Login;\r\n","import { useState } from 'react';\r\nimport request from '../../utils/api';\r\n\r\nfunction useForm(initialState, URL, optionsConfig) {\r\n    const [state, setState] = useState(initialState);\r\n    const [errorMessage, setErrorMessage] = useState('');\r\n\r\n    const handleChange = (e) => {\r\n        setState({\r\n            ...state,\r\n            [e.target.name]: e.target.value\r\n        });\r\n    }\r\n\r\n    const handleSubmit = async(e) => {\r\n        e.preventDefault();\r\n\r\n        try {\r\n            const data = await request(URL, {\r\n                method: optionsConfig.method,\r\n                headers: optionsConfig.headers,\r\n                body: JSON.stringify({...state })\r\n            });\r\n\r\n            return data;\r\n        } catch (error) {\r\n            setErrorMessage(error.message);\r\n        }\r\n    }\r\n\r\n    const resetForm = () => {\r\n        setState(Object.fromEntries(Object.entries(state).map(([key, value]) => [key, ''])));\r\n    }\r\n\r\n\r\n    return [\r\n        state,\r\n        handleChange,\r\n        handleSubmit,\r\n        resetForm,\r\n        errorMessage,\r\n        setErrorMessage,\r\n    ]\r\n}\r\n\r\nexport default useForm;","import '../Decorate.scss';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport useForm from '../../../CustomHooks/useForm';\r\n\r\n\r\nfunction Create({\r\n    history\r\n}) {\r\n    const userAuthToken = useSelector(state => state.auth.userAuthState.authToken);\r\n\r\n    const [values, handleChange, handleSubmit] = useForm({\r\n        title: '',\r\n        description: '',\r\n        img: '',\r\n        price: 0,\r\n    }, 'https://cars-react-app-server.herokuapp.com/data/movies', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json', 'X-Authorization': userAuthToken }\r\n    });\r\n\r\n    return (\r\n        <section className=\"Create\">\r\n            <div className=\"Create__wrapper\">\r\n                <h2 className=\"Create__wrapper__formTitle\">CREATE MOVIE ARTICLE</h2>\r\n                <form className=\"Create__wrapper_form\" onSubmit={e => handleSubmit(e).then(history.push('/'))}>\r\n                    <input className=\"Create__wrapper__form__title\"\r\n                        type=\"text\"\r\n                        name=\"title\"\r\n                        placeholder=\"ENTER MOVIE TITLE\"\r\n                        onChange={handleChange}\r\n                        value={values.movieTitle}\r\n                    />\r\n                    <textarea className=\"Create__wrapper__form__description\"\r\n                        type=\"text\"\r\n                        name=\"description\"\r\n                        placeholder=\"ENTER MOVIE DESCRIPTION\"\r\n                        rows=\"4\"\r\n                        columns=\"50\"\r\n                        onChange={handleChange}\r\n                        value={values.movieDescription}\r\n                    >\r\n                    </textarea>\r\n                    <input className=\"Create__wrapper__form__image\"\r\n                        type=\"text\"\r\n                        name=\"img\"\r\n                        placeholder=\"ENTER MOVIE IMAGE URL\"\r\n                        onChange={handleChange}\r\n                        value={values.img}\r\n                    />\r\n                    <input className=\"Create__wrapper__form__price\"\r\n                        type=\"number\"\r\n                        name=\"price\"\r\n                        placeholder=\"ENTER MOVIE PRICE\"\r\n                        onChange={handleChange}\r\n                        value={values.price}\r\n                    />\r\n                    <button className=\"Create__wrapper__form__btn\" type=\"submit\">CREATE</button>\r\n                </form>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Create;","import './CommentCart.scss';\r\n\r\nfunction CommentCard({\r\n    content,\r\n    author,\r\n    deleteCurrentComment\r\n}) {\r\n    return (\r\n        <div className=\"CommentUser\">\r\n            <p className=\"CommentUser__content\">\r\n                &#128173; {content}\r\n                { deleteCurrentComment && <button onClick={() => deleteCurrentComment()} className=\"CommentUser__delete\">&#10006;</button> } \r\n                <i className=\"CommentUser__name\">- {author}</i>\r\n            </p>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CommentCard;\r\n","export const REDUCER_ACTIONS = {\r\n    GET_MOVIE_ARTICLE: 'get-movie-article',\r\n    LOAD_MOVIE_ARTICLE_COMMENTS: 'load-movie-article-comments',\r\n    GET_MOVIE_ARTICLE_LIKES_FROM_USER: 'get-movie-article-likes-from-user',\r\n    MODIFY_MOVIE_ARTICLE_COMMENT: 'modify-movie-article-comment',\r\n    LIKE_MOVIE_ARTICLE: 'like-movie-article',\r\n    GET_MOVIE_ARTICLE_LIKES: 'get-movie-article-likes',\r\n}\r\n\r\nexport const INITIAL_MOVIE_DETAILS_STATE = {\r\n    movieArticle: {},\r\n    movieArticleComments: [],\r\n    movieArticleLikesFromUser: [],\r\n    areCommentsLoading: true,\r\n    isFormSubmited: false,\r\n    isLiked: false,\r\n    isMovieLoading: true,\r\n}\r\n\r\nexport default function reducer(state, { type, payload }) {\r\n    switch (type) {\r\n        case REDUCER_ACTIONS.GET_MOVIE_ARTICLE:\r\n            return {\r\n                ...state,\r\n                movieArticle: {\r\n                    _ownerId: payload._ownerId,\r\n                    title: payload.title,\r\n                    description: payload.description,\r\n                    img: payload.img,\r\n                    _id: payload._id,\r\n                    price: payload.price,\r\n                },\r\n                isMovieLoading: false,\r\n            }\r\n        case REDUCER_ACTIONS.LOAD_MOVIE_ARTICLE_COMMENTS:\r\n            return {\r\n                ...state,\r\n                areCommentsLoading: false,\r\n                isFormSubmited: !state.isFormSubmited,\r\n                movieArticleComments: payload\r\n            }\r\n        case REDUCER_ACTIONS.GET_MOVIE_ARTICLE_LIKES_FROM_USER:\r\n            return {\r\n                ...state,\r\n                isLiked: !state.isLiked,\r\n                movieArticleLikesFromUser: payload,\r\n            }\r\n        case REDUCER_ACTIONS.MODIFY_MOVIE_ARTICLE_COMMENT:\r\n            return {\r\n                ...state,\r\n                isFormSubmited: !state.isFormSubmited\r\n            }\r\n        case REDUCER_ACTIONS.LIKE_MOVIE_ARTICLE:\r\n            return {\r\n                ...state,\r\n                isLiked: !state.isLiked\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","import { useRef, useContext } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { DetailsContextProvider } from '../../Details';\r\n\r\nimport { postMovieArticleComment } from '../../../../../utils/requests';\r\nimport { REDUCER_ACTIONS } from '../../reducer';\r\n\r\nimport './CommentForm.scss';\r\n\r\n\r\nfunction CommentForm() {\r\n    const content = useRef('');\r\n    const authState = useSelector(state => state.auth);\r\n    const { movieArticle, dispatch } = useContext(DetailsContextProvider);\r\n\r\n    const postNewComment = async (e) => {\r\n        e.preventDefault();\r\n\r\n        await postMovieArticleComment(authState.userAuthState.authToken, {\r\n            author: authState.userAuthState.username,\r\n            content: content.current.value,\r\n            movieId: movieArticle._id\r\n        });\r\n\r\n        e.target.reset();\r\n        dispatch({ type: REDUCER_ACTIONS.MODIFY_MOVIE_ARTICLE_COMMENT })\r\n    };\r\n\r\n    return (\r\n        (authState.userAuthState.userId !== movieArticle._ownerId && authState.isAuthenticated) &&\r\n        (<form onSubmit={postNewComment} className=\"CommentForm\">\r\n            <textarea className=\"CommentForm__input\"\r\n                name=\"content\"\r\n                rows=\"4\"\r\n                cols=\"50\"\r\n                placeholder=\"Enter your expression from this movie\"\r\n                ref={content}\r\n            >\r\n            </textarea>\r\n            <button className=\"CommentForm__submit\" type=\"submit\">Post comment</button>\r\n        </form>)\r\n    );\r\n}\r\n\r\n\r\nexport default CommentForm;","import { useEffect, useContext } from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport { DetailsContextProvider } from '../Details';\r\nimport CommentCard from './CommentCard/CommentCard';\r\nimport Loader from '../../../Common/Loader/Loader';\r\nimport { REDUCER_ACTIONS } from '../reducer';\r\n\r\nimport { getMovieArticleComments, deleteMovieArticleComment } from '../../../../utils/requests';\r\nimport CommentForm from './CommentForm/CommentForm';\r\n\r\nimport './CommentSection.scss';\r\nfunction CommentSection() {\r\n    const { movieArticle, isFormSubmited, areCommentsLoading, movieArticleComments, dispatch } = useContext(DetailsContextProvider);\r\n    const currentUserState = useSelector(state => state.auth);\r\n\r\n    useEffect(() => {\r\n        getMovieArticleComments(movieArticle._id)\r\n            .then(movieArticleComments => {\r\n                return dispatch({\r\n                    type: REDUCER_ACTIONS.LOAD_MOVIE_ARTICLE_COMMENTS,\r\n                    payload: movieArticleComments\r\n                })\r\n            });\r\n    }, [movieArticle._id, isFormSubmited, dispatch]);\r\n\r\n    return (\r\n        <div className=\"Comments\">\r\n            <h2 className=\"Comments__title\">Leave your comments here: &#128172;</h2>\r\n            {areCommentsLoading ? <Loader /> : movieArticleComments.map((movieArticleComment, index) =>\r\n                <CommentCard\r\n                    key={index}\r\n                    content={movieArticleComment.content}\r\n                    author={movieArticleComment.author}\r\n                    deleteCurrentComment={currentUserState.userAuthState.userId === movieArticleComment._ownerId\r\n                        ? () => {\r\n                            return (\r\n                                deleteMovieArticleComment(movieArticleComment._id, currentUserState.userAuthState.authToken)\r\n                                    .then(dispatch({ type: REDUCER_ACTIONS.MODIFY_MOVIE_ARTICLE_COMMENT }))\r\n                            )\r\n                        }\r\n                        : null}\r\n                />)\r\n            }\r\n            <CommentForm />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CommentSection;","import { Link, useHistory } from 'react-router-dom';\r\nimport { deleteMovieArticle } from '../../../../../utils/requests';\r\n\r\nimport './OwnerButtons.scss';\r\nfunction OwnerButtons({ authToken, movieId }) {\r\n    const history = useHistory();\r\n\r\n    return (\r\n        <div className=\"Owner\">\r\n            <button onClick={async () => {\r\n                await deleteMovieArticle(movieId, authToken);\r\n                history.push('/');\r\n            }} className='Owner__delete Owner__btn'>&#10060; Delete</button>\r\n            <Link to={`/movies/edit/${movieId}`} className='Owner__edit Owner__btn'>&#9997; Edit</Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default OwnerButtons;\r\n","import { useEffect, useContext, Fragment } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport { cartSliceActions } from '../../../../../store/cart-slice';\r\nimport { getMovieArticleLikesFromUser, postMovieArticleLike } from '../../../../../utils/requests';\r\n\r\nimport { DetailsContextProvider } from '../../Details';\r\nimport { REDUCER_ACTIONS } from '../../reducer';\r\n\r\nimport './UserButtons.scss';\r\n\r\nfunction UserButtons({ currentAuthState }) {\r\n    const { dispatch, movieArticle, isLiked, movieArticleLikesFromUser } = useContext(DetailsContextProvider);\r\n\r\n    const dispatchRedux = useDispatch();\r\n\r\n    useEffect(() => {\r\n        getMovieArticleLikesFromUser(movieArticle._id, currentAuthState.userAuthState.userId)\r\n            .then(userLikes => {\r\n                return dispatch({\r\n                    type: REDUCER_ACTIONS.GET_MOVIE_ARTICLE_LIKES_FROM_USER,\r\n                    payload: userLikes\r\n                });\r\n            });\r\n    }, [movieArticle._id, currentAuthState.userAuthState.userId, isLiked, dispatch]);\r\n\r\n    const postLikeToAMovieArticle = () => {\r\n        postMovieArticleLike(currentAuthState.userAuthState.authToken, {\r\n            movieId: movieArticle._id\r\n        }).then(dispatch({ type: REDUCER_ACTIONS.LIKE_MOVIE_ARTICLE }));\r\n    };\r\n\r\n    const addToCartClickHandler = () => {\r\n        return dispatchRedux(cartSliceActions.addNewCartItem({\r\n            _id: movieArticle._id,\r\n            title: movieArticle.title,\r\n            description: movieArticle.description,\r\n            img: movieArticle.img,\r\n            price: movieArticle.price,\r\n            quantity: 1\r\n        }));\r\n    }\r\n\r\n    return (\r\n        <div className=\"User\">\r\n            {\r\n                !movieArticleLikesFromUser.length &&\r\n                (<Fragment>\r\n                    <button onClick={postLikeToAMovieArticle} className='User__like User__btn'>Like &#128077;</button>\r\n                </Fragment>)\r\n            }\r\n            <button onClick={addToCartClickHandler} className='User__add'>Add</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default UserButtons;","import { useSelector } from 'react-redux';\r\nimport { useContext, Fragment } from 'react';\r\n\r\nimport { DetailsContextProvider } from '../Details';\r\n\r\nimport './DetailsButtons.scss';\r\n\r\nimport OwnerButtons from './OwnerButtons/OwnerButtons';\r\nimport UserButtons from './UserButtons/UserButtons';\r\n\r\nfunction DetailsButtons() {\r\n    const { movieArticle } = useContext(DetailsContextProvider);\r\n\r\n    const currentAuthState = useSelector(state => state.auth);\r\n    const authToken = currentAuthState.userAuthState.authToken;\r\n\r\n\r\n    return (\r\n        <div className=\"ButtonsWrapper\">\r\n            {\r\n                !currentAuthState.isAuthenticated\r\n                    ? null\r\n                    : currentAuthState.userAuthState.userId !== movieArticle._ownerId\r\n                        ?\r\n                        <Fragment>\r\n                            <UserButtons currentAuthState={currentAuthState} />\r\n                        </Fragment>\r\n                        :\r\n                        <Fragment>\r\n                            <OwnerButtons authToken={authToken} movieId={movieArticle._id} />\r\n                        </Fragment>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default DetailsButtons;","import { useEffect, useReducer, Fragment, createContext } from 'react';\r\n\r\nimport { useParams } from 'react-router-dom';\r\nimport './Details.scss';\r\n\r\nimport CommentSection from './CommentSection/CommentSection';\r\nimport DetailsButtons from './DetailsButtons/DetailsButtons';\r\n\r\nimport reducer, { INITIAL_MOVIE_DETAILS_STATE, REDUCER_ACTIONS } from \"./reducer\";\r\n\r\nimport Loader from '../../Common/Loader/Loader';\r\nimport { getSpecificMovieArticle } from '../../../utils/requests';\r\n\r\nexport const DetailsContextProvider = createContext('NO CURRENTLY PROVIDED DATA');\r\n\r\n\r\nfunction Details() {\r\n    const { movieId } = useParams();\r\n    const [details, dispatch] = useReducer(reducer, INITIAL_MOVIE_DETAILS_STATE);\r\n\r\n    useEffect(() => {\r\n        getSpecificMovieArticle(movieId)\r\n            .then(movieDetails => {\r\n                return dispatch({\r\n                    type: REDUCER_ACTIONS.GET_MOVIE_ARTICLE,\r\n                    payload: {\r\n                        _ownerId: movieDetails._ownerId,\r\n                        title: movieDetails.title,\r\n                        description: movieDetails.description,\r\n                        img: movieDetails.img,\r\n                        _id: movieDetails._id,\r\n                        price: movieDetails.price,\r\n                    }\r\n                });\r\n            });\r\n    }, [movieId]);\r\n\r\n    return (\r\n        <Fragment>\r\n            {details.isMovieLoading\r\n                ? <Loader />\r\n                : <section>\r\n                    <div className=\"Container\">\r\n                        <h1 className=\"Container__title\">Movie title: {details.movieArticle.title}</h1>\r\n                        <img className=\"Container__image\" src={details.movieArticle.img} alt=\"movie\" />\r\n                        <div className=\"Container__details\">\r\n                            <h3 className=\"Container__details__description\">Movie Description</h3>\r\n                            <p className=\"Container__details__p\">\r\n                                {details.movieArticle.description}\r\n                            </p>\r\n                            <DetailsContextProvider.Provider value={{\r\n                                ...details,\r\n                                dispatch\r\n                            }}>\r\n                                <DetailsButtons />\r\n                                <CommentSection />\r\n                            </DetailsContextProvider.Provider>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            }\r\n        </Fragment>\r\n    );\r\n}\r\n\r\n\r\nexport default Details;\r\n","import '../Decorate.scss';\r\nimport { useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\n\r\nimport { getSpecificMovieArticle, updateMovieArticle } from '../../../../utils/requests'\r\n\r\nfunction Edit() {\r\n    const [details, setDetails] = useState({});\r\n    const { movieId } = useParams();\r\n    const history = useHistory();\r\n    const authToken = useSelector(state => state.auth.userAuthState.authToken);\r\n\r\n    useEffect(() => {\r\n        return getSpecificMovieArticle(movieId).then(setDetails);\r\n    }, [movieId]);\r\n\r\n    const onEditMovieArticleSubmitHandler = async (e) => {\r\n        e.preventDefault();\r\n        const { title, description, img, price } = e.target;\r\n\r\n        await updateMovieArticle(movieId, authToken, {\r\n            title: title.value,\r\n            description: description.value,\r\n            img: img.value,\r\n            price: Number(price.value),\r\n        });\r\n\r\n        history.push(`/movies/details/${movieId}`);\r\n    }\r\n\r\n    return (\r\n        <section className=\"Create\">\r\n            <div className=\"Create__wrapper\">\r\n                <h2 className=\"Create__wrapper_formTitle\">EDIT MOVIE ARTICLE</h2>\r\n                <form className=\"Create__wrapper__form\" onSubmit={onEditMovieArticleSubmitHandler}>\r\n                    <input className=\"Create__wrapper__form__title\"\r\n                        type=\"text\"\r\n                        name=\"title\"\r\n                        placeholder=\"ENTER MOVIE TITLE\"\r\n                        defaultValue={details.title}\r\n                    />\r\n                    <textarea className=\"Create__wrapper__form__description\"\r\n                        type=\"text\"\r\n                        name=\"description\"\r\n                        placeholder=\"ENTER MOVIE DESCRIPTION\"\r\n                        rows=\"4\"\r\n                        columns=\"50\"\r\n                        defaultValue={details.description}\r\n                    >\r\n                    </textarea>\r\n                    <input className=\"Create__wrapper__form__image\"\r\n                        type=\"text\"\r\n                        name=\"img\"\r\n                        placeholder=\"ENTER MOVIE IMAGE URL\"\r\n                        defaultValue={details.img}\r\n                    />\r\n                    <input className=\"Create__wrapper__form__price\"\r\n                        type=\"number\"\r\n                        name=\"price\"\r\n                        placeholder=\"ENTER MOVIE PRICE\"\r\n                        defaultValue={details.price}\r\n                    />\r\n                    <button className=\"Create__wrapper__form__btn\" type=\"submit\">EDIT</button>\r\n                </form>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Edit;","import { useState, useEffect } from \"react\";\r\nimport Loader from \"../../Common/Loader/Loader\";\r\nimport MovieCard from \"../Home/MovieCard/MovieCard\";\r\n\r\nimport './Filter.scss';\r\n\r\nimport { getMovieArticles } from '../../../utils/requests';\r\n\r\nfunction Filter() {\r\n    const [searchResults, setSearchResults] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [searchInput, setSearchInput] = useState('');\r\n\r\n    useEffect(() => {\r\n        getMovieArticles()\r\n            .then(data => {\r\n                const results = data.reduce((accumulator, object) => {\r\n                    let str = '';\r\n                    for (let key in object) {\r\n                        if (key === 'title' || key === 'description') {\r\n                            str += object[key];\r\n                        }\r\n                    }\r\n\r\n                    if (str.toLowerCase().includes(searchInput.toLowerCase())) {\r\n                        accumulator.push(object);\r\n                    }\r\n\r\n                    return accumulator;\r\n                }, []);\r\n\r\n                // console.log(results);\r\n                setSearchResults(results);\r\n            })\r\n            .catch(err => console.error(err))\r\n            .finally(setLoading(false));\r\n    }, [searchInput]);\r\n\r\n    return (\r\n        <div className=\"Main\">\r\n            <form className='form-group Main__hasSearch'>\r\n                <h3 className=\"Main__hasSearch__field\">Search Your Favourite Movie</h3>\r\n                <span className=\"Main__hasSearch__feedback\"></span>\r\n                <input\r\n                    type=\"text\"\r\n                    className=\"Main__hasSearch__formControl\"\r\n                    placeholder=\"Search\"\r\n                    value={searchInput}\r\n                    onChange={e => setSearchInput(e.target.value)}\r\n                />\r\n            </form>\r\n            <div className=\"Main__flex\">\r\n                {\r\n                    loading\r\n                        ? <Loader />\r\n                        : !searchResults.length\r\n                            ? <p className=\"Main__flex__notFound\">No currently found results from your search :(</p>\r\n                            : searchResults.map((result, index) => (\r\n                                <MovieCard key={index} {...result} />\r\n                            ))\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter;","import './CartItem.scss';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport { cartSliceActions } from '../../../../store/cart-slice';\r\n\r\nfunction CartItem({\r\n    title,\r\n    description,\r\n    img,\r\n    quantity,\r\n    price,\r\n    _id\r\n}) {\r\n    const dispatch = useDispatch();\r\n\r\n    const increaseCartItemQuantity = () => {\r\n        return dispatch(cartSliceActions.addNewCartItem({\r\n            _id,\r\n            title,\r\n            description,\r\n            price,\r\n            img,\r\n            quantity\r\n        }));\r\n    };\r\n\r\n    const decreaseCartItemQuantity = () => {\r\n        return dispatch(cartSliceActions.decreaseCartItemQuantity(_id))\r\n    };\r\n\r\n    const deleteCartItem = () => {\r\n        return dispatch(cartSliceActions.deleteCartItem(_id))\r\n    };\r\n\r\n    return (\r\n        <div className=\"Item\">\r\n            <img className=\"Item__image\" src={img} alt=\"item\" />\r\n            <div className=\"Item__details\">\r\n                <p className=\"Item__details__title\">{title}</p>\r\n                <p className=\"Item__details__description\">{description}</p>\r\n                <p className=\"Item__details__price\">$ {price}</p>\r\n            </div>\r\n            <div className=\"Item__actions\">\r\n                <div className=\"Item__actions__quantity\">\r\n                    <button onClick={increaseCartItemQuantity} className=\"Item__actions__quantity__manipulate\">&#8593;</button>\r\n                    <label htmlFor=\"qty\">{quantity}</label>\r\n                    <button onClick={decreaseCartItemQuantity} className=\"Item__actions__quantity__manipulate\">&#8595;</button>\r\n                </div>\r\n                <button onClick={deleteCartItem} className=\"Item__actions__btn\">\r\n                    &#10060;\r\n                </button>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default CartItem;","import './Modal.scss';\r\n\r\nfunction Modal({ message, closeModalClickHandler, cancelActionHandler }) {\r\n    return (\r\n        <div className=\"Overlay\">\r\n            <div className=\"Overlay__modal\">\r\n                <p className=\"Overlay__modal__message\">{message}</p>\r\n                <button onClick={closeModalClickHandler} className=\"Overlay__modal__action\">Okay</button>\r\n                { cancelActionHandler ? <button onClick={cancelActionHandler} className=\"Overlay__modal__action\">Cancel</button> : null }\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Modal;","import { useSelector, useDispatch } from 'react-redux';\r\nimport { useState } from 'react';\r\n\r\nimport CartItem from './CartItem/CartItem';\r\nimport { cartSliceActions } from '../../../store/cart-slice';\r\n\r\nimport './Cart.scss';\r\nimport Modal from '../../Common/Modal/Modal';\r\n\r\nfunction Cart({\r\n    history\r\n}) {\r\n    const [proccedToCheckout, setProccedToCheckout] = useState(null);\r\n\r\n    const cartItems = useSelector(state => state.cart.items);\r\n    const totalQuantity = useSelector(state => state.cart.totalQuantity);\r\n    const totalPrice = useSelector(state => state.cart.totalPrice);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    if (proccedToCheckout) {\r\n        return (\r\n            <Modal\r\n                message={proccedToCheckout}\r\n                closeModalClickHandler={() => {\r\n                    dispatch(cartSliceActions.removeCartItems());\r\n                    history.push('/');\r\n                }}\r\n            />\r\n        )\r\n    };\r\n\r\n    return (\r\n        <div className=\"Cart\">\r\n            {\r\n                cartItems.map((cartItem, index) => {\r\n                    return <CartItem key={index} {...cartItem} />\r\n                })\r\n            }\r\n            <div className=\"Cart__summary\">\r\n                <h4 className=\"Cart__summary__title\">Cart Summary</h4>\r\n                <div className=\"Cart__summary__details\">\r\n                    <span className=\"Cart__summary__details__items\">TOTAL: ({totalQuantity} items)</span>\r\n                    <span className=\"Cart__summary__details__price\">$ {totalPrice}</span>\r\n                </div>\r\n                <button onClick={() => setProccedToCheckout('YOUR ORDER HAS BEEN ACCEPTED!')} className=\"Cart__summary__btn\">\r\n                    Proceed To Checkout\r\n                </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Cart;","import { Switch, Route } from 'react-router-dom';\r\n\r\nimport Home from './Home/Home';\r\nimport Register from './Auth/Register/Register';\r\nimport Login from './Auth/Login/Login';\r\nimport Create from './Decorate/Create/Create';\r\nimport Details from './Details/Details';\r\nimport Edit from './Decorate/Edit/Edit';\r\nimport Filter from './Filter/Filter';\r\nimport Cart from './Cart/Cart';\r\n\r\nfunction Main() {\r\n    return (\r\n        <Switch>\r\n            <Route path=\"/\" exact component={Home} />\r\n            <Route path=\"/auth/register\" exact component={Register} />\r\n            <Route path=\"/auth/login\" exact component={Login} />\r\n            <Route path=\"/movies/create\" exact component={Create} />\r\n            <Route path=\"/movies/details/:movieId\" exact component={Details} />\r\n            <Route path=\"/movies/edit/:movieId\" exact component={Edit} />\r\n            <Route path=\"/filter\" exact component={Filter} />\r\n            <Route path=\"/cart\" exact component={Cart} />\r\n        </Switch>\r\n    );\r\n}\r\n\r\nexport default Main;","import '../node_modules/bootstrap/scss/bootstrap.scss';\nimport './App.scss';\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { authSliceActions } from './store/auth-slice';\n\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nimport Header from './components/Header/Header';\nimport Main from './components/Main/Main';\n\nfunction App() {\n    const dispatch = useDispatch();\n    const authState = useSelector(state => state.auth); // { isAuthenticated: false, userAuthState: {} }\n\n    useEffect(() => {\n        const authStateFromLocalStorege = JSON.parse(localStorage.getItem('user')) || {\n            userAuthState: {\n                authToken: null,\n                userId: null,\n                username: null\n            },\n            isAuthenticated: false\n        }\n\n        dispatch(authSliceActions.setUserState({\n            isAuthenticated: authStateFromLocalStorege.isAuthenticated,\n            userAuthState: authStateFromLocalStorege.userAuthState\n        }));\n    }, [dispatch]);\n\n\n    useEffect(() => {\n        localStorage.setItem('user', JSON.stringify(authState));\n    }, [authState]);\n\n    return (\n        <Router>\n            <Header />\n            <Main />\n        </Router>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { configureStore } from '@reduxjs/toolkit';\r\n\r\nimport authSlice from './auth-slice';\r\nimport cartSlice from './cart-slice';\r\n\r\nconst store = configureStore({\r\n    reducer: {\r\n        auth: authSlice.reducer,\r\n        cart: cartSlice.reducer\r\n    }\r\n});\r\n\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport store from './store/index';\nimport { Provider } from 'react-redux';\n\nReactDOM.render(\n    <React.StrictMode >\n        <Provider store={store}>\n            <App />\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();"],"sourceRoot":""}