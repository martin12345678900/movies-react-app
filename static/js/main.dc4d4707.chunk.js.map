{"version":3,"sources":["components/Main/Auth/Auth.module.css","components/Main/Details/DetailsButtons/DetailsButtons.module.css","components/Main/Decorate/Decorate.module.css","components/Header/Navigation/Navigation.module.css","components/Main/Cart/CartItem/CartItem.module.css","components/Common/Loader/Loader.module.css","store/auth-slice.js","components/Header/Logo/Logo.js","store/cart-slice.js","components/Header/Navigation/Navigation.js","components/Header/Header.js","components/Main/Home/MoviesForum/MoviesForum.js","utils/api.js","utils/requests.js","components/Main/Home/MovieCard/MovieCard.js","components/Common/Loader/Loader.js","components/Main/Home/Home.js","components/Main/Auth/Register/Register.js","components/Main/Auth/Login/Login.js","components/CustomHooks/useForm.js","components/Main/Decorate/Create/Create.js","components/Main/Details/CommentSection/CommentCard/CommentCard.js","components/Main/Details/reducer.js","components/Main/Details/CommentSection/CommentForm/CommentForm.js","components/Main/Details/CommentSection/CommentSection.js","components/Common/Modal/Modal.js","components/Main/Details/DetailsButtons/OwnerButtons/OwnerButtons.js","components/Main/Details/DetailsButtons/UserButtons/UserButtons.js","components/Main/Details/DetailsButtons/DetailsButtons.js","components/Main/Details/Details.js","components/Main/Decorate/Edit/Edit.js","components/Main/Filter/Filter.js","components/Main/Cart/CartItem/CartItem.js","components/Main/Cart/Cart.js","components/Main/Main.js","App.js","reportWebVitals.js","store/index.js","index.js","components/Main/Home/MovieCard/MovieCard.module.css","components/Main/Filter/Filter.module.css","components/Main/Cart/Cart.module.css","components/Main/Details/Details.module.css","components/Common/Modal/Modal.module.css","components/Main/Home/MoviesForum/MoviesForum.module.css","components/Main/Details/CommentSection/CommentCard/CommentCard.module.css","components/Main/Details/DetailsButtons/OwnerButtons/OwnerButtons.module.css","components/Main/Details/DetailsButtons/UserButtons/UserButtons.module.css","components/Header/Logo/Logo.module.css","components/Main/Details/CommentSection/CommentSection.module.css","components/Main/Details/CommentSection/CommentForm/CommentForm.module.css","components/Header/Header.module.css"],"names":["module","exports","authenticate","authType","userDataObj","dispatch","a","fetch","toLowerCase","method","headers","body","JSON","stringify","response","json","responseData","ok","Error","authSlice","actions","handleAuthenticate","authToken","accessToken","userId","_id","username","alert","message","createSlice","name","initialState","isAuthenticated","userAuthState","reducers","state","action","payload","handleLogout","setUserState","authSliceActions","Logo","className","style","logo","navListLink","to","src","alt","cartSlice","items","totalPrice","totalQuantity","setCartItems","removeCartItems","addNewCartItem","newCartItem","selectedItem","find","item","Number","price","quantity","push","deleteCartItem","filter","decreaseCartItemQuantity","cartSliceActions","Navigation","useSelector","auth","totalCartItems","cart","cartState","useDispatch","useEffect","cartStateFromLocalStorage","parse","localStorage","getItem","setItem","navListWrapper","navListItem","counter","onClick","console","log","searchFormWrapper","Header","header","MoviesForum","homePage","moviesBackgroundImage","moviesForumTitle","moviesForumDescription","request","URL","configOptions","data","setOptions","options","baseURL","get","endpoint","post","put","del","getMovieArticles","api","updateMovieArticle","movieId","getSpecificMovieArticle","postMovieArticleComment","commentId","MovieCard","title","img","useState","likesCount","setLikesCount","commentsCount","setCommentsCount","getMovieArticleLikesCount","then","getMovieArticleCommentsCount","movieCard","movieCardImage","movieCardTitle","movieCardButton","movieLikes","movieComments","Loader","loader","dot","dot1","join","dot2","dot3","dot4","Home","movieArticles","setMoviesArticles","isLoading","setIsLoading","movies","catch","err","fontSize","fontWeight","textAlign","marginTop","map","movieProps","index","Register","history","useFormik","initialValues","email","password","repassword","validateOnChange","validationSchema","yup","shape","max","min","required","matches","oneOf","trim","onSubmit","handleSubmit","handleChange","handleBlur","errors","values","touched","authView","cont","mainBox","create","authTitle","user","type","placeholder","onChange","onBlur","value","pass","Login","emailField","useRef","passwordField","onLoginSubmitHandler","e","preventDefault","current","ref","useForm","optionsConfig","setState","errorMessage","setErrorMessage","target","Object","fromEntries","entries","key","Create","userAuthToken","description","createPage","createFormWrapper","createFormTitle","movieTitle","movieDescription","rows","columns","movieImageURL","moviePrice","createMovieBtn","CommentCard","content","author","deleteCurrentComment","commentUser","commentUserContent","deleteComment","commentUserName","REDUCER_ACTIONS","INITIAL_MOVIE_DETAILS_STATE","movieArticle","movieArticleComments","movieArticleLikesFromUser","movieArticleLikes","areCommentsLoading","isFormSubmited","isLiked","isMovieLoading","reducer","_ownerId","isAdded","CommentForm","authState","useContext","DetailsContextProvider","postNewComment","contentVal","res","classes","commentInput","cols","commentSubmit","CommentSection","currentUserState","getMovieArticleComments","comments","commentTitle","movieArticleComment","deleteMovieArticleComment","Modal","closeModalClickHandler","cancelActionHandler","overlay","modal","OwnerButtons","useHistory","deleteMovieArticle","movieDetailsBtnDelete","movieBtn","movieDetailsBtnEdit","UserButtons","currentAuthState","dispatchRedux","getMovieArticleLikesFromUser","userLikes","length","postMovieArticleLike","movieDetailsBtnLike","add","DetailsButtons","movieDetailsButtonWrapper","createContext","Details","useParams","useReducer","details","movieDetails","movieContainer","movieDetailsTitle","movieDetailsImg","movieDetailsInfo","movieDetailsInfoImg","movieDetailsInfoParagraph","Provider","Edit","setDetails","onEditMovieArticleSubmitHandler","defaultValue","Filter","searchResults","setSearchResults","loading","setLoading","searchInput","setSearchInput","results","reduce","accumulator","object","str","includes","error","finally","main","hasSearch","field","formControlFeedback","formControl","flex","result","notFound","CartItem","cartItem","cartItemImg","cartItemDetails","cartItemTitle","cartItemDescription","cartItemPrice","cartActions","cartQuantity","manipulate","htmlFor","cartDelete","Cart","proccedToCheckout","setProccedToCheckout","cartItems","cartWrapper","summary","summaryTitle","summaryDetails","totalItems","summaryBtn","Main","path","exact","component","App","authStateFromLocalStorege","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","store","configureStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.dc4d4707.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"authView\":\"Auth_authView__155wR\",\"cont\":\"Auth_cont__2nI8n\",\"mainBox\":\"Auth_mainBox__3-RK2\",\"create\":\"Auth_create__2iWT1\",\"authTitle\":\"Auth_authTitle__1WxSV\",\"user\":\"Auth_user__BuWuK\",\"email\":\"Auth_email__1z0K8\",\"pass\":\"Auth_pass__1ZWqY\",\"auth\":\"Auth_auth__3J_oc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"movieDetailsButtonWrapper\":\"DetailsButtons_movieDetailsButtonWrapper__3mvip\",\"movieBtn\":\"DetailsButtons_movieBtn__2_EDE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"createPage\":\"Decorate_createPage__3Wn0Q\",\"createFormWrapper\":\"Decorate_createFormWrapper__2FwBu\",\"createFormTitle\":\"Decorate_createFormTitle__1yns7\",\"movieTitle\":\"Decorate_movieTitle__3I_Y7\",\"moviePrice\":\"Decorate_moviePrice__3aeai\",\"movieDescription\":\"Decorate_movieDescription__3j-t1\",\"movieImageURL\":\"Decorate_movieImageURL__2UDhI\",\"createMovieBtn\":\"Decorate_createMovieBtn__2OGDp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navListItem\":\"Navigation_navListItem__2qYtC\",\"navListLink\":\"Navigation_navListLink__V8qGO\",\"navListWrapper\":\"Navigation_navListWrapper__4BGZB\",\"searchFormWrapper\":\"Navigation_searchFormWrapper__1D6k6\",\"searchInput\":\"Navigation_searchInput__3njbn\",\"searchBtn\":\"Navigation_searchBtn__20J2k\",\"cart\":\"Navigation_cart__SnN3s\",\"counter\":\"Navigation_counter__YZRV2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cartItem\":\"CartItem_cartItem__2S8P1\",\"cartItemImg\":\"CartItem_cartItemImg__1yLNN\",\"cartItemTitle\":\"CartItem_cartItemTitle__3PsOB\",\"cartItemDesciption\":\"CartItem_cartItemDesciption__ZJqp3\",\"cartItemPrice\":\"CartItem_cartItemPrice__kRV46\",\"cartQuantity\":\"CartItem_cartQuantity__3lyjl\",\"manipulate\":\"CartItem_manipulate__1sjHd\",\"cartActions\":\"CartItem_cartActions__jAYFe\",\"cartDelete\":\"CartItem_cartDelete__1sZxk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__2y3t2\",\"dot\":\"Loader_dot__H9eJx\",\"dot1\":\"Loader_dot1__30nbw\",\"dot2\":\"Loader_dot2__Fr4J3\",\"dot3\":\"Loader_dot3__1WDe9\",\"dot4\":\"Loader_dot4__1X3Rj\",\"reveal\":\"Loader_reveal__3Dyqj\",\"slide\":\"Loader_slide__1aB-I\"};","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nconst initialAuthState = {\r\n    isAuthenticated: false,\r\n    userAuthState: {},\r\n}\r\n\r\nexport const authenticate = (authType, userDataObj) => {\r\n    return async function(dispatch) {\r\n        try {\r\n            const response = await fetch(`https://cars-react-app-server.herokuapp.com/users/${authType.toLowerCase()}`, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(userDataObj)\r\n            });\r\n            const responseData = await response.json();\r\n\r\n            if (response.ok === false) {\r\n                throw new Error('Failed while authenticating!');\r\n            } else {\r\n                dispatch(authSlice\r\n                    .actions\r\n                    .handleAuthenticate({\r\n                        authToken: responseData.accessToken,\r\n                        userId: responseData._id,\r\n                        username: responseData.username\r\n                    }));\r\n            }\r\n        } catch (error) {\r\n            alert(error.message);\r\n        }\r\n    }\r\n}\r\n\r\nconst authSlice = createSlice({\r\n    name: 'auth-slice',\r\n    initialState: initialAuthState,\r\n    reducers: {\r\n        handleAuthenticate(state, action) {\r\n            state.userAuthState = {\r\n                authToken: action.payload.authToken,\r\n                userId: action.payload.userId,\r\n                username: action.payload.username\r\n            };\r\n            state.isAuthenticated = true;\r\n        },\r\n        handleLogout(state) {\r\n            state.userAuthState = {\r\n                authToken: null,\r\n                userId: null,\r\n                username: null\r\n            };\r\n            state.isAuthenticated = false;\r\n        },\r\n        setUserState(state, action) {\r\n            state.isAuthenticated = action.payload.isAuthenticated;\r\n            state.userAuthState = action.payload.userAuthState;\r\n        }\r\n    },\r\n});\r\n\r\nexport const authSliceActions = authSlice.actions;\r\n\r\nexport default authSlice;","import { Link } from 'react-router-dom';\r\nimport style from './Logo.module.css';\r\n\r\nfunction Logo() {\r\n    return (\r\n        <div className={style.logo}>\r\n            <Link className={style.navListLink} to=\"/\">\r\n                <img src=\"https://th.bing.com/th/id/R.5eebdba556754091bfcae7839bd65da6?rik=7mP2jf6zMqYapw&pid=ImgRaw&r=0\" alt=\"logo\" />\r\n            </Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Logo;","import { createSlice } from '@reduxjs/toolkit';\r\n\r\n\r\nconst cartSlice = createSlice({\r\n    name: 'cart-slice',\r\n    initialState: {\r\n        items: [],\r\n        totalPrice: 0,\r\n        totalQuantity: 0,\r\n    },\r\n    reducers: {\r\n        setCartItems(state, action) {\r\n            state.items = action.payload.items;\r\n            state.totalPrice = action.payload.totalPrice;\r\n            state.totalQuantity = action.payload.totalQuantity;\r\n        },\r\n        removeCartItems(state) {\r\n            state.items = [];\r\n            state.totalPrice = 0;\r\n            state.totalQuantity = 0;\r\n        },\r\n        addNewCartItem(state, action) {\r\n            const newCartItem = action.payload;\r\n            const selectedItem = state.items.find(item => item._id === newCartItem._id);\r\n\r\n            if (!selectedItem) {\r\n                state.items.push(newCartItem);\r\n                state.totalPrice += Number(newCartItem.price);\r\n            } else {\r\n                state.totalPrice += Number(selectedItem.price);\r\n                selectedItem.quantity++;\r\n            }\r\n            state.totalQuantity++;\r\n        },\r\n        deleteCartItem(state, action) {\r\n            const item = state.items.find(item => item._id === action.payload);\r\n            state.items = state.items.filter(item => item._id !== action.payload);\r\n\r\n            state.totalQuantity -= Number(item.quantity);\r\n            state.totalPrice -= Number(item.price) * Number(item.quantity);\r\n        },\r\n        decreaseCartItemQuantity(state, action) {\r\n            const item = state.items.find(item => item._id === action.payload);\r\n\r\n            state.totalPrice -= Number(item.price);\r\n            item.quantity--;\r\n            state.totalQuantity--;\r\n        }\r\n    }\r\n});\r\n\r\nexport const cartSliceActions = cartSlice.actions;\r\n\r\nexport default cartSlice;","import { Link } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useEffect } from 'react';\r\n\r\nimport { cartSliceActions } from '../../../store/cart-slice';\r\n\r\nimport { authSliceActions } from '../../../store/auth-slice';\r\n\r\nimport style from './Navigation.module.css';\r\n\r\nfunction Navigation() {\r\n    const isAuthenticated = useSelector(state => state.auth.isAuthenticated);\r\n    const totalCartItems = useSelector(state => state.cart.totalQuantity);\r\n    const cartState = useSelector(state => state.cart);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        const cartStateFromLocalStorage = JSON.parse(localStorage.getItem('cart')) || {\r\n            items: [],\r\n            totalPrice: 0,\r\n            totalQuantity: 0\r\n        };\r\n\r\n        dispatch(cartSliceActions.setCartItems({\r\n            items: cartStateFromLocalStorage.items,\r\n            totalPrice: cartStateFromLocalStorage.totalPrice,\r\n            totalQuantity: cartStateFromLocalStorage.totalQuantity\r\n        }));\r\n    }, [dispatch]);\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem('cart', JSON.stringify(cartState));\r\n    }, [cartState]);\r\n    return (\r\n        <>\r\n            <nav>\r\n                <ul className={style.navListWrapper}>\r\n                    {\r\n                        isAuthenticated\r\n                            ? <>\r\n                                <li className={`${style.navListItem} ${style.cart}`}>\r\n                                    <Link className={style.navListLink} to=\"/cart\">Cart&#128722;</Link>\r\n                                    <span className={style.counter}>{totalCartItems}</span>\r\n                                </li>\r\n                                <li className={style.navListItem}>\r\n                                    <Link className={style.navListLink} to=\"/movies/create\">Create Movie Article</Link>\r\n                                </li>\r\n                                <li className={style.navListItem}>\r\n                                    <Link onClick={() => {\r\n                                        console.log('clicked');\r\n                                        dispatch(authSliceActions.handleLogout());\r\n                                    }}\r\n                                        to=\"/\"\r\n                                        className={style.navListLink}\r\n                                    >\r\n                                        Logout\r\n                                    </Link>\r\n                                </li>\r\n                                <li className={`${style.navListItem} ${style.searchFormWrapper}`}>\r\n                                    <Link className={style.navListLink} to=\"/filter\">Search Movies</Link>\r\n                                </li>\r\n                            </>\r\n                            : <>\r\n                                <li className={style.navListItem}>\r\n                                    <Link className={style.navListLink} to=\"/auth/register\">Sign up</Link>\r\n                                </li>\r\n                                <li className={style.navListItem}>\r\n                                    <Link className={style.navListLink} to=\"/auth/login\">Log in</Link>\r\n                                </li>\r\n                            </>\r\n                    }\r\n                </ul>\r\n            </nav>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Navigation;","import Logo from './Logo/Logo';\r\nimport Navigation from './Navigation/Navigation';\r\n\r\nimport style from './Header.module.css';\r\n\r\nfunction Header() {\r\n    return (\r\n        <header className={style.header}>\r\n            <Logo />\r\n            <Navigation />\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import style from './MoviesForum.module.css';\r\n\r\nfunction MoviesForum() {\r\n    return (\r\n        <section>\r\n            <article className={style.homePage}>\r\n                <img className={style.moviesBackgroundImage} src=\"https://slicksmovieblog.files.wordpress.com/2014/08/cropped-movie-banner-e1408372575210.jpg\" alt=\"Movie\" />\r\n                <h2 className={style.moviesForumTitle}>Movies Forum</h2>\r\n                <p className={style.moviesForumDescription}>Search for newest movies, post new movies, share opinions and likes anywhere, anytime!</p>\r\n            </article>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default MoviesForum;","async function request(URL, configOptions) {\r\n    try {\r\n        const response = await fetch(URL, configOptions);\r\n\r\n        if (!response.ok) {\r\n            throw new Error((await response.json()).message || 'Something went wrong!');\r\n        } else {\r\n            const data = await response.json();\r\n\r\n            return data;\r\n        }\r\n    } catch (error) {\r\n        alert(error.message);\r\n    }\r\n}\r\n\r\nfunction setOptions(method, authToken, body) {\r\n    let options = {\r\n        method,\r\n        headers: {},\r\n    }\r\n\r\n    if (authToken) {\r\n        options.headers['X-Authorization'] = authToken;\r\n    }\r\n\r\n    if (body) {\r\n        options.headers['Content-Type'] = 'application/json';\r\n        options.body = JSON.stringify(body);\r\n    }\r\n\r\n    return options;\r\n}\r\n\r\nconst baseURL = 'https://cars-react-app-server.herokuapp.com';\r\n\r\nasync function get(endpoint) {\r\n    return await request(baseURL + endpoint, setOptions('GET'));\r\n}\r\n\r\nasync function post(endpoint, authToken, data) {\r\n    return await request(baseURL + endpoint, setOptions('POST', authToken, data));\r\n}\r\n\r\nasync function put(endpoint, authToken, data) {\r\n    return await request(baseURL + endpoint, setOptions('PUT', authToken, data));\r\n}\r\n\r\nasync function del(endpoint, authToken) {\r\n    return await request(baseURL + endpoint, setOptions('DELETE', authToken));\r\n}\r\n\r\nasync function patch(endpoint, authToken, data) {\r\n    return await request(baseURL + endpoint, setOptions('PATCH', authToken, data));\r\n}\r\n\r\nexport {\r\n    get,\r\n    post,\r\n    put,\r\n    del,\r\n    patch\r\n}\r\n\r\nexport default request;","import * as api from './api';\r\n\r\nexport async function getMovieArticles() {\r\n    return await api.get('/data/movies');\r\n}\r\n\r\nexport async function postMovieArticle(authToken, data) {\r\n    return await api.post('/data/movies', authToken, data);\r\n}\r\n\r\nexport async function updateMovieArticle(movieId, authToken, data) {\r\n    return await api.put(`/data/movies/${movieId}`, authToken, data);\r\n}\r\n\r\nexport async function deleteMovieArticle(movieId, authToken) {\r\n    return await api.del(`/data/movies/${movieId}`, authToken);\r\n}\r\n\r\nexport async function getMovieArticleLikesCount(movieId) {\r\n    return await api.get(`/data/likes?where=movieId%3D%22${movieId}%22&distinct=_ownerId&count`)\r\n}\r\n\r\nexport async function getMovieArticleCommentsCount(movieId) {\r\n    return await api.get(`/data/comments?where=movieId%3D%22${movieId}%22&distinct=_ownerId&count`);\r\n}\r\n\r\nexport async function getSpecificMovieArticle(movieId) {\r\n    return await api.get(`/data/movies/${movieId}`);\r\n}\r\n\r\nexport async function getMovieArticleLikesFromUser(movieId, userId) {\r\n    return await api.get(`/data/likes?where=movieId%3D%22${movieId}%22%20and%20_ownerId%3D%22${userId}%22`)\r\n}\r\n\r\nexport async function postMovieArticleLike(authToken, data) {\r\n    return await api.post('/data/likes', authToken, data);\r\n}\r\n\r\nexport async function getMovieArticleComments(movieId) {\r\n    return await api.get(`/data/comments?where=movieId%3D%22${movieId}%22`)\r\n}\r\n\r\nexport async function postMovieArticleComment(authToken, data) {\r\n    return await api.post('/data/comments', authToken, data);\r\n}\r\n\r\nexport async function deleteMovieArticleComment(commentId, authToken) {\r\n    return await api.del(`/data/comments/${commentId}`, authToken);\r\n}\r\n\r\nexport async function logout() {\r\n    return await api.get('/users/logout');\r\n}\r\n\r\nexport async function getCartItems() {\r\n    return await api.get('/data/cart');\r\n}\r\n\r\nexport async function addCartItem(authToken, data) {\r\n    return await api.post('/data/cart', authToken, data);\r\n}\r\n\r\nexport async function deleteCartItem(cartId, authToken) {\r\n    return await api.del(`/data/cart/${cartId}`, authToken);\r\n}\r\n\r\nexport async function updateCartStore(authToken, data) {\r\n    return await api.put('/data/cart/9Rxf5qvVFHR0YcFpZgP5', authToken, data);\r\n}","import { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport style from './MovieCard.module.css';\r\n\r\nimport { getMovieArticleCommentsCount, getMovieArticleLikesCount } from '../../../../utils/requests';\r\n\r\nfunction MovieCard({\r\n    title,\r\n    img,\r\n    _id,\r\n    price\r\n}) {\r\n    const [likesCount, setLikesCount] = useState(0);\r\n    const [commentsCount, setCommentsCount] = useState(0);\r\n\r\n    useEffect(() => {\r\n        return getMovieArticleLikesCount(_id).then(setLikesCount);\r\n    }, [_id]);\r\n\r\n    useEffect(() => {\r\n        return getMovieArticleCommentsCount(_id).then(setCommentsCount);\r\n    }, [_id]);\r\n\r\n    return (\r\n        <div className={style.movieCard}>\r\n            <article className=\"card-header-main\">\r\n                <img className={style.movieCardImage} src={img} alt=\"Movie Card\" />\r\n                <h3 className={style.movieCardTitle}>{title}</h3>\r\n            </article>\r\n            <article className=\"card-footer\">\r\n                <Link to={`/movies/details/${_id}`} className={style.movieCardButton}>Details</Link>\r\n            </article>\r\n            <span className={style.movieLikes}>{likesCount} Likes &#128077;</span>\r\n            <span className={style.movieComments}>{commentsCount} Comments &#128173;</span>\r\n            <span className={style.price}>Price: {price}$ &#129297;</span>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MovieCard;","import style from './Loader.module.css';\r\n\r\nfunction Loader() {\r\n    return (\r\n        <div className={style.loader}>\r\n            <div className={[style.dot, style.dot1].join(' ')}></div>\r\n            <div className={[style.dot, style.dot2].join(' ')}></div>\r\n            <div className={[style.dot, style.dot3].join(' ')}></div>\r\n            <div className={[style.dot, style.dot4].join(' ')}></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loader;","import MoviesForum from './MoviesForum/MoviesForum';\r\nimport MovieCard from './MovieCard/MovieCard';\r\n\r\nimport Loader from '../../Common/Loader/Loader';\r\nimport { useEffect, useState } from 'react';\r\n\r\nimport { getMovieArticles } from '../../../utils/requests';\r\n\r\nfunction Home() {\r\n    const [movieArticles, setMoviesArticles] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(true); \r\n\r\n    useEffect(() => {\r\n        getMovieArticles()\r\n            .then(movies => {\r\n                setMoviesArticles(movies);\r\n                setIsLoading(false);\r\n            })\r\n            .catch(err => alert(err.message))\r\n    }, []);\r\n\r\n    if (isLoading) {\r\n        return <Loader />\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <MoviesForum />\r\n            <section>\r\n                <div>\r\n                    <h1 style={{\r\n                        fontSize: 40,\r\n                        fontWeight: 550,\r\n                        textAlign: 'center',\r\n                        marginTop: 40\r\n                    }}>Movie Articles</h1>\r\n                    <div className=\"card-wrapper\">\r\n                        {\r\n                            movieArticles.map((movieProps, index) => <MovieCard key={index} {...movieProps} />)\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Home;","import { useDispatch } from 'react-redux';\r\n\r\nimport style from '../Auth.module.css';\r\n\r\nimport { useFormik } from 'formik';\r\nimport { authenticate } from '../../../../store/auth-slice';\r\n\r\nimport * as yup from 'yup';\r\n\r\nfunction Register({\r\n    history\r\n}) {\r\n    const dispatch = useDispatch();\r\n\r\n    const { handleSubmit, handleChange, handleBlur, errors, values, touched } = useFormik({\r\n        initialValues: {\r\n            username: '',\r\n            email: '',\r\n            password: '',\r\n            repassword: '',\r\n        },\r\n        validateOnChange: false,\r\n        validationSchema: yup.object().shape({\r\n            email: yup.string()\r\n                .email('Invalid email format!')\r\n                .max(25, 'Your email must not be longer than 25 charackters!')\r\n                .min(10, 'Your email should be at least 10 charackters!')\r\n                .required('This field is required!'),\r\n            password: yup.string()\r\n                .min(6, 'Password must be at least 6 charcakters!')\r\n                .max(15, 'Password should not be longer than 15 charackters!')\r\n                .matches(/[A-Za-z0-9]+/, 'Password should contain uppercase,lowercase charackters and digits!')\r\n                .required('This field is required!'),\r\n            repassword: yup.string()\r\n                .oneOf([yup.ref('password'), null], 'Passwords must match!')\r\n                .required('This field is required!'),\r\n            username: yup.string()\r\n                .matches(/[A-Z][A-Za-z0-9]+/, 'Username have to start with uppercase letter and continue with lowercase or digits!')\r\n                .trim()\r\n                .required('Username is required!')\r\n        }),\r\n        onSubmit: async ({ username, email, password }) => {\r\n            dispatch(authenticate('REGISTER', {\r\n                username,\r\n                email,\r\n                password\r\n            }))\r\n                .then(history.push('/'));\r\n        }\r\n    })\r\n\r\n    return (\r\n        <section className={style.authView}>\r\n            <div className={style.cont}>\r\n                <div className={style.mainBox}>\r\n                    <div className={style.create}>\r\n                        <form onSubmit={handleSubmit}>\r\n                            <h2 className={style.authTitle}>CREATE ACCOUNT</h2>\r\n                            {touched.username && errors.username && <div className=\"error\">{errors.username}</div>}\r\n                            <input className={style.user}\r\n                                type=\"text\"\r\n                                placeholder=\"&#128273;  YOUR USERNAME\"\r\n                                name=\"username\"\r\n                                onChange={handleChange}\r\n                                onBlur={handleBlur}\r\n                                value={values.username}\r\n                            />\r\n                            {touched.email && errors.email && <div className=\"error\">{errors.email}</div>}\r\n                            <input className={style.email}\r\n                                type=\"email\"\r\n                                placeholder=\"&#128231; YOUR EMAIL\"\r\n                                name=\"email\"\r\n                                onChange={handleChange}\r\n                                onBlur={handleBlur}\r\n                                value={values.email}\r\n                            />\r\n                            {touched.password && errors.password && <div className=\"error\">{errors.password}</div>}\r\n                            <input className={style.pass}\r\n                                type=\"password\"\r\n                                placeholder=\"&#128274; PASSWORD\"\r\n                                name=\"password\"\r\n                                onChange={handleChange}\r\n                                onBlur={handleBlur}\r\n                                value={values.password}\r\n                            />\r\n                            {touched.repassword && errors.repassword && <div className=\"error\">{errors.repassword}</div>}\r\n                            <input className={style.pass}\r\n                                type=\"password\"\r\n                                placeholder=\"&#128275; CONFIRM PASSWORD\"\r\n                                name=\"repassword\"\r\n                                onChange={handleChange}\r\n                                onBlur={handleBlur}\r\n                                value={values.repassword}\r\n                            />\r\n                            <button type=\"submit\" className={style.auth}>Create Account</button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Register;","import style from '../Auth.module.css';\r\nimport { useRef } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport { authenticate} from '../../../../store/auth-slice';\r\n\r\nfunction Login({\r\n    history\r\n}) {\r\n    const dispatch = useDispatch();\r\n    const emailField = useRef();\r\n    const passwordField = useRef();\r\n\r\n    const onLoginSubmitHandler = async (e) => {\r\n        e.preventDefault();\r\n\r\n        try {\r\n            dispatch(authenticate('LOGIN', {\r\n                email: emailField.current.value,\r\n                password: passwordField.current.value\r\n            }))\r\n                .then(history.push('/'));\r\n        } catch (err) {\r\n            alert(err.message);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <section className={style.authView}>\r\n            <div className={style.cont}>\r\n                <div className={style.mainBox}>\r\n                    <div className={style.create}>\r\n                        <form onSubmit={onLoginSubmitHandler}>\r\n                            <h2 className={style.authTitle}>SIGN UP</h2>\r\n                            <input className={style.email}\r\n                                type=\"email\"\r\n                                name=\"email\"\r\n                                placeholder=\"&#128231; YOUR EMAIL\"\r\n                                ref={emailField}\r\n                            />\r\n                            <input className={style.pass}\r\n                                type=\"password\"\r\n                                name=\"password\"\r\n                                placeholder=\"&#128274; PASSWORD\"\r\n                                ref={passwordField}\r\n                            />\r\n                            <button type=\"submit\" className={style.auth}>LOG IN</button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Login;","import { useState } from 'react';\r\nimport request from '../../utils/api';\r\n\r\nfunction useForm(initialState, URL, optionsConfig) {\r\n    const [state, setState] = useState(initialState);\r\n    const [errorMessage, setErrorMessage] = useState('');\r\n\r\n    const handleChange = (e) => {\r\n        setState({\r\n            ...state,\r\n            [e.target.name]: e.target.value\r\n        });\r\n    }\r\n\r\n    const handleSubmit = async(e) => {\r\n        e.preventDefault();\r\n\r\n        try {\r\n            const data = await request(URL, {\r\n                method: optionsConfig.method,\r\n                headers: optionsConfig.headers,\r\n                body: JSON.stringify({...state })\r\n            });\r\n\r\n            return data;\r\n        } catch (error) {\r\n            setErrorMessage(error.message);\r\n        }\r\n    }\r\n\r\n    const resetForm = () => {\r\n        setState(Object.fromEntries(Object.entries(state).map(([key, value]) => [key, ''])));\r\n    }\r\n\r\n\r\n    return [\r\n        state,\r\n        handleChange,\r\n        handleSubmit,\r\n        resetForm,\r\n        errorMessage,\r\n        setErrorMessage,\r\n    ]\r\n}\r\n\r\nexport default useForm;","import style from '../Decorate.module.css';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport useForm from '../../../CustomHooks/useForm';\r\n\r\n\r\nfunction Create({\r\n    history\r\n}) {\r\n    const userAuthToken = useSelector(state => state.auth.userAuthState.authToken);\r\n\r\n    const [values, handleChange, handleSubmit] = useForm({\r\n        title: '',\r\n        description: '',\r\n        img: '',\r\n        price: 0,\r\n    }, 'https://cars-react-app-server.herokuapp.com/data/movies', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json', 'X-Authorization': userAuthToken }\r\n    });\r\n\r\n    return (\r\n        <section className={style.createPage}>\r\n            <div className={style.createFormWrapper}>\r\n                <h2 className={style.createFormTitle}>CREATE MOVIE ARTICLE</h2>\r\n                <form onSubmit={e => handleSubmit(e).then(history.push('/'))}>\r\n                    <input className={style.movieTitle}\r\n                        type=\"text\"\r\n                        name=\"title\"\r\n                        placeholder=\"ENTER MOVIE TITLE\"\r\n                        onChange={handleChange}\r\n                        value={values.movieTitle}\r\n                    />\r\n                    <textarea className={style.movieDescription}\r\n                        type=\"text\"\r\n                        name=\"description\"\r\n                        placeholder=\"ENTER MOVIE DESCRIPTION\"\r\n                        rows=\"4\"\r\n                        columns=\"50\"\r\n                        onChange={handleChange}\r\n                        value={values.movieDescription}\r\n                    >\r\n                    </textarea>\r\n                    <input className={style.movieImageURL}\r\n                        type=\"text\"\r\n                        name=\"img\"\r\n                        placeholder=\"ENTER MOVIE IMAGE URL\"\r\n                        onChange={handleChange}\r\n                        value={values.img}\r\n                    />\r\n                    <input className={style.moviePrice}\r\n                        type=\"number\"\r\n                        name=\"price\"\r\n                        placeholder=\"ENTER MOVIE PRICE\"\r\n                        onChange={handleChange}\r\n                        value={values.price}\r\n                    />\r\n                    <button className={style.createMovieBtn} type=\"submit\">CREATE</button>\r\n                </form>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Create;","import style from './CommentCard.module.css';\r\n\r\nfunction CommentCard({\r\n    content,\r\n    author,\r\n    deleteCurrentComment\r\n}) {\r\n    return (\r\n        <div className={style.commentUser}>\r\n            <p className={style.commentUserContent}>\r\n                &#128173; {content}\r\n                { deleteCurrentComment && <button onClick={async () => await deleteCurrentComment()} className={style.deleteComment}>&#10006;</button> } \r\n                <i className={style.commentUserName}>- {author}</i>\r\n            </p>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CommentCard;","export const REDUCER_ACTIONS = {\r\n    GET_MOVIE_ARTICLE: 'get-movie-article',\r\n    LOAD_MOVIE_ARTICLE_COMMENTS: 'load-movie-article-comments',\r\n    GET_MOVIE_ARTICLE_LIKES_FROM_USER: 'get-movie-article-likes-from-user',\r\n    MODIFY_MOVIE_ARTICLE_COMMENT: 'modify-movie-article-comment',\r\n    LIKE_MOVIE_ARTICLE: 'like-movie-article',\r\n    GET_MOVIE_ARTICLE_LIKES: 'get-movie-article-likes',\r\n}\r\n\r\nexport const INITIAL_MOVIE_DETAILS_STATE = {\r\n    movieArticle: {},\r\n    movieArticleComments: [],\r\n    movieArticleLikesFromUser: [],\r\n    movieArticleLikes: 0,\r\n    areCommentsLoading: true,\r\n    isFormSubmited: false,\r\n    isLiked: false,\r\n    isMovieLoading: true,\r\n}\r\n\r\nexport default function reducer(state, { type, payload }) {\r\n    switch (type) {\r\n        case REDUCER_ACTIONS.GET_MOVIE_ARTICLE:\r\n            return {\r\n                ...state,\r\n                movieArticle: {\r\n                    _ownerId: payload._ownerId,\r\n                    title: payload.title,\r\n                    description: payload.description,\r\n                    img: payload.img,\r\n                    _id: payload._id,\r\n                    price: payload.price,\r\n                    isAdded: payload.isAdded\r\n                },\r\n                isMovieLoading: false,\r\n            }\r\n        case REDUCER_ACTIONS.LOAD_MOVIE_ARTICLE_COMMENTS:\r\n            return {\r\n                ...state,\r\n                areCommentsLoading: false,\r\n                isFormSubmited: !state.isFormSubmited,\r\n                movieArticleComments: payload\r\n            }\r\n        case REDUCER_ACTIONS.GET_MOVIE_ARTICLE_LIKES_FROM_USER:\r\n            return {\r\n                ...state,\r\n                isLiked: !state.isLiked,\r\n                movieArticleLikesFromUser: payload,\r\n            }\r\n        case REDUCER_ACTIONS.MODIFY_MOVIE_ARTICLE_COMMENT:\r\n            return {\r\n                ...state,\r\n                isFormSubmited: !state.isFormSubmited\r\n            }\r\n        case REDUCER_ACTIONS.LIKE_MOVIE_ARTICLE:\r\n            return {\r\n                ...state,\r\n                isLiked: !state.isLiked\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","import { useRef, useContext } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { DetailsContextProvider } from '../../Details';\r\n\r\nimport { postMovieArticleComment } from '../../../../../utils/requests';\r\nimport { REDUCER_ACTIONS } from '../../reducer';\r\n\r\nimport classes from './CommentForm.module.css';\r\n\r\n\r\nfunction CommentForm() {\r\n    const content = useRef('');\r\n    const authState = useSelector(state => state.auth);\r\n    const { movieArticle, dispatch } = useContext(DetailsContextProvider);\r\n\r\n    const postNewComment = async(e) => {\r\n        e.preventDefault();\r\n\r\n        let contentVal = content.current.value;\r\n\r\n        postMovieArticleComment(authState.userAuthState.authToken, {\r\n            author: authState.userAuthState.username,\r\n            content: contentVal,\r\n            movieId: movieArticle._id\r\n        }).then(res => {\r\n                console.log(res);\r\n                content.current.value = '';\r\n                dispatch({ type: REDUCER_ACTIONS.MODIFY_MOVIE_ARTICLE_COMMENT })\r\n            });\r\n    }\r\n    return (\r\n        (authState.userAuthState.userId !== movieArticle._ownerId && authState.isAuthenticated) &&\r\n        (<form onSubmit={postNewComment}>\r\n            <textarea className={classes.commentInput}\r\n                name=\"content\"\r\n                rows=\"4\"\r\n                cols=\"50\"\r\n                placeholder=\"Enter your expression from this movie\"\r\n                ref={content}\r\n            >\r\n            </textarea>\r\n            <button className={classes.commentSubmit} type=\"submit\">Post comment</button>\r\n        </form>)\r\n    );\r\n}\r\n\r\n\r\nexport default CommentForm;","import { useEffect, useContext } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport style from './CommentSection.module.css';\r\n\r\nimport { DetailsContextProvider } from '../Details';\r\nimport CommentCard from './CommentCard/CommentCard';\r\nimport Loader from '../../../Common/Loader/Loader';\r\nimport { REDUCER_ACTIONS } from '../reducer';\r\n\r\nimport { getMovieArticleComments, deleteMovieArticleComment } from '../../../../utils/requests';\r\nimport CommentForm from './CommentForm/CommentForm';\r\n\r\n\r\nfunction CommentSection() {\r\n    const { movieArticle, isFormSubmited, areCommentsLoading, movieArticleComments, dispatch } = useContext(DetailsContextProvider);\r\n    const currentUserState = useSelector(state => state.auth);\r\n\r\n    useEffect(() => {\r\n        getMovieArticleComments(movieArticle._id)\r\n            .then(movieArticleComments => {\r\n                return dispatch({\r\n                    type: REDUCER_ACTIONS.LOAD_MOVIE_ARTICLE_COMMENTS,\r\n                    payload: movieArticleComments\r\n                })\r\n            });\r\n    }, [movieArticle._id, isFormSubmited, dispatch]);\r\n\r\n    return (\r\n        <div className={style.comments}>\r\n            <h2 className={style.commentTitle}>Leave your comments here: &#128172;</h2>\r\n            {areCommentsLoading ? <Loader /> : movieArticleComments.map((movieArticleComment, index) =>\r\n                <CommentCard\r\n                    key={index}\r\n                    content={movieArticleComment.content}\r\n                    author={movieArticleComment.author}\r\n                    deleteCurrentComment={currentUserState.userAuthState.userId === movieArticleComment._ownerId\r\n                        ? () => {\r\n                            deleteMovieArticleComment(movieArticleComment._id, currentUserState.userAuthState.authToken)\r\n                                .then(dispatch({ type: REDUCER_ACTIONS.MODIFY_MOVIE_ARTICLE_COMMENT }))\r\n                        }\r\n                        : null}\r\n                />)\r\n            }\r\n            <CommentForm />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CommentSection;","import style from './Modal.module.css';\r\n\r\nfunction Modal({ message, closeModalClickHandler, cancelActionHandler }) {\r\n    return (\r\n        <div className={style.overlay}>\r\n            <div className={style.modal}>\r\n                <p className={style.message}>{message}</p>\r\n                <button onClick={closeModalClickHandler} className={style.action}>Okay</button>\r\n                { cancelActionHandler ? <button onClick={cancelActionHandler} className={style.action}>Cancel</button> : null }\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Modal;","import { useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { deleteMovieArticle } from '../../../../../utils/requests';\r\nimport Modal from '../../../../Common/Modal/Modal';\r\n\r\nimport classes from './OwnerButtons.module.css';\r\n\r\nfunction OwnerButtons({ authToken, movieId }) {\r\n    const [errorMessage, setErrorMessage] = useState(null);\r\n\r\n    const history = useHistory();\r\n\r\n    if (errorMessage) {\r\n        return <Modal\r\n            message={errorMessage}\r\n            closeModalClickHandler={() => {\r\n                deleteMovieArticle(movieId, authToken).then(history.push('/'));\r\n            }}\r\n            cancelActionHandler={() => setErrorMessage(null)}\r\n        />\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <button onClick={() => setErrorMessage('Are u sure u want to delete this movieArticle ?!')} className={[classes.movieDetailsBtnDelete, classes.movieBtn].join(' ')}>&#10060; Delete</button>\r\n            <Link to={`/movies/edit/${movieId}`} className={[classes.movieDetailsBtnEdit, classes.movieBtn].join(' ')}>&#9997; Edit</Link>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default OwnerButtons;","import { useEffect, useContext } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { cartSliceActions } from '../../../../../store/cart-slice';\r\nimport { getMovieArticleLikesFromUser, postMovieArticleLike } from '../../../../../utils/requests';\r\nimport { DetailsContextProvider } from '../../Details';\r\nimport { REDUCER_ACTIONS } from '../../reducer';\r\n\r\nimport classes from './UserButtons.module.css';\r\n\r\nfunction UserButtons({ currentAuthState }) {\r\n    const { dispatch, movieArticle, isLiked, movieArticleLikesFromUser } = useContext(DetailsContextProvider);\r\n\r\n    const dispatchRedux = useDispatch();\r\n\r\n    useEffect(() => {\r\n        getMovieArticleLikesFromUser(movieArticle._id, currentAuthState.userAuthState.userId)\r\n            .then(userLikes => {\r\n                return dispatch({\r\n                    type: REDUCER_ACTIONS.GET_MOVIE_ARTICLE_LIKES_FROM_USER,\r\n                    payload: userLikes\r\n                });\r\n            });\r\n    }, [movieArticle._id, currentAuthState.userAuthState.userId, isLiked, dispatch]);\r\n\r\n    const postLikeToAMovieArticle = () => {\r\n        postMovieArticleLike(currentAuthState.userAuthState.authToken, {\r\n            movieId: movieArticle._id\r\n        }).then(dispatch({ type: REDUCER_ACTIONS.LIKE_MOVIE_ARTICLE }));\r\n    };\r\n\r\n    const addToCartClickHandler = () => {\r\n        return dispatchRedux(cartSliceActions.addNewCartItem({\r\n            _id: movieArticle._id,\r\n            title: movieArticle.title,\r\n            description: movieArticle.description,\r\n            img: movieArticle.img,\r\n            price: movieArticle.price,\r\n            quantity: 1\r\n        }));\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {\r\n                !movieArticleLikesFromUser.length &&\r\n                (<>\r\n                    <button onClick={postLikeToAMovieArticle} className={[classes.movieDetailsBtnLike, classes.movieBtn].join(' ')}>Like &#128077;</button>\r\n                </>)\r\n            }\r\n            <button onClick={addToCartClickHandler} className={classes.add}>Add To Cart</button>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default UserButtons;","import { useSelector } from 'react-redux';\r\nimport style from './DetailsButtons.module.css';\r\nimport { useContext } from 'react';\r\n\r\n\r\nimport { DetailsContextProvider } from '../Details';\r\n\r\nimport OwnerButtons from './OwnerButtons/OwnerButtons';\r\nimport UserButtons from './UserButtons/UserButtons';\r\n\r\nfunction DetailsButtons() {\r\n    const { movieArticle } = useContext(DetailsContextProvider);\r\n\r\n    const currentAuthState = useSelector(state => state.auth);\r\n    const authToken = currentAuthState.userAuthState.authToken;\r\n\r\n\r\n    return (\r\n        <div className={style.movieDetailsButtonWrapper}>\r\n            {\r\n                !currentAuthState.isAuthenticated\r\n                    ? null\r\n                    : currentAuthState.userAuthState.userId !== movieArticle._ownerId\r\n                        ?\r\n                        <>\r\n                            <UserButtons currentAuthState={currentAuthState} />\r\n                        </>\r\n                        :\r\n                        <>\r\n                            <OwnerButtons authToken={authToken} movieId={movieArticle._id} />\r\n                        </>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default DetailsButtons;","import { useEffect, useReducer, Fragment, createContext } from 'react';\r\n\r\nimport { useParams } from 'react-router-dom';\r\nimport style from './Details.module.css';\r\n\r\nimport CommentSection from './CommentSection/CommentSection';\r\nimport DetailsButtons from './DetailsButtons/DetailsButtons';\r\n\r\nimport reducer, { INITIAL_MOVIE_DETAILS_STATE, REDUCER_ACTIONS } from \"./reducer\";\r\n\r\nimport Loader from '../../Common/Loader/Loader';\r\nimport { getSpecificMovieArticle } from '../../../utils/requests';\r\n\r\nexport const DetailsContextProvider = createContext('NO CURRENT CONTEXT PROVIDER');\r\n\r\n\r\nfunction Details() {\r\n    const { movieId } = useParams();\r\n    const [details, dispatch] = useReducer(reducer, INITIAL_MOVIE_DETAILS_STATE);\r\n\r\n    useEffect(() => {\r\n        getSpecificMovieArticle(movieId)\r\n            .then(movieDetails => {\r\n                return dispatch({\r\n                    type: REDUCER_ACTIONS.GET_MOVIE_ARTICLE,\r\n                    payload: {\r\n                        _ownerId: movieDetails._ownerId,\r\n                        title: movieDetails.title,\r\n                        description: movieDetails.description,\r\n                        img: movieDetails.img,\r\n                        _id: movieDetails._id,\r\n                        price: movieDetails.price,\r\n                        isAdded: movieDetails.isAdded\r\n                    }\r\n                })\r\n            });\r\n    }, [movieId]);\r\n\r\n    return (\r\n        <Fragment>\r\n            {details.isMovieLoading\r\n                ? <Loader />\r\n                : <section>\r\n                    <div className={style.movieContainer}>\r\n                        <h1 className={style.movieDetailsTitle}>Movie title: {details.movieArticle.title}</h1>\r\n                        <img className={style.movieDetailsImg} src={details.movieArticle.img} alt=\"movie\" />\r\n                        <div className={style.movieDetailsInfo}>\r\n                            <h3 className={style.movieDetailsInfoImg}>Movie Description</h3>\r\n                            <p className={style.movieDetailsInfoParagraph}>\r\n                                {details.movieArticle.description}\r\n                            </p>\r\n                            <DetailsContextProvider.Provider value={{\r\n                                ...details,\r\n                                dispatch\r\n                            }}>\r\n                                <DetailsButtons />\r\n                                <CommentSection />\r\n                            </DetailsContextProvider.Provider>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            }\r\n        </Fragment>\r\n    );\r\n}\r\n\r\n\r\nexport default Details;\r\n","import style from '../Decorate.module.css';\r\nimport { useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\n\r\nimport { getSpecificMovieArticle, updateMovieArticle } from '../../../../utils/requests'\r\n\r\nfunction Edit() {\r\n    const [details, setDetails] = useState({});\r\n    const { movieId } = useParams();\r\n    const history = useHistory();\r\n    const authToken = useSelector(state => state.auth.userAuthState.authToken);\r\n\r\n    useEffect(() => {\r\n        return getSpecificMovieArticle(movieId).then(setDetails);\r\n    }, [movieId]);\r\n\r\n    const onEditMovieArticleSubmitHandler = async (e) => {\r\n        e.preventDefault();\r\n        const { title, description, img, price } = e.target;\r\n\r\n        return updateMovieArticle(movieId, authToken, {\r\n            title: title.value,\r\n            description: description.value,\r\n            img: img.value,\r\n            price: Number(price.value),\r\n        })\r\n            .then(history.push(`/movies/details/${movieId}`));\r\n    }\r\n\r\n    return (\r\n        <section className={style.createPage}>\r\n            <div className={style.createFormWrapper}>\r\n                <h2 className={style.createFormTitle}>EDIT MOVIE ARTICLE</h2>\r\n                <form onSubmit={onEditMovieArticleSubmitHandler}>\r\n                    <input className={style.movieTitle}\r\n                        type=\"text\"\r\n                        name=\"title\"\r\n                        placeholder=\"ENTER MOVIE TITLE\"\r\n                        defaultValue={details.title}\r\n                    />\r\n                    <textarea className={style.movieDescription}\r\n                        type=\"text\"\r\n                        name=\"description\"\r\n                        placeholder=\"ENTER MOVIE DESCRIPTION\"\r\n                        rows=\"4\"\r\n                        columns=\"50\"\r\n                        defaultValue={details.description}\r\n                    >\r\n                    </textarea>\r\n                    <input className={style.movieImageURL}\r\n                        type=\"text\"\r\n                        name=\"img\"\r\n                        placeholder=\"ENTER MOVIE IMAGE URL\"\r\n                        defaultValue={details.img}\r\n                    />\r\n                    <input className={style.moviePrice}\r\n                        type=\"number\"\r\n                        name=\"price\"\r\n                        placeholder=\"ENTER MOVIE PRICE\"\r\n                        defaultValue={details.price}\r\n                    />\r\n                    <button className={style.createMovieBtn} type=\"submit\">EDIT</button>\r\n                </form>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Edit;","import { useState, useEffect } from \"react\";\r\nimport Loader from \"../../Common/Loader/Loader\";\r\nimport MovieCard from \"../Home/MovieCard/MovieCard\";\r\n\r\nimport classes from \"./Filter.module.css\";\r\n\r\nimport { getMovieArticles } from '../../../utils/requests';\r\n\r\nfunction Filter() {\r\n    const [searchResults, setSearchResults] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [searchInput, setSearchInput] = useState('');\r\n\r\n    useEffect(() => {\r\n        getMovieArticles()\r\n            .then(data => {\r\n                const results = data.reduce((accumulator, object) => {\r\n                    let str = '';\r\n                    for (let key in object) {\r\n                        if (key === 'title' || key === 'description') {\r\n                            str += object[key];\r\n                        }\r\n                    }\r\n\r\n                    if (str.toLowerCase().includes(searchInput.toLowerCase())) {\r\n                        accumulator.push(object);\r\n                    }\r\n\r\n                    return accumulator;\r\n                }, []);\r\n\r\n                // console.log(results);\r\n                setSearchResults(results);\r\n            })\r\n            .catch(err => console.error(err))\r\n            .finally(setLoading(false));\r\n    }, [searchInput]);\r\n\r\n    return (\r\n        <div className={classes.main}>\r\n            <form className={`form-group ${classes.hasSearch}`}>\r\n                <h3 className={classes.field}>Search Your Favourite Movie</h3>\r\n                <span className={classes.formControlFeedback}></span>\r\n                <input\r\n                    type=\"text\"\r\n                    className={classes.formControl}\r\n                    placeholder=\"Search\"\r\n                    value={searchInput}\r\n                    onChange={e => setSearchInput(e.target.value)}\r\n                />\r\n            </form>\r\n            <div className={classes.flex}>\r\n                {\r\n                    loading\r\n                        ? <Loader />\r\n                        : !searchResults.length\r\n                            ? <p className={classes.notFound}>No currently found results from your search :(</p>\r\n                            : searchResults.map((result, index) => (\r\n                                <MovieCard key={index} {...result} />\r\n                            ))\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter;","import classes from './CartItem.module.css';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport { cartSliceActions } from '../../../../store/cart-slice';\r\n\r\nfunction CartItem({\r\n    title,\r\n    description,\r\n    img,\r\n    quantity,\r\n    price,\r\n    _id\r\n}) {\r\n    const dispatch = useDispatch();\r\n\r\n    return (\r\n        <div className={classes.cartItem}>\r\n            <img className={classes.cartItemImg} src={img} alt=\"item\" />\r\n            <div className={classes.cartItemDetails}>\r\n                <p className={classes.cartItemTitle}>{title}</p>\r\n                <p className={classes.cartItemDescription}>{description}</p>\r\n                <p className={classes.cartItemPrice}>$ {price}</p>\r\n            </div>\r\n            <div className={classes.cartActions}>\r\n                <div className={classes.cartQuantity}>\r\n                    <button onClick={() =>\r\n                        dispatch(cartSliceActions.addNewCartItem({\r\n                            _id,\r\n                            title,\r\n                            description,\r\n                            price,\r\n                            img,\r\n                            quantity\r\n                        }))} className={classes.manipulate}>&#8593;</button>\r\n                    <label htmlFor=\"qty\">{quantity}</label>\r\n                    <button onClick={() => dispatch(cartSliceActions.decreaseCartItemQuantity(_id))} className={classes.manipulate}>&#8595;</button>\r\n                </div>\r\n                <button onClick={() => dispatch(cartSliceActions.deleteCartItem(_id))} className={classes.cartDelete}>\r\n                    &#10060;\r\n                </button>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default CartItem;","import { useSelector, useDispatch } from 'react-redux';\r\nimport { useState } from 'react';\r\n\r\nimport CartItem from './CartItem/CartItem';\r\nimport { cartSliceActions } from '../../../store/cart-slice';\r\n\r\nimport classes from './Cart.module.css';\r\nimport Modal from '../../Common/Modal/Modal';\r\n\r\nfunction Cart({\r\n    history\r\n}) {\r\n    const [proccedToCheckout, setProccedToCheckout] = useState(null);\r\n\r\n    const cartItems = useSelector(state => state.cart.items);\r\n    const totalQuantity = useSelector(state => state.cart.totalQuantity);\r\n    const totalPrice = useSelector(state => state.cart.totalPrice);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    if (proccedToCheckout !== null) {\r\n        return (\r\n            <Modal\r\n                message={proccedToCheckout}\r\n                closeModalClickHandler={() => {\r\n                    dispatch(cartSliceActions.removeCartItems());\r\n                    history.push('/');\r\n                }}\r\n            />\r\n        )\r\n    }\r\n    return (\r\n        <div className={classes.cartWrapper}>\r\n            {\r\n                cartItems.map((cartItem, index) => {\r\n                    return <CartItem key={index} {...cartItem} />\r\n                })\r\n            }\r\n            <div className={classes.summary}>\r\n                <h4 className={classes.summaryTitle}>Cart Summary</h4>\r\n                <div className={classes.summaryDetails}>\r\n                    <span className={classes.totalItems}>TOTAL: ({totalQuantity} items)</span>\r\n                    <span className={classes.totalPrice}>$ {totalPrice}</span>\r\n                </div>\r\n                <button onClick={() => setProccedToCheckout('YOUR ORDER HAS BEEN ACCEPTED!')} className={classes.summaryBtn}>\r\n                    Proceed To Checkout\r\n                </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Cart;","import { Switch, Route } from 'react-router-dom';\r\n\r\nimport Home from './Home/Home';\r\nimport Register from './Auth/Register/Register';\r\nimport Login from './Auth/Login/Login';\r\nimport Create from './Decorate/Create/Create';\r\nimport Details from './Details/Details';\r\nimport Edit from './Decorate/Edit/Edit';\r\nimport Filter from './Filter/Filter';\r\nimport Cart from './Cart/Cart';\r\n\r\nfunction Main() {\r\n    return (\r\n        <Switch>\r\n            <Route path=\"/\" exact component={Home} />\r\n            <Route path=\"/auth/register\" exact component={Register} />\r\n            <Route path=\"/auth/login\" exact component={Login} />\r\n            <Route path=\"/movies/create\" exact component={Create} />\r\n            <Route path=\"/movies/details/:movieId\" exact component={Details} />\r\n            <Route path=\"/movies/edit/:movieId\" exact component={Edit} />\r\n            <Route path=\"/filter\" exact component={Filter} />\r\n            <Route path=\"/cart\" exact component={Cart} />\r\n        </Switch>\r\n    );\r\n}\r\n\r\nexport default Main;","import './App.css';\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { authSliceActions } from './store/auth-slice';\n\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nimport Header from './components/Header/Header';\nimport Main from './components/Main/Main';\n\nfunction App() {\n    const dispatch = useDispatch();\n    const authState = useSelector(state => state.auth); // { isAuthenticated: false, userAuthState: {} }\n\n    useEffect(() => {\n        const authStateFromLocalStorege = JSON.parse(localStorage.getItem('user')) || {\n            userAuthState: {\n                authToken: null,\n                userId: null,\n                username: null\n            },\n            isAuthenticated: false\n        }\n\n        dispatch(authSliceActions.setUserState({\n            isAuthenticated: authStateFromLocalStorege.isAuthenticated,\n            userAuthState: authStateFromLocalStorege.userAuthState\n        }));\n    }, [dispatch]);\n\n\n    useEffect(() => {\n        localStorage.setItem('user', JSON.stringify(authState));\n    }, [authState]);\n\n    return (\n        <Router>\n            <Header />\n            <Main />\n        </Router>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { configureStore } from '@reduxjs/toolkit';\r\n\r\nimport authSlice from './auth-slice';\r\nimport cartSlice from './cart-slice';\r\n\r\nconst store = configureStore({\r\n    reducer: {\r\n        auth: authSlice.reducer,\r\n        cart: cartSlice.reducer\r\n    }\r\n});\r\n\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport store from './store/index';\nimport { Provider } from 'react-redux';\n\nReactDOM.render(\n    <React.StrictMode >\n        <Provider store={store}>\n            <App />\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();","// extracted by mini-css-extract-plugin\nmodule.exports = {\"movieCard\":\"MovieCard_movieCard__2xRsx\",\"movieCardTitle\":\"MovieCard_movieCardTitle__1pj1T\",\"movieCardImage\":\"MovieCard_movieCardImage__1JM2n\",\"movieCardButton\":\"MovieCard_movieCardButton__tbmFH\",\"movieLikes\":\"MovieCard_movieLikes__3TvS0\",\"movieComments\":\"MovieCard_movieComments__16S-H\",\"price\":\"MovieCard_price__3wA7o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Filter_main__VEfL8\",\"hasSearch\":\"Filter_hasSearch___9ofW\",\"formControl\":\"Filter_formControl__17WuO\",\"field\":\"Filter_field__3CLR8\",\"formControlFeedback\":\"Filter_formControlFeedback__1cCqt\",\"notFound\":\"Filter_notFound__3PVCD\",\"flex\":\"Filter_flex__nYYrG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cartWrapper\":\"Cart_cartWrapper__8Sa7Q\",\"summary\":\"Cart_summary__1fLHf\",\"summaryTitle\":\"Cart_summaryTitle__oTaBB\",\"summaryDetails\":\"Cart_summaryDetails__UI7mY\",\"totalItems\":\"Cart_totalItems__jMlvo\",\"totalPrice\":\"Cart_totalPrice__3hlAx\",\"summaryBtn\":\"Cart_summaryBtn__3W7lP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"movieContainer\":\"Details_movieContainer__bXLeu\",\"movieDetailsImg\":\"Details_movieDetailsImg__HdUz9\",\"movieDetailsTitle\":\"Details_movieDetailsTitle__fsiae\",\"movieDetailsInfo\":\"Details_movieDetailsInfo__1pco2\",\"movieDetailsInfoImg\":\"Details_movieDetailsInfoImg__1C1Zm\",\"movieDetailsInfoParagraph\":\"Details_movieDetailsInfoParagraph__kE1fQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1vrlA\",\"modal\":\"Modal_modal__1avHu\",\"action\":\"Modal_action__3uZn8\",\"message\":\"Modal_message__77rZH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"homePage\":\"MoviesForum_homePage__3zcuu\",\"moviesBackgroundImage\":\"MoviesForum_moviesBackgroundImage__32-7u\",\"moviesForumTitle\":\"MoviesForum_moviesForumTitle__1QG1M\",\"moviesForumDescription\":\"MoviesForum_moviesForumDescription__1ioAS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"commentUser\":\"CommentCard_commentUser__NVcTS\",\"commentUserContent\":\"CommentCard_commentUserContent__2iR1j\",\"commentUserName\":\"CommentCard_commentUserName__Ranbw\",\"deleteComment\":\"CommentCard_deleteComment__3AbPF\",\"delete\":\"CommentCard_delete__jjNbJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"movieBtn\":\"OwnerButtons_movieBtn__3xYKG\",\"movieDetailsBtnDelete\":\"OwnerButtons_movieDetailsBtnDelete__1vILQ\",\"movieDetailsBtnEdit\":\"OwnerButtons_movieDetailsBtnEdit__jceXy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"movieBtn\":\"UserButtons_movieBtn__3nfS0\",\"movieDetailsBtnLike\":\"UserButtons_movieDetailsBtnLike__HtgJ1\",\"add\":\"UserButtons_add__1RXCG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logo\":\"Logo_logo__2DDgH\",\"navListLink\":\"Logo_navListLink__3iPSU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"comments\":\"CommentSection_comments__1X8sj\",\"commentTitle\":\"CommentSection_commentTitle__1PSk6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"commentInput\":\"CommentForm_commentInput__hfKgB\",\"commentSubmit\":\"CommentForm_commentSubmit__2yK6V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__39cre\"};"],"sourceRoot":""}